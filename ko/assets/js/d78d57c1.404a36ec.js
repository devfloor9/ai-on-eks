"use strict";(globalThis.webpackChunkdoeks_website=globalThis.webpackChunkdoeks_website||[]).push([[1512],{8594(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"guidance/benchmarking/test-scenarios/real-dataset-testing","title":"\uc2dc\ub098\ub9ac\uc624 5: \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8","description":"\uc774 \uc2dc\ub098\ub9ac\uc624\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub294 \uacbd\uc6b0:","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/guidance/benchmarking/4-test-scenarios/5-real-dataset-testing.md","sourceDirName":"guidance/benchmarking/4-test-scenarios","slug":"/guidance/benchmarking/test-scenarios/real-dataset-testing","permalink":"/ai-on-eks/ko/docs/guidance/benchmarking/test-scenarios/real-dataset-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/awslabs/ai-on-eks/blob/main/website/docs/guidance/benchmarking/4-test-scenarios/5-real-dataset-testing.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_label":"\uc2dc\ub098\ub9ac\uc624 5 - \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8"},"sidebar":"guidance","previous":{"title":"\uc2dc\ub098\ub9ac\uc624 4 - \ud504\ub85c\ub355\uc158 \uc2dc\ubbac\ub808\uc774\uc158","permalink":"/ai-on-eks/ko/docs/guidance/benchmarking/test-scenarios/production-simulation"},"next":{"title":"\ub9ac\uc18c\uc2a4","permalink":"/ai-on-eks/ko/docs/guidance/benchmarking/resources/"}}');var s=t(74848),r=t(28453);const i={sidebar_label:"\uc2dc\ub098\ub9ac\uc624 5 - \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8"},o="\uc2dc\ub098\ub9ac\uc624 5: \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8",c={},l=[{value:"\uc774 \uc2dc\ub098\ub9ac\uc624\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub294 \uacbd\uc6b0:",id:"\uc774-\uc2dc\ub098\ub9ac\uc624\ub97c-\uc0ac\uc6a9\ud574\uc57c-\ud558\ub294-\uacbd\uc6b0",level:2},{value:"\ubc30\ud3ec",id:"\ubc30\ud3ec",level:2},{value:"Helm \ucc28\ud2b8 \uc0ac\uc6a9 (\uad8c\uc7a5)",id:"helm-\ucc28\ud2b8-\uc0ac\uc6a9-\uad8c\uc7a5",level:3},{value:"\uc0ac\uc6a9\uc790 \uc815\uc758 \ub370\uc774\ud130\uc14b \uc0ac\uc6a9",id:"\uc0ac\uc6a9\uc790-\uc815\uc758-\ub370\uc774\ud130\uc14b-\uc0ac\uc6a9",level:3},{value:"\uc8fc\uc694 \uad6c\uc131:",id:"\uc8fc\uc694-\uad6c\uc131",level:2},{value:"\uacb0\uacfc \uc774\ud574:",id:"\uacb0\uacfc-\uc774\ud574",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\uc2dc\ub098\ub9ac\uc624-5-\uc2e4\uc81c-\ub370\uc774\ud130\uc14b-\ud14c\uc2a4\ud2b8",children:"\uc2dc\ub098\ub9ac\uc624 5: \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8"})}),"\n",(0,s.jsx)(n.h2,{id:"\uc774-\uc2dc\ub098\ub9ac\uc624\ub97c-\uc0ac\uc6a9\ud574\uc57c-\ud558\ub294-\uacbd\uc6b0",children:"\uc774 \uc2dc\ub098\ub9ac\uc624\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub294 \uacbd\uc6b0:"}),"\n",(0,s.jsx)(n.p,{children:'\uc2e4\uc81c \uc0ac\uc6a9\uc790 \ud504\ub86c\ud504\ud2b8\uc640 \ucffc\ub9ac \ud328\ud134\uc73c\ub85c \ud504\ub85c\ub355\uc158 \uc900\ube44 \uc131\ub2a5\uc744 \uac80\uc99d\ud558\uae30 \uc704\ud574 \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8\ub97c \uc0ac\uc6a9\ud558\uc2ed\uc2dc\uc624. \uc774\uac83\uc740 \ubaa8\ub378\uc774 \ud2b9\uc815 \ub300\ud654 \ud328\ud134\uc5d0 \ub9de\uac8c \ubbf8\uc138 \uc870\uc815\ub418\uc5c8\uc744 \ub54c, \uc2e4\uc81c \uc131\ub2a5 \ubcf4\uc7a5\uc774 \uc788\ub294 \ubaa8\ub378 \ubc84\uc804\uc744 \ube44\uad50\ud560 \ub54c, \ub610\ub294 \uc774\ud574\uad00\uacc4\uc790\uc5d0\uac8c "\uc774\uac83\uc740 \uc774\ub860\uc801 \ub370\uc774\ud130\uac00 \uc544\ub2cc \uc2e4\uc81c \ub300\ud654\uc5d0\uc11c \uc5b4\ub5bb\uac8c \uc218\ud589\ub418\ub294\uc9c0\uc785\ub2c8\ub2e4"\ub77c\uace0 \ub9d0\ud574\uc57c \ud560 \ub54c \ud544\uc218\uc801\uc785\ub2c8\ub2e4. \ubd84\ud3ec\uc5d0 \ub300\ud55c \uc81c\uc5b4\uac00 \uc801\uc5b4\uc9c0\ub294 \ud2b8\ub808\uc774\ub4dc\uc624\ud504\uac00 \uc788\uc9c0\ub9cc, \uc9c4\uc815\uc131\uacfc \ud569\uc131 \ub370\uc774\ud130\uac00 \ub193\uce58\ub294 \uc5e3\uc9c0 \ucf00\uc774\uc2a4\ub97c \ubc1c\uacac\ud558\ub294 \ub2a5\ub825\uc744 \uc5bb\uc2b5\ub2c8\ub2e4.'}),"\n",(0,s.jsx)(n.h2,{id:"\ubc30\ud3ec",children:"\ubc30\ud3ec"}),"\n",(0,s.jsx)(n.h3,{id:"helm-\ucc28\ud2b8-\uc0ac\uc6a9-\uad8c\uc7a5",children:"Helm \ucc28\ud2b8 \uc0ac\uc6a9 (\uad8c\uc7a5)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# AI on EKS Helm \uc800\uc7a5\uc18c \ucd94\uac00\nhelm repo add ai-on-eks https://awslabs.github.io/ai-on-eks-charts/\nhelm repo update\n\n# ShareGPT \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8\ub294 \ub3d9\uc77c\ud55c \uc2dc\ub098\ub9ac\uc624\ub97c \uc0ac\uc6a9\ud558\uc9c0\ub9cc \uc2e4\uc81c \ub370\uc774\ud130 \uc0ac\uc6a9\nhelm install sharegpt-test ai-on-eks/benchmark-charts \\\n  --set benchmark.scenario=baseline \\\n  --set benchmark.target.baseUrl=http://qwen3-vllm.default:8000 \\\n  --set benchmark.target.modelName=qwen3-8b \\\n  --set benchmark.target.tokenizerPath=Qwen/Qwen3-8B \\\n  --namespace benchmarking --create-namespace\n\n# \uc790\uc5f0\uc2a4\ub7ec\uc6b4 \ub300\ud654 \ubcf5\uc7a1\uc131 \ud328\ud134 \ubaa8\ub2c8\ud130\ub9c1\nkubectl logs -n benchmarking -l app.kubernetes.io/component=benchmark -f\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ucc38\uace0:"})," \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8\ub294 \uc2dc\ub098\ub9ac\uc624 1-4\uc640 \ub3d9\uc77c\ud55c \ubd80\ud558 \ud328\ud134\uc744 \uc0ac\uc6a9\ud558\uc9c0\ub9cc, ",(0,s.jsx)(n.code,{children:"data.type: synthetic"})," \ub300\uc2e0 ",(0,s.jsx)(n.code,{children:"data.type: shareGPT"}),"\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \ubaa8\ub4e0 \uc2dc\ub098\ub9ac\uc624(baseline, saturation, sweep \ub610\ub294 production)\uc5d0 \uc2e4\uc81c \ub370\uc774\ud130\ub97c \uc801\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h3,{id:"\uc0ac\uc6a9\uc790-\uc815\uc758-\ub370\uc774\ud130\uc14b-\uc0ac\uc6a9",children:"\uc0ac\uc6a9\uc790 \uc815\uc758 \ub370\uc774\ud130\uc14b \uc0ac\uc6a9"}),"\n",(0,s.jsx)(n.p,{children:"\uc790\uccb4 \ub300\ud654 \ub370\uc774\ud130\uc14b \uc81c\uacf5:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# custom-dataset.yaml\nbenchmark:\n  scenario: saturation  # \ub610\ub294 \ub2e4\ub978 \uc2dc\ub098\ub9ac\uc624\n  target:\n    baseUrl: http://your-model.your-namespace:8000\n  # \uc0ac\uc6a9\uc790 \uc815\uc758 \ub370\uc774\ud130\uc14b\uc744 \uc0ac\uc6a9\ud558\ub3c4\ub85d \ub370\uc774\ud130 \uad6c\uc131 \uc7ac\uc815\uc758\n  customData:\n    enabled: true\n    type: custom\n    path: /path/to/your/conversations.json\n    format: sharegpt  # \ub610\ub294 openai, alpaca \ub4f1\n"})}),"\n",(0,s.jsx)(n.p,{children:"\uc0ac\uc6a9\uc790 \uc815\uc758 \ub370\uc774\ud130\uc14b\uc758 \uacbd\uc6b0 ConfigMap \ub610\ub294 PersistentVolume\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub370\uc774\ud130 \ud30c\uc77c\uc744 \ubca4\uce58\ub9c8\ud06c Pod\uc5d0 \ub9c8\uc6b4\ud2b8\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"\uc8fc\uc694-\uad6c\uc131",children:"\uc8fc\uc694 \uad6c\uc131:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ShareGPT \uc2e4\uc81c \ub300\ud654 \ub370\uc774\ud130\uc14b (\uc120\ud0dd\ud55c \uc2dc\ub098\ub9ac\uc624\uc5d0 \ub530\ub77c \ub2e4\ub984)"}),"\n",(0,s.jsx)(n.li,{children:"\ubaa8\ub4e0 \ubd80\ud558 \ud328\ud134 (constant/poisson, \uc120\ud0dd\ud55c \uc2dc\ub098\ub9ac\uc624\uc5d0 \ub530\ub77c \ub2e4\ub984)"}),"\n",(0,s.jsx)(n.li,{children:"\uc2a4\ud2b8\ub9ac\ubc0d \ud65c\uc131\ud654"}),"\n",(0,s.jsx)(n.li,{children:"\uc790\uc5f0\uc2a4\ub7ec\uc6b4 \ub300\ud654 \ubcf5\uc7a1\uc131 \ubc0f \uae38\uc774 \ubd84\uc0b0"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\uacb0\uacfc-\uc774\ud574",children:"\uacb0\uacfc \uc774\ud574:"}),"\n",(0,s.jsx)(n.p,{children:'\uc2e4\uc81c \ub300\ud654\ub294 \ud569\uc131 \ub370\uc774\ud130\uc5d0 \uc5c6\ub294 \uc790\uc5f0\uc2a4\ub7ec\uc6b4 \ubcf5\uc7a1\uc131 \ud328\ud134\uacfc \uc5e3\uc9c0 \ucf00\uc774\uc2a4\ub97c \ub4dc\ub7ec\ub0c5\ub2c8\ub2e4. \ub290\ub9b0 \ucc98\ub9ac\ub97c \uc720\ubc1c\ud558\ub294 \ubb38\uc81c\uac00 \uc788\ub294 \ub300\ud654 \uad6c\uc870\ub098 \ud45c\ud604\uc744 \ub178\ucd9c\ud558\ub294 \uc9c0\uc5f0 \uc2dc\uac04 \uc774\uc0c1\uce58\ub97c \ucc3e\uc73c\uc2ed\uc2dc\uc624. \uc720\uc0ac\ud55c QPS\uc5d0\uc11c \uc2e4\uc81c \ub370\uc774\ud130 \uc131\ub2a5\uc744 \ud569\uc131 \ud14c\uc2a4\ud2b8\uc640 \ube44\uad50\ud558\uc2ed\uc2dc\uc624; \uc0c1\ub2f9\ud55c \uc800\ud558\ub294 \uc2e4\uc81c \ub300\ud654\uac00 \ud569\uc131 \ub9e4\uac1c\ubcc0\uc218\uac00 \uac00\uc815\ud55c \uac83\ubcf4\ub2e4 \ub354 \ubcf5\uc7a1\ud568\uc744 \uc2dc\uc0ac\ud558\uba70, \ud5a5\ud6c4 \ud569\uc131 \ud14c\uc2a4\ud2b8\ub97c \ubcf4\uc815\ud558\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4. \ub2e4\uc911 \ud134 \ub300\ud654\uc758 \uc790\uc5f0\uc2a4\ub7ec\uc6b4 \ucee8\ud14d\uc2a4\ud2b8 \uae38\uc774 \ubd84\uc0b0\uc73c\ub85c \uc778\ud574 TTFT \ubcc0\ub3d9\uc131\uc774 \ub354 \ub192\uc544\uc9c0\uba70, \ud2b9\uc815 \ub300\ud654 \uc720\ud615\uc5d0 \ub300\ud55c \uc77c\uad00\ub41c \uc624\ub958 \ud328\ud134\uc740 \ud45c\uc801\ud654\ub41c \ucd5c\uc801\ud654\uac00 \ud544\uc694\ud55c \ud504\ub85c\ub355\uc158 \ucde8\uc57d\uc810\uc744 \ub4dc\ub7ec\ub0c5\ub2c8\ub2e4. \ud569\uc131 \ub370\uc774\ud130\uac00 \uc544\ub2cc \uc2e4\uc81c \ub370\uc774\ud130\ub97c \uae30\ubc18\uc73c\ub85c \uc774\ud574\uad00\uacc4\uc790 \uc57d\uc18d\uc744 \uc704\ud55c \uae30\uc900\uc73c\ub85c \uc774\ub7ec\ud55c \uacb0\uacfc\ub97c \uc0ac\uc6a9\ud558\uc2ed\uc2dc\uc624. "P99 \uc9c0\uc5f0 \uc2dc\uac04\uc740 X\uc785\ub2c8\ub2e4"\ub77c\ub294 \uc57d\uc18d\uc744 \ud569\uc131\uc774 \uc544\ub2cc \uc2e4\uc81c \ub370\uc774\ud130\ub97c \uae30\ubc18\uc73c\ub85c \ud558\uc2ed\uc2dc\uc624.'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\uc911\uc694:"})," \ub4dc\ub9ac\ud504\ud2b8\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574 \ucd5c\uadfc \uc775\uba85\ud654\ub41c \ud504\ub85c\ub355\uc158 \uc0d8\ud50c\ub85c \ud14c\uc2a4\ud2b8 \ub370\uc774\ud130\uc14b\uc744 \uc815\uae30\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ud558\uc2ed\uc2dc\uc624. \ubca4\uce58\ub9c8\ud06c \ub370\uc774\ud130\uc14b\uc774 6\uac1c\uc6d4 \uc804\uc774\uc9c0\ub9cc \uc0ac\uc6a9\uc790 \ud589\ub3d9\uc774 \ub354 \uae34 \ud504\ub86c\ud504\ud2b8\ub85c \ubc14\ub00c\uc5c8\ub2e4\uba74 \uc131\ub2a5 \uc608\uce21\uc774 \ubd80\uc815\ud655\ud560 \uac83\uc785\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"\ub300\uc548: \uc6d0\uc2dc Kubernetes YAML"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: inference-perf-sharegpt\n  namespace: benchmarking\ndata:\n  config.yml: |\n    api:\n      type: completion\n      streaming: true\n\n    data:\n      type: shareGPT  # \uc2e4\uc81c \ub300\ud654 \ub370\uc774\ud130\n\n    load:\n      type: constant\n      stages:\n        - rate: 10\n          duration: 300\n      num_workers: 4\n\n    server:\n      type: vllm\n      model_name: qwen3-8b\n      base_url: http://qwen3-vllm.default:8000\n      ignore_eos: true\n\n    tokenizer:\n      pretrained_model_name_or_path: Qwen/Qwen3-8B\n\n    storage:\n      simple_storage_service:\n        bucket_name: "inference-perf-results"\n        path: "sharegpt-test/results"\n---\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: inference-perf-sharegpt\n  namespace: benchmarking\nspec:\n  backoffLimit: 2\n  ttlSecondsAfterFinished: 3600\n  template:\n    spec:\n      restartPolicy: Never\n      serviceAccountName: inference-perf-sa\n\n      affinity:\n        podAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n          - labelSelector:\n              matchLabels:\n                app.kubernetes.io/component: qwen3-vllm\n            topologyKey: topology.kubernetes.io/zone\n\n      containers:\n      - name: inference-perf\n        image: quay.io/inference-perf/inference-perf:v0.2.0\n        command: ["/bin/sh", "-c"]\n        args:\n        - |\n          inference-perf --config_file /workspace/config.yml\n        volumeMounts:\n        - name: config\n          mountPath: /workspace/config.yml\n          subPath: config.yml\n        resources:\n          requests:\n            cpu: "2"\n            memory: "4Gi"\n          limits:\n            cpu: "4"\n            memory: "8Gi"\n\n      volumes:\n      - name: config\n        configMap:\n          name: inference-perf-sharegpt\n'})})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453(e,n,t){t.d(n,{R:()=>i,x:()=>o});var a=t(96540);const s={},r=a.createContext(s);function i(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);