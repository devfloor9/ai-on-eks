"use strict";(globalThis.webpackChunkdoeks_website=globalThis.webpackChunkdoeks_website||[]).push([[3441],{95749(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"guidance/benchmarking/resources/index","title":"\ub9ac\uc18c\uc2a4","description":"Helm \ucc28\ud2b8 \uc800\uc7a5\uc18c","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/guidance/benchmarking/5-resources/index.md","sourceDirName":"guidance/benchmarking/5-resources","slug":"/guidance/benchmarking/resources/","permalink":"/ai-on-eks/ko/docs/guidance/benchmarking/resources/","draft":false,"unlisted":false,"editUrl":"https://github.com/awslabs/ai-on-eks/blob/main/website/docs/guidance/benchmarking/5-resources/index.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"\ub9ac\uc18c\uc2a4"},"sidebar":"guidance","previous":{"title":"\uc2dc\ub098\ub9ac\uc624 5 - \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8","permalink":"/ai-on-eks/ko/docs/guidance/benchmarking/test-scenarios/real-dataset-testing"},"next":{"title":"Amazon EKS\uc5d0\uc11c AI/ML \ucd94\ub860 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \ucf5c\ub4dc \uc2a4\ud0c0\ud2b8 \ubb38\uc81c \ud574\uacb0","permalink":"/ai-on-eks/ko/docs/guidance/container-startup-time/"}}');var i=r(74848),s=r(28453);const c={sidebar_label:"\ub9ac\uc18c\uc2a4"},t="\ub9ac\uc18c\uc2a4",o={},l=[{value:"Helm \ucc28\ud2b8 \uc800\uc7a5\uc18c",id:"helm-\ucc28\ud2b8-\uc800\uc7a5\uc18c",level:2},{value:"values.yaml\uc744 \ud1b5\ud55c \uc0ac\uc6a9\uc790 \uc815\uc758",id:"valuesyaml\uc744-\ud1b5\ud55c-\uc0ac\uc6a9\uc790-\uc815\uc758",level:3},{value:"\ub300\uc548: SentencePiece\uac00 \ud3ec\ud568\ub41c \uc0ac\uc6a9\uc790 \uc815\uc758 \ucee8\ud14c\uc774\ub108",id:"\ub300\uc548-sentencepiece\uac00-\ud3ec\ud568\ub41c-\uc0ac\uc6a9\uc790-\uc815\uc758-\ucee8\ud14c\uc774\ub108",level:2},{value:"\ub300\uc548: \uc644\uc804\ud55c Kubernetes \ub9e4\ub2c8\ud398\uc2a4\ud2b8",id:"\ub300\uc548-\uc644\uc804\ud55c-kubernetes-\ub9e4\ub2c8\ud398\uc2a4\ud2b8",level:2},{value:"\uc2e4\ud589",id:"\uc2e4\ud589",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\ub9ac\uc18c\uc2a4",children:"\ub9ac\uc18c\uc2a4"})}),"\n",(0,i.jsx)(n.h2,{id:"helm-\ucc28\ud2b8-\uc800\uc7a5\uc18c",children:"Helm \ucc28\ud2b8 \uc800\uc7a5\uc18c"}),"\n",(0,i.jsxs)(n.p,{children:["\uacf5\uc2dd \ubca4\uce58\ub9c8\ud06c \ucc28\ud2b8\ub294 ",(0,i.jsx)(n.a,{href:"https://github.com/awslabs/ai-on-eks-charts/tree/main/charts/benchmark-charts",children:"AI on EKS Charts \uc800\uc7a5\uc18c"}),"\uc5d0\uc11c \uc720\uc9c0 \uad00\ub9ac\ub429\ub2c8\ub2e4. \uc774 \uc800\uc7a5\uc18c\uc5d0\ub294 \ub2e4\uc74c\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"values.yaml"}),": \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ubaa8\ub4e0 \uc635\uc158\uc774 \ud3ec\ud568\ub41c \uc644\uc804\ud55c \uad6c\uc131 \ucc38\uc870"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"templates/"}),": job, configmap \ubc0f \uc11c\ube44\uc2a4 \uacc4\uc815\uc744 \uc704\ud55c Kubernetes \ub9ac\uc18c\uc2a4 \ud15c\ud50c\ub9bf"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"scenarios/"}),": \uc0ac\uc804 \uad6c\uc131\ub41c \uc2dc\ub098\ub9ac\uc624 \uc815\uc758 (baseline, saturation, sweep, production)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"README.md"}),": \uc790\uc138\ud55c \uc0ac\uc6a9 \uc9c0\uce68 \ubc0f \uc608\uc81c"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"valuesyaml\uc744-\ud1b5\ud55c-\uc0ac\uc6a9\uc790-\uc815\uc758",children:"values.yaml\uc744 \ud1b5\ud55c \uc0ac\uc6a9\uc790 \uc815\uc758"}),"\n",(0,i.jsx)(n.p,{children:"\uae30\ubcf8\uac12\uc744 \uc7ac\uc815\uc758\ud558\uae30 \uc704\ud55c \uc0ac\uc6a9\uc790 \uc815\uc758 values \ud30c\uc77c \uc0dd\uc131:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# custom-benchmark.yaml\nbenchmark:\n  scenario: saturation\n  target:\n    baseUrl: http://your-model.your-namespace:8000\n    modelName: your-model-name\n\n  # \uc2dc\ub098\ub9ac\uc624\ubcc4 \uc124\uc815 \uc7ac\uc815\uc758\n  scenarios:\n    saturation:\n      load:\n        stages:\n          - rate: 10\n            duration: 300\n          - rate: 50\n            duration: 300\n\n  # \ub9ac\uc18c\uc2a4 \ud560\ub2f9\n  resources:\n    requests:\n      cpu: "4"\n      memory: "8Gi"\n\n  # Pod \uc5b4\ud53c\ub2c8\ud2f0 \uc0ac\uc6a9\uc790 \uc815\uc758\n  affinity:\n    enabled: true\n    targetLabels:\n      app: your-inference-service\n'})}),"\n",(0,i.jsx)(n.p,{children:"\uc0ac\uc6a9\uc790 \uc815\uc758 \uac12\uc73c\ub85c \ubc30\ud3ec:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm install my-benchmark ai-on-eks/benchmark-charts -f custom-benchmark.yaml -n benchmarking\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\ub300\uc548-sentencepiece\uac00-\ud3ec\ud568\ub41c-\uc0ac\uc6a9\uc790-\uc815\uc758-\ucee8\ud14c\uc774\ub108",children:"\ub300\uc548: SentencePiece\uac00 \ud3ec\ud568\ub41c \uc0ac\uc6a9\uc790 \uc815\uc758 \ucee8\ud14c\uc774\ub108"}),"\n",(0,i.jsx)(n.p,{children:"Helm \ucc28\ud2b8 \uc678\ubd80\uc758 \uc0ac\uc6a9\uc790 \uc815\uc758 \ubc30\ud3ec\uc758 \uacbd\uc6b0 \uc885\uc18d\uc131\uc774 \uc0ac\uc804 \uc124\uce58\ub41c \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ub97c \ube4c\ub4dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# \uc0ac\uc6a9\uc790 \uc815\uc758 Dockerfile \uc0dd\uc131\ncat > Dockerfile <<\'EOF\'\nFROM quay.io/inference-perf/inference-perf:v0.2.0\n\n# sentencepiece \uc124\uce58\nRUN pip install --no-cache-dir sentencepiece protobuf\n\nUSER 1000\nEOF\n\n# \ub808\uc9c0\uc2a4\ud2b8\ub9ac\uc5d0 \ube4c\ub4dc \ubc0f \ud478\uc2dc\ndocker build -t <your-registry>/inference-perf:v0.2.0-sentencepiece .\ndocker push <your-registry>/inference-perf:v0.2.0-sentencepiece\n\n# \uc0c8 \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d Job \uc5c5\ub370\uc774\ud2b8\nkubectl patch job inference-perf-run -n benchmarking \\\n  --type=\'json\' \\\n  -p=\'[{"op": "replace", "path": "/spec/template/spec/containers/0/image", "value":"<your-registry>/inference-perf:v0.2.0-sentencepiece"}]\'\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\ub300\uc548-\uc644\uc804\ud55c-kubernetes-\ub9e4\ub2c8\ud398\uc2a4\ud2b8",children:"\ub300\uc548: \uc644\uc804\ud55c Kubernetes \ub9e4\ub2c8\ud398\uc2a4\ud2b8"}),"\n",(0,i.jsx)(n.p,{children:"\uc218\ub3d9 \ubc30\ud3ec \ub610\ub294 \uad50\uc721 \ubaa9\uc801\uc73c\ub85c \ub7f0\ud0c0\uc784 \uc885\uc18d\uc131 \uc124\uce58\uac00 \ud3ec\ud568\ub41c \uc644\uc804\ud55c YAML \ub9e4\ub2c8\ud398\uc2a4\ud2b8\uc785\ub2c8\ub2e4:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'cat > inference-perf-fixed.yaml <<\'EOF\'\n---\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: benchmarking\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: inference-perf-sa\n  namespace: benchmarking\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: inference-perf-config\n  namespace: benchmarking\ndata:\n  config.yml: |\n    load_generator:\n      concurrency: 10\n      duration: 60\n\n    model:\n      model_name: qwen3-8b\n      base_url: http://qwen3-vllm.default:8000\n      ignore_eos: true\n\n      tokenizer:\n        pretrained_model_name_or_path: Qwen/Qwen3-8B\n\n    storage:\n      simple_storage_service:\n        bucket_name: "inference-perf-results"\n        path: "inference-perf/results"\n---\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: inference-perf-run\n  namespace: benchmarking\n  labels:\n    app: inference-perf\nspec:\n  backoffLimit: 2\n  ttlSecondsAfterFinished: 3600\n  template:\n    metadata:\n      labels:\n        app: inference-perf\n    spec:\n      restartPolicy: Never\n      serviceAccountName: inference-perf-sa\n\n      # \uc7ac\ud604 \uac00\ub2a5\ud55c \uacb0\uacfc\ub97c \uc704\ud574 \ucd94\ub860 Pod\uc640 \ub3d9\uc77c AZ \ubc30\uce58\n      affinity:\n        podAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n          - labelSelector:\n              matchLabels:\n                app.kubernetes.io/component: qwen3-vllm\n            topologyKey: topology.kubernetes.io/zone\n\n      containers:\n      - name: inference-perf\n        image: quay.io/inference-perf/inference-perf:v0.2.0\n        command: ["/bin/sh", "-c"]\n        args:\n          - |\n            echo "Installing dependencies..."\n            pip install --no-cache-dir sentencepiece==0.2.0 protobuf==5\n            echo "Dependencies installed successfully"\n            echo "Starting inference-perf..."\n            inference-perf --config_file /workspace/config.yml\n        volumeMounts:\n          - name: config\n            mountPath: /workspace/config.yml\n            subPath: config.yml\n        resources:\n          requests:\n            cpu: "2"\n            memory: "4Gi"\n          limits:\n            cpu: "4"\n            memory: "8Gi"\n\n      volumes:\n        - name: config\n          configMap:\n            name: inference-perf-config\nEOF\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\uc2e4\ud589",children:"\uc2e4\ud589"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f inference-perf-fixed.yaml\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453(e,n,r){r.d(n,{R:()=>c,x:()=>t});var a=r(96540);const i={},s=a.createContext(i);function c(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);