"use strict";(globalThis.webpackChunkdoeks_website=globalThis.webpackChunkdoeks_website||[]).push([[7271],{40045(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>u,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"blueprints/inference/framework-guides/GPUs/stablediffusion-gpus","title":"GPU\uc5d0\uc11c\uc758 Stable Diffusion","description":"EKS\uc5d0\uc11c ML \ubaa8\ub378\uc744 \ubc30\ud3ec\ud558\ub824\uba74 GPU \ub610\ub294 Neuron \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud55c \uc811\uadfc\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ubc30\ud3ec\uac00 \uc791\ub3d9\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0, \uc774\ub7ec\ud55c \ub9ac\uc18c\uc2a4\uc5d0 \ub300\ud55c \uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uae30 \ub54c\ubb38\uc778 \uacbd\uc6b0\uac00 \ub9ce\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc77c\ubd80 \ubc30\ud3ec \ud328\ud134\uc740 Karpenter \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1\uacfc \uc815\uc801 \ub178\ub4dc \uadf8\ub8f9\uc5d0 \uc758\uc874\ud569\ub2c8\ub2e4. \ub178\ub4dc\uac00 \ucd08\uae30\ud654\ub418\uc9c0 \uc54a\uc73c\uba74 Karpenter \ub610\ub294 \ub178\ub4dc \uadf8\ub8f9\uc758 \ub85c\uadf8\ub97c \ud655\uc778\ud558\uc5ec \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uc138\uc694.","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus.md","sourceDirName":"blueprints/inference/framework-guides/GPUs","slug":"/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus","permalink":"/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus","draft":false,"unlisted":false,"editUrl":"https://github.com/awslabs/ai-on-eks/blob/main/website/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"GPU\uc5d0\uc11c\uc758 Stable Diffusion","sidebar_position":3},"sidebar":"blueprints","previous":{"title":"NVIDIA Triton Server\uc640 vLLM","permalink":"/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer"},"next":{"title":"Amazon EKS\uc5d0\uc11c\uc758 NVIDIA NIM LLM","permalink":"/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-nim-llama3"}}');var r=s(74848),a=s(28453),l=s(42450);const d={title:"GPU\uc5d0\uc11c\uc758 Stable Diffusion",sidebar_position:3},c="GPU, Ray Serve \ubc0f Gradio\ub97c \uc0ac\uc6a9\ud55c Stable Diffusion v2 \ubc30\ud3ec",t={},o=[{value:"Stable Diffusion\uc774\ub780?",id:"stable-diffusion\uc774\ub780",level:3},{value:"\uc194\ub8e8\uc158 \ubc30\ud3ec",id:"\uc194\ub8e8\uc158-\ubc30\ud3ec",level:2},{value:"(\uc120\ud0dd \uc0ac\ud56d) Bottlerocket OS\uc5d0 \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ub97c \ubbf8\ub9ac \ub85c\ub4dc\ud558\uc5ec \ucf5c\ub4dc \uc2a4\ud0c0\ud2b8 \uc2dc\uac04 \ub2e8\ucd95",id:"\uc120\ud0dd-\uc0ac\ud56d-bottlerocket-os\uc5d0-\ucee8\ud14c\uc774\ub108-\uc774\ubbf8\uc9c0\ub97c-\ubbf8\ub9ac-\ub85c\ub4dc\ud558\uc5ec-\ucf5c\ub4dc-\uc2a4\ud0c0\ud2b8-\uc2dc\uac04-\ub2e8\ucd95",level:3},{value:"\ubc30\ud3ec",id:"\ubc30\ud3ec",level:3},{value:"\ub9ac\uc18c\uc2a4 \ud655\uc778",id:"\ub9ac\uc18c\uc2a4-\ud655\uc778",level:3},{value:"Stable Diffusion \ubaa8\ub378\uc744 \ud3ec\ud568\ud55c Ray \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec",id:"stable-diffusion-\ubaa8\ub378\uc744-\ud3ec\ud568\ud55c-ray-\ud074\ub7ec\uc2a4\ud130-\ubc30\ud3ec",level:2},{value:"Stable Diffusion V2 \ubaa8\ub378 \ubc30\ud3ec",id:"stable-diffusion-v2-\ubaa8\ub378-\ubc30\ud3ec",level:3},{value:"Gradio WebUI \uc571 \ubc30\ud3ec",id:"gradio-webui-\uc571-\ubc30\ud3ec",level:2},{value:"Gradio \uc571 Docker \ucee8\ud14c\uc774\ub108 \ube4c\ub4dc",id:"gradio-\uc571-docker-\ucee8\ud14c\uc774\ub108-\ube4c\ub4dc",level:3},{value:"Gradio \ucee8\ud14c\uc774\ub108 \ubc30\ud3ec",id:"gradio-\ucee8\ud14c\uc774\ub108-\ubc30\ud3ec",level:3},{value:"WebUI \ud638\ucd9c",id:"webui-\ud638\ucd9c",level:4},{value:"Ray \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1",id:"ray-\uc790\ub3d9-\uc2a4\ucf00\uc77c\ub9c1",level:3},{value:"\uc815\ub9ac",id:"\uc815\ub9ac",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"EKS\uc5d0\uc11c ML \ubaa8\ub378\uc744 \ubc30\ud3ec\ud558\ub824\uba74 GPU \ub610\ub294 Neuron \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud55c \uc811\uadfc\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ubc30\ud3ec\uac00 \uc791\ub3d9\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0, \uc774\ub7ec\ud55c \ub9ac\uc18c\uc2a4\uc5d0 \ub300\ud55c \uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uae30 \ub54c\ubb38\uc778 \uacbd\uc6b0\uac00 \ub9ce\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc77c\ubd80 \ubc30\ud3ec \ud328\ud134\uc740 Karpenter \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1\uacfc \uc815\uc801 \ub178\ub4dc \uadf8\ub8f9\uc5d0 \uc758\uc874\ud569\ub2c8\ub2e4. \ub178\ub4dc\uac00 \ucd08\uae30\ud654\ub418\uc9c0 \uc54a\uc73c\uba74 Karpenter \ub610\ub294 \ub178\ub4dc \uadf8\ub8f9\uc758 \ub85c\uadf8\ub97c \ud655\uc778\ud558\uc5ec \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uc138\uc694."})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"\uad00\uce21\uc131\uacfc \ub85c\uae45 \uac1c\uc120 \uc0ac\ud56d\uc744 \ud1b5\ud569\ud558\uae30 \uc704\ud574 \uc774 \ube14\ub8e8\ud504\ub9b0\ud2b8\ub97c \uc801\uadf9\uc801\uc73c\ub85c \uac1c\uc120\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."})}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"gpu-ray-serve-\ubc0f-gradio\ub97c-\uc0ac\uc6a9\ud55c-stable-diffusion-v2-\ubc30\ud3ec",children:"GPU, Ray Serve \ubc0f Gradio\ub97c \uc0ac\uc6a9\ud55c Stable Diffusion v2 \ubc30\ud3ec"})}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \ud328\ud134\uc740 ",(0,r.jsx)(n.a,{href:"https://aws.amazon.com/ec2/instance-types/g4/",children:"GPU"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec Amazon EKS\uc5d0\uc11c ",(0,r.jsx)(n.a,{href:"https://huggingface.co/stabilityai/stable-diffusion-2-1",children:"Stable Diffusion V2"})," \ubaa8\ub378\uc744 \ubc30\ud3ec\ud558\uc5ec \uac00\uc18d\ud654\ub41c \uc774\ubbf8\uc9c0 \uc0dd\uc131\uc744 \uc2dc\uc5f0\ud569\ub2c8\ub2e4. ",(0,r.jsx)(n.a,{href:"https://docs.ray.io/en/latest/serve/index.html",children:"Ray Serve"}),"\ub294 \uc5ec\ub7ec GPU \ub178\ub4dc\uc5d0\uc11c \ud6a8\uc728\uc801\uc778 \uc2a4\ucf00\uc77c\ub9c1\uc744 \uc81c\uacf5\ud558\uace0, ",(0,r.jsx)(n.a,{href:"https://karpenter.sh/",children:"Karpenter"}),"\ub294 \ub178\ub4dc \ud504\ub85c\ube44\uc800\ub2dd\uc744 \ub3d9\uc801\uc73c\ub85c \uad00\ub9ac\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\uc774 \ud328\ud134\uc744 \ud1b5\ud574 \ub2e4\uc74c\uc744 \ub2ec\uc131\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\ub178\ub4dc\uc758 \ub3d9\uc801 \uc2a4\ucf00\uc77c\ub9c1\uc744 \uc704\ud55c Karpenter \uad00\ub9ac GPU nodepool\uc774 \uc788\ub294 Amazon EKS \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/awslabs/ai-on-eks/tree/main/infra/jark-stack/terraform",children:"jark-stack"})," Terraform \ube14\ub8e8\ud504\ub9b0\ud2b8\ub97c \uc0ac\uc6a9\ud558\uc5ec KubeRay Operator \ubc0f \uae30\ud0c0 \ud575\uc2ec EKS \uc560\ub4dc\uc628 \uc124\uce58."]}),"\n",(0,r.jsx)(n.li,{children:"GPU \ub9ac\uc18c\uc2a4 \uc804\uccb4\uc5d0\uc11c \ud6a8\uc728\uc801\uc778 \uc2a4\ucf00\uc77c\ub9c1\uc744 \uc704\ud574 RayServe\ub97c \uc0ac\uc6a9\ud558\uc5ec Stable Diffusion \ubaa8\ub378 \ubc30\ud3ec"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"stable-diffusion\uc774\ub780",children:"Stable Diffusion\uc774\ub780?"}),"\n",(0,r.jsx)(n.p,{children:"Stable Diffusion\uc740 \ud14d\uc2a4\ud2b8 \uc124\uba85\uc5d0\uc11c \uba4b\uc9c0\uace0 \uc0c1\uc138\ud55c \uc774\ubbf8\uc9c0\ub97c \uc0dd\uc131\ud558\ub294 \ucd5c\ucca8\ub2e8 \ud14d\uc2a4\ud2b8-\uc774\ubbf8\uc9c0 \ubaa8\ub378\uc785\ub2c8\ub2e4. \uc774\ubbf8\uc9c0 \uc0dd\uc131\uc744 \ud1b5\ud574 \uc0c1\uc0c1\ub825\uc744 \ubc1c\ud718\ud558\uace0\uc790 \ud558\ub294 \uc544\ud2f0\uc2a4\ud2b8, \ub514\uc790\uc774\ub108 \ubc0f \ubaa8\ub4e0 \uc0ac\ub78c\uc744 \uc704\ud55c \uac15\ub825\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4. \uc774 \ubaa8\ub378\uc740 \uc774\ubbf8\uc9c0 \uc0dd\uc131 \ud504\ub85c\uc138\uc2a4\uc5d0\uc11c \ub192\uc740 \uc218\uc900\uc758 \ucc3d\uc758\uc801 \uc81c\uc5b4\uc640 \uc720\uc5f0\uc131\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.h2,{id:"\uc194\ub8e8\uc158-\ubc30\ud3ec",children:"\uc194\ub8e8\uc158 \ubc30\ud3ec"}),"\n",(0,r.jsx)(n.p,{children:"Amazon EKS\uc5d0\uc11c Stable Diffusion v2-1\uc744 \uc2dc\uc791\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4! \uc774 \uc139\uc158\uc5d0\uc11c \ub2e4\ub8f0 \ub0b4\uc6a9\uc740:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\uc0ac\uc804 \uc694\uad6c \uc0ac\ud56d"}),": \ubaa8\ub4e0 \uac83\uc774 \uc900\ube44\ub418\uc5c8\ub294\uc9c0 \ud655\uc778."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\uc778\ud504\ub77c \uc124\uc815"}),": EKS \ud074\ub7ec\uc2a4\ud130\ub97c \uc0dd\uc131\ud558\uace0 \ubc30\ud3ec \uc900\ube44."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Ray \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec"}),": \ud655\uc7a5\uc131\uacfc \ud6a8\uc728\uc131\uc744 \uc81c\uacf5\ud558\ub294 \uc774\ubbf8\uc9c0 \uc0dd\uc131 \ud30c\uc774\ud504\ub77c\uc778\uc758 \ud575\uc2ec."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gradio Web UI \uad6c\ucd95"}),": Stable Diffusion\uacfc \uc0c1\ud638 \uc791\uc6a9\ud558\uae30 \uc704\ud55c \uc0ac\uc6a9\uc790 \uce5c\ud654\uc801\uc778 \uc778\ud130\ud398\uc774\uc2a4."]}),"\n"]}),"\n",(0,r.jsxs)(l.A,{header:(0,r.jsx)(n.h2,{children:(0,r.jsx)(n.span,{children:"\uc0ac\uc804 \uc694\uad6c \uc0ac\ud56d"})}),children:[(0,r.jsx)(n.p,{children:"\uc2dc\uc791\ud558\uae30 \uc804\uc5d0 \ubc30\ud3ec \uacfc\uc815\uc744 \uc6d0\ud65c\ud558\uac8c \uc9c4\ud589\ud558\uae30 \uc704\ud574 \ubaa8\ub4e0 \uc0ac\uc804 \uc694\uad6c \uc0ac\ud56d\uc774 \uac16\ucdb0\uc838 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694.\n\uba38\uc2e0\uc5d0 \ub2e4\uc74c \ub3c4\uad6c\uac00 \uc124\uce58\ub418\uc5b4 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694."}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html",children:"aws cli"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://Kubernetes.io/docs/tasks/tools/",children:"kubectl"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://learn.hashicorp.com/tutorials/terraform/install-cli",children:"terraform"})}),"\n"]}),(0,r.jsx)("a",{id:"\uc120\ud0dd-\uc0ac\ud56d-bottlerocket-os\uc5d0-\ucee8\ud14c\uc774\ub108-\uc774\ubbf8\uc9c0\ub97c-\ubbf8\ub9ac-\ub85c\ub4dc\ud558\uc5ec-\ucf5c\ub4dc-\uc2a4\ud0c0\ud2b8-\uc2dc\uac04-\ub2e8\ucd95"}),(0,r.jsx)(n.h3,{id:"\uc120\ud0dd-\uc0ac\ud56d-bottlerocket-os\uc5d0-\ucee8\ud14c\uc774\ub108-\uc774\ubbf8\uc9c0\ub97c-\ubbf8\ub9ac-\ub85c\ub4dc\ud558\uc5ec-\ucf5c\ub4dc-\uc2a4\ud0c0\ud2b8-\uc2dc\uac04-\ub2e8\ucd95",children:"(\uc120\ud0dd \uc0ac\ud56d) Bottlerocket OS\uc5d0 \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ub97c \ubbf8\ub9ac \ub85c\ub4dc\ud558\uc5ec \ucf5c\ub4dc \uc2a4\ud0c0\ud2b8 \uc2dc\uac04 \ub2e8\ucd95"}),(0,r.jsxs)(n.p,{children:["Ray \uc6cc\ucee4\uc5d0\uc11c \uc774\ubbf8\uc9c0 \uac80\uc0c9 \ubc30\ud3ec\ub97c \uac00\uc18d\ud654\ud558\ub824\uba74 ",(0,r.jsx)(n.a,{href:"../../bestpractices/preload-container-images",children:"Karpenter\uc640 EBS \uc2a4\ub0c5\uc0f7\uc744 \uc0ac\uc6a9\ud558\uc5ec Bottlerocket \ub370\uc774\ud130 \ubcfc\ub968\uc5d0 \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0 \ubbf8\ub9ac \ub85c\ub4dc"}),"\ub97c \ucc38\uc870\ud558\uc138\uc694."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"TF_VAR_bottlerocket_data_disk_snpashot_id"}),"\ub97c \uc815\uc758\ud558\uc5ec Karpenter\uac00 EBS \uc2a4\ub0c5\uc0f7\uc774 \ud3ec\ud568\ub41c Bottlerocket \uc6cc\ucee4 \ub178\ub4dc\ub97c \ud504\ub85c\ube44\uc800\ub2dd\ud558\ub3c4\ub85d \ud558\uba74 \ucee8\ud14c\uc774\ub108 \uc2dc\uc791\uc744 \uc704\ud55c \ucf5c\ub4dc \uc2a4\ud0c0\ud2b8\ub97c \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub807\uac8c \ud558\uba74 Amazon ECR\uc5d0\uc11c \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ud558\uace0 \ucd94\ucd9c\ud558\ub294 \ub370 10\ubd84(\uc774\ubbf8\uc9c0 \ud06c\uae30\uc5d0 \ub530\ub77c \ub2e4\ub984)\uc744 \uc808\uc57d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"export TF_VAR_bottlerocket_data_disk_snpashot_id=snap-0c6d965cf431785ed\n"})}),(0,r.jsx)("a",{id:"\ubc30\ud3ec"}),(0,r.jsx)(n.h3,{id:"\ubc30\ud3ec",children:"\ubc30\ud3ec"}),(0,r.jsx)(n.p,{children:"\uc800\uc7a5\uc18c \ubcf5\uc81c"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/awslabs/ai-on-eks.git\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd ai-on-eks/infra/jark-stack/ && chmod +x install.sh\n./install.sh\n"})}),(0,r.jsxs)(n.p,{children:["\uc608\uc81c \ub514\ub809\ud1a0\ub9ac \uc911 \ud558\ub098\ub85c \uc774\ub3d9\ud558\uc5ec ",(0,r.jsx)(n.code,{children:"install.sh"})," \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\uc911\uc694 \ucc38\uace0 \uc0ac\ud56d:"})," \ube14\ub8e8\ud504\ub9b0\ud2b8\ub97c \ubc30\ud3ec\ud558\uae30 \uc804\uc5d0 ",(0,r.jsx)(n.code,{children:"blueprint.tfvars"})," \ud30c\uc77c\uc5d0\uc11c \ub9ac\uc804\uc744 \uc5c5\ub370\uc774\ud2b8\ud558\uc138\uc694.\n\ub610\ud55c \ubd88\uc77c\uce58\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574 \ub85c\uceec \ub9ac\uc804 \uc124\uc815\uc774 \uc9c0\uc815\ub41c \ub9ac\uc804\uacfc \uc77c\uce58\ud558\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694.\n\uc608\ub97c \ub4e4\uc5b4, ",(0,r.jsx)(n.code,{children:'export AWS_DEFAULT_REGION="<REGION>"'}),"\uc744 \uc6d0\ud558\ub294 \ub9ac\uc804\uc73c\ub85c \uc124\uc815\ud558\uc138\uc694:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ai-on-eks/infra/jark-stack/ && chmod +x install.sh\n./install.sh\n"})}),(0,r.jsx)("a",{id:"\ub9ac\uc18c\uc2a4-\ud655\uc778"}),(0,r.jsx)(n.h3,{id:"\ub9ac\uc18c\uc2a4-\ud655\uc778",children:"\ub9ac\uc18c\uc2a4 \ud655\uc778"}),(0,r.jsx)(n.p,{children:"Amazon EKS \ud074\ub7ec\uc2a4\ud130 \ud655\uc778"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws eks --region us-west-2 describe-cluster --name jark-stack\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# EKS\ub85c \uc778\uc99d\ud558\uae30 \uc704\ud55c k8s \uc124\uc815 \ud30c\uc77c \uc0dd\uc131\naws eks --region us-west-2 update-kubeconfig --name jark-stack\n\n# EKS Managed Node \uadf8\ub8f9 \ub178\ub4dc \ucd9c\ub825\nkubectl get nodes\n"})})]}),"\n",(0,r.jsx)(n.h2,{id:"stable-diffusion-\ubaa8\ub378\uc744-\ud3ec\ud568\ud55c-ray-\ud074\ub7ec\uc2a4\ud130-\ubc30\ud3ec",children:"Stable Diffusion \ubaa8\ub378\uc744 \ud3ec\ud568\ud55c Ray \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"jark-stack"})," \ud074\ub7ec\uc2a4\ud130\uac00 \ubc30\ud3ec\ub418\uba74 ",(0,r.jsx)(n.code,{children:"kubectl"}),"\uc744 \uc0ac\uc6a9\ud558\uc5ec ",(0,r.jsx)(n.code,{children:"/ai-on-eks/blueprints/inference/stable-diffusion-rayserve-gpu/"})," \uacbd\ub85c\uc5d0\uc11c ",(0,r.jsx)(n.code,{children:"ray-service-stablediffusion.yaml"}),"\uc744 \ubc30\ud3ec\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \ub2e8\uacc4\uc5d0\uc11c\ub294 Karpenter \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1\uc744 \uc0ac\uc6a9\ud558\uc5ec ",(0,r.jsx)(n.code,{children:"x86 CPU"})," \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \ud558\ub098\uc758 ",(0,r.jsx)(n.code,{children:"Head Pod"}),"\uc640 ",(0,r.jsx)(n.a,{href:"https://karpenter.sh/",children:"Karpenter"}),"\uc5d0 \uc758\ud574 \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1\ub418\ub294 ",(0,r.jsx)(n.code,{children:"g5.2xlarge"})," \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c ",(0,r.jsx)(n.code,{children:"Ray workers"}),"\ub85c \uad6c\uc131\ub41c Ray Serve \ud074\ub7ec\uc2a4\ud130\ub97c \ubc30\ud3ec\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\uc774 \ubc30\ud3ec\uc5d0 \uc0ac\uc6a9\ub418\ub294 \uc8fc\uc694 \ud30c\uc77c\uc744 \uc790\uc138\ud788 \uc0b4\ud3b4\ubcf4\uace0 \ubc30\ud3ec\ub97c \uc9c4\ud589\ud558\uae30 \uc804\uc5d0 \uae30\ub2a5\uc744 \uc774\ud574\ud558\uaca0\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ray_serve_sd.py:"}),"\n\uc774 \uc2a4\ud06c\ub9bd\ud2b8\ub294 GPU \uc7a5\ucc29 \uc778\ud504\ub77c\uc5d0\uc11c \ud655\uc7a5 \uac00\ub2a5\ud55c \ubaa8\ub378 \uc11c\ube59\uc744 \uac00\ub2a5\ud558\uac8c \ud558\ub294 Ray Serve\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubc30\ud3ec\ub41c \ub450 \uac00\uc9c0 \uc8fc\uc694 \uad6c\uc131 \uc694\uc18c\uac00 \uc788\ub294 FastAPI \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc124\uc815\ud569\ub2c8\ub2e4:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"StableDiffusionV2 Deployment"}),": \uc774 \ud074\ub798\uc2a4\ub294 \uc2a4\ucf00\uc904\ub7ec\ub97c \uc0ac\uc6a9\ud558\uc5ec Stable Diffusion V2 \ubaa8\ub378\uc744 \ucd08\uae30\ud654\ud558\uace0 \ucc98\ub9ac\ub97c \uc704\ud574 GPU\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4. \ud14d\uc2a4\ud2b8 \ud504\ub86c\ud504\ud2b8\ub97c \uae30\ubc18\uc73c\ub85c \uc774\ubbf8\uc9c0\ub97c \uc0dd\uc131\ud558\ub294 \uae30\ub2a5\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc73c\uba70, \uc774\ubbf8\uc9c0 \ud06c\uae30\ub294 \uc785\ub825 \ud30c\ub77c\ubbf8\ud130\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790 \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"APIIngress"}),": \uc774 FastAPI \uc5d4\ub4dc\ud3ec\uc778\ud2b8\ub294 Stable Diffusion \ubaa8\ub378\uc5d0 \ub300\ud55c \uc778\ud130\ud398\uc774\uc2a4 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4. \ud14d\uc2a4\ud2b8 \ud504\ub86c\ud504\ud2b8\uc640 \uc120\ud0dd\uc801 \uc774\ubbf8\uc9c0 \ud06c\uae30\ub97c \ubc1b\ub294 ",(0,r.jsx)(n.code,{children:"/imagine"})," \uacbd\ub85c\uc5d0\uc11c GET \uba54\uc11c\ub4dc\ub97c \ub178\ucd9c\ud569\ub2c8\ub2e4. Stable Diffusion \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc774\ubbf8\uc9c0\ub97c \uc0dd\uc131\ud558\uace0 PNG \ud30c\uc77c\ub85c \ubc18\ud658\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ray-service-stablediffusion.yaml:"}),"\n\uc774 RayServe \ubc30\ud3ec \ud328\ud134\uc740 GPU \uc9c0\uc6d0\uc774 \ud3ec\ud568\ub41c Amazon EKS\uc5d0\uc11c Stable Diffusion \ubaa8\ub378\uc744 \ud638\uc2a4\ud305\ud558\uae30 \uc704\ud55c \ud655\uc7a5 \uac00\ub2a5\ud55c \uc11c\ube44\uc2a4\ub97c \uc124\uc815\ud569\ub2c8\ub2e4. \uc804\uc6a9 \ub124\uc784\uc2a4\ud398\uc774\uc2a4\ub97c \ub9cc\ub4e4\uace0 \uc218\uc2e0 \ud2b8\ub798\ud53d\uc5d0 \ub530\ub77c \ub9ac\uc18c\uc2a4 \ud65c\uc6a9\uc744 \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud558\ub294 \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1 \uae30\ub2a5\uc774 \uc788\ub294 RayService\ub97c \uad6c\uc131\ud569\ub2c8\ub2e4. \ubc30\ud3ec\ub294 RayService \uc6b0\uc0b0 \uc544\ub798\uc5d0\uc11c \uc11c\ube59\ub418\ub294 \ubaa8\ub378\uc774 \uc218\uc694\uc5d0 \ub530\ub77c 1\uac1c\uc5d0\uc11c 4\uac1c\uc758 \ub808\ud50c\ub9ac\uce74 \uc0ac\uc774\uc5d0\uc11c \uc790\ub3d9\uc73c\ub85c \uc870\uc815\ud560 \uc218 \uc788\ub3c4\ub85d \ubcf4\uc7a5\ud558\uba70, \uac01 \ub808\ud50c\ub9ac\uce74\uc5d0\ub294 GPU\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. \uc774 \ud328\ud134\uc740 \uc131\ub2a5\uc744 \uadf9\ub300\ud654\ud558\uace0 \ubb34\uac70\uc6b4 \uc758\uc874\uc131\uc774 \ubbf8\ub9ac \ub85c\ub4dc\ub418\ub3c4\ub85d \ud558\uc5ec \uc2dc\uc791 \uc9c0\uc5f0\uc744 \ucd5c\uc18c\ud654\ud558\ub3c4\ub85d \uc124\uacc4\ub41c \uc0ac\uc6a9\uc790 \uc815\uc758 \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"stable-diffusion-v2-\ubaa8\ub378-\ubc30\ud3ec",children:"Stable Diffusion V2 \ubaa8\ub378 \ubc30\ud3ec"}),"\n",(0,r.jsx)(n.p,{children:"\ud074\ub7ec\uc2a4\ud130\uac00 \ub85c\uceec\uc5d0\uc11c \uad6c\uc131\ub418\uc5c8\ub294\uc9c0 \ud655\uc778"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws eks --region us-west-2 update-kubeconfig --name jark-stack\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"RayServe \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ai-on-eks/blueprints/inference/stable-diffusion-rayserve-gpu\nkubectl apply -f ray-service-stablediffusion.yaml\n"})}),"\n",(0,r.jsx)(n.p,{children:"\ub2e4\uc74c \uba85\ub839\uc744 \uc2e4\ud589\ud558\uc5ec \ubc30\ud3ec\ub97c \ud655\uc778\ud569\ub2c8\ub2e4"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["\ub370\uc774\ud130 \ubcfc\ub968\uc5d0 \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ub97c \ubbf8\ub9ac \ub85c\ub4dc\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0 \ubc30\ud3ec \ud504\ub85c\uc138\uc2a4\uc5d0 \ucd5c\ub300 10",(0,r.jsx)(n.del,{children:"12\ubd84\uc774 \uac78\ub9b4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Head Pod\ub294 2"}),"3\ubd84 \ub0b4\uc5d0 \uc900\ube44\ub420 \uac83\uc73c\ub85c \uc608\uc0c1\ub418\uba70, Ray Serve \uc6cc\ucee4 \ud30c\ub4dc\ub294 Huggingface\uc5d0\uc11c \uc774\ubbf8\uc9c0 \uac80\uc0c9 \ubc0f \ubaa8\ub378 \ubc30\ud3ec\uc5d0 \ucd5c\ub300 10\ubd84\uc774 \uac78\ub9b4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,r.jsx)(n.p,{children:"\uc774 \ubc30\ud3ec\ub294 \uc544\ub798\uc640 \uac19\uc774 x86 \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 Ray head \ud30c\ub4dc\uc640 GPU G5 \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \uc6cc\ucee4 \ud30c\ub4dc\ub97c \uc124\uc815\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -n stablediffusion\n\nNAME                                                      READY   STATUS\nrservice-raycluster-hb4l4-worker-gpu-worker-group-z8gdw   1/1     Running\nstablediffusion-service-raycluster-hb4l4-head-4kfzz       2/2     Running\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\ub370\uc774\ud130 \ubcfc\ub968\uc5d0 \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ub97c \ubbf8\ub9ac \ub85c\ub4dc\ud55c \uacbd\uc6b0 ",(0,r.jsx)(n.code,{children:"kubectl describe pod -n stablediffusion"})," \ucd9c\ub825\uc5d0\uc11c ",(0,r.jsx)(n.code,{children:'Container image "public.ecr.aws/data-on-eks/ray2.11.0-py310-gpu-stablediffusion:latest" already present on machine'})," \uba54\uc2dc\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'kubectl describe pod -n stablediffusion\n\n...\nEvents:\n  Type     Reason            Age                From               Message\n  ----     ------            ----               ----               -------\n  Warning  FailedScheduling  41m                default-scheduler  0/8 nodes are available: 1 Insufficient cpu, 3 Insufficient memory, 8 Insufficient nvidia.com/gpu. preemption: 0/8 nodes are available: 8 No preemption victims found for incoming pod.\n  Normal   Nominated         41m                karpenter          Pod should schedule on: nodeclaim/gpu-ljvhl\n  Normal   Scheduled         40m                default-scheduler  Successfully assigned stablediffusion/stablediffusion-raycluster-ms6pl-worker-gpu-85d22 to ip-100-64-136-72.us-west-2.compute.internal\n  Normal   Pulled            40m                kubelet            Container image "public.ecr.aws/data-on-eks/ray2.11.0-py310-gpu-stablediffusion:latest" already present on machine\n  Normal   Created           40m                kubelet            Created container wait-gcs-ready\n  Normal   Started           40m                kubelet            Started container wait-gcs-ready\n  Normal   Pulled            39m                kubelet            Container image "public.ecr.aws/data-on-eks/ray2.11.0-py310-gpu-stablediffusion:latest" already present on machine\n  Normal   Created           39m                kubelet            Created container worker\n  Normal   Started           38m                kubelet            Started container worker\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \ubc30\ud3ec\ub294 \ub610\ud55c \uc5ec\ub7ec \ud3ec\ud2b8\uac00 \uad6c\uc131\ub41c stablediffusion \uc11c\ube44\uc2a4\ub97c \uc124\uc815\ud569\ub2c8\ub2e4. \ud3ec\ud2b8 ",(0,r.jsx)(n.code,{children:"8265"}),"\ub294 Ray \ub300\uc2dc\ubcf4\ub4dc\uc6a9\uc774\uace0 \ud3ec\ud2b8 ",(0,r.jsx)(n.code,{children:"8000"}),"\uc740 Stable Diffusion \ubaa8\ub378 \uc5d4\ub4dc\ud3ec\uc778\ud2b8\uc6a9\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get svc -n stablediffusion\nNAME                                TYPE       CLUSTER-IP       EXTERNAL-IP   PORT(S)\nstablediffusion-service             NodePort   172.20.223.142   <none>        8080:30213/TCP,6379:30386/TCP,8265:30857/TCP,10001:30666/TCP,8000:31194/TCP\nstablediffusion-service-head-svc    NodePort   172.20.215.100   <none>        8265:30170/TCP,10001:31246/TCP,8000:30376/TCP,8080:32646/TCP,6379:31846/TCP\nstablediffusion-service-serve-svc   NodePort   172.20.153.125   <none>        8000:31459/TCP\n"})}),"\n",(0,r.jsx)(n.p,{children:"Ray \ub300\uc2dc\ubcf4\ub4dc\uc758 \uacbd\uc6b0 \uc774\ub7ec\ud55c \ud3ec\ud2b8\ub97c \uac1c\ubcc4\uc801\uc73c\ub85c \ud3ec\ud2b8 \ud3ec\uc6cc\ub529\ud558\uc5ec localhost\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc6f9 UI\uc5d0 \ub85c\uceec\ub85c \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward svc/stablediffusion-service 8266:8265 -n stablediffusion\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"http://localhost:8265"}),"\uc5d0\uc11c \uc6f9 UI\uc5d0 \uc811\uadfc\ud558\uc138\uc694. \uc774 \uc778\ud130\ud398\uc774\uc2a4\ub294 Ray \uc5d0\ucf54\uc2dc\uc2a4\ud15c \ub0b4\uc758 \uc791\uc5c5 \ubc0f \uc561\ud130 \ubc30\ud3ec\ub97c \ud45c\uc2dc\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"RayServe Deployment",src:s(87463).A+"",width:"3062",height:"1848"})}),"\n",(0,r.jsx)(n.p,{children:"\uc81c\uacf5\ub41c \uc2a4\ud06c\ub9b0\uc0f7\uc740 Serve \ubc30\ud3ec\uc640 Ray \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec\ub97c \ubcf4\uc5ec\uc8fc\uba70, \uc124\uc815 \ubc0f \uc6b4\uc601 \uc0c1\ud0dc\uc5d0 \ub300\ud55c \uc2dc\uac01\uc801 \uac1c\uc694\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"RayServe Cluster",src:s(4114).A+"",width:"3810",height:"1838"})}),"\n",(0,r.jsx)(n.h2,{id:"gradio-webui-\uc571-\ubc30\ud3ec",children:"Gradio WebUI \uc571 \ubc30\ud3ec"}),"\n",(0,r.jsxs)(n.p,{children:["\ubc30\ud3ec\ub41c \ubaa8\ub378\uacfc \uc6d0\ud65c\ud558\uac8c \ud1b5\ud569\ub418\ub294 ",(0,r.jsx)(n.a,{href:"https://www.gradio.app/",children:"Gradio"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc0ac\uc6a9\uc790 \uce5c\ud654\uc801\uc778 \ucc44\ud305 \uc778\ud130\ud398\uc774\uc2a4\ub97c \ub9cc\ub4dc\ub294 \ubc29\ubc95\uc744 \uc54c\uc544\ubcf4\uc138\uc694."]}),"\n",(0,r.jsx)(n.p,{children:"localhost\uc5d0\uc11c Docker \ucee8\ud14c\uc774\ub108\ub85c Gradio \uc571\uc744 \uc124\uc815\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4. \uc774 \uc124\uc815\uc744 \ud1b5\ud574 RayServe\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubc30\ud3ec\ub41c Stable Diffusion XL \ubaa8\ub378\uacfc \uc0c1\ud638 \uc791\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.h3,{id:"gradio-\uc571-docker-\ucee8\ud14c\uc774\ub108-\ube4c\ub4dc",children:"Gradio \uc571 Docker \ucee8\ud14c\uc774\ub108 \ube4c\ub4dc"}),"\n",(0,r.jsx)(n.p,{children:"\uba3c\uc800 \ud074\ub77c\uc774\uc5b8\ud2b8 \uc571\uc6a9 Docker \ucee8\ud14c\uc774\ub108\ub97c \ube4c\ub4dc\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'cd ai-on-eks/blueprints/inference/gradio-ui\ndocker build --platform=linux/amd64 \\\n    -t gradio-app:sd \\\n    --build-arg GRADIO_APP="gradio-app-stable-diffusion.py" \\\n    .\n'})}),"\n",(0,r.jsx)(n.h3,{id:"gradio-\ucee8\ud14c\uc774\ub108-\ubc30\ud3ec",children:"Gradio \ucee8\ud14c\uc774\ub108 \ubc30\ud3ec"}),"\n",(0,r.jsx)(n.p,{children:"Docker\ub97c \uc0ac\uc6a9\ud558\uc5ec localhost\uc5d0\uc11c \ucee8\ud14c\uc774\ub108\ub85c Gradio \uc571\uc744 \ubc30\ud3ec\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run --rm -it -p 7860:7860 -p 8000:8000 gradio-app:sd\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["Docker Desktop\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 ",(0,r.jsx)(n.a,{href:"https://runfinch.com/",children:"finch"}),"\uc640 \uac19\uc740 \uac83\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 \ucee8\ud14c\uc774\ub108 \ub0b4\ubd80\uc758 \uc0ac\uc6a9\uc790 \uc815\uc758 \ud638\uc2a4\ud2b8-IP \ub9e4\ud551\uc744 \uc704\ud55c \ucd94\uac00 \ud50c\ub798\uadf8\uac00 \ud544\uc694\ud569\ub2c8\ub2e4."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'docker run --rm -it \\\n    --add-host ray-service:<workstation-ip> \\\n    -e "SERVICE_NAME=http://ray-service:8000" \\\n    -p 7860:7860 gradio-app:sd\n'})})]}),"\n",(0,r.jsx)(n.h4,{id:"webui-\ud638\ucd9c",children:"WebUI \ud638\ucd9c"}),"\n",(0,r.jsx)(n.p,{children:"\uc6f9 \ube0c\ub77c\uc6b0\uc800\ub97c \uc5f4\uace0 \ub2e4\uc74c URL\ub85c \uc774\ub3d9\ud558\uc5ec Gradio WebUI\uc5d0 \uc811\uadfc\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsxs)(n.p,{children:["\ub85c\uceec URL\uc5d0\uc11c \uc2e4\ud589 \uc911: ",(0,r.jsx)(n.a,{href:"http://localhost:7860",children:"http://localhost:7860"})]}),"\n",(0,r.jsx)(n.p,{children:"\uc774\uc81c \ub85c\uceec \uba38\uc2e0\uc5d0\uc11c Gradio \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \uc0c1\ud638 \uc791\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Gradio Output",src:s(20693).A+"",width:"2752",height:"1356"})}),"\n",(0,r.jsx)(n.h3,{id:"ray-\uc790\ub3d9-\uc2a4\ucf00\uc77c\ub9c1",children:"Ray \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ray-serve-stablediffusion.yaml"})," \ud30c\uc77c\uc5d0 \uc790\uc138\ud788 \uc124\uba85\ub41c Ray \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1 \uad6c\uc131\uc740 Kubernetes\uc5d0\uc11c Ray\uc758 \uae30\ub2a5\uc744 \ud65c\uc6a9\ud558\uc5ec \uacc4\uc0b0 \uc694\uad6c\uc5d0 \ub530\ub77c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \ub3d9\uc801\uc73c\ub85c \uc2a4\ucf00\uc77c\ub9c1\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\uc218\uc2e0 \ud2b8\ub798\ud53d"}),": stable-diffusion \ubc30\ud3ec\uc5d0 \ub300\ud55c \uc218\uc2e0 \uc694\uccad\uc740 Ray Serve\uac00 \uae30\uc874 \ub808\ud50c\ub9ac\uce74\uc758 \ubd80\ud558\ub97c \ubaa8\ub2c8\ud130\ub9c1\ud558\ub3c4\ub85d \ud2b8\ub9ac\uac70\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\uba54\ud2b8\ub9ad \uae30\ubc18 \uc2a4\ucf00\uc77c\ub9c1"}),": Ray Serve\ub294 \ub808\ud50c\ub9ac\uce74\ub2f9 \ud3c9\uade0 \uc9c4\ud589 \uc911\uc778 \uc694\uccad \uc218\ub97c \ucd94\uc801\ud569\ub2c8\ub2e4. \uc774 \uad6c\uc131\uc5d0\uc11c\ub294 ",(0,r.jsx)(n.code,{children:"target_num_ongoing_requests_per_replica"}),"\uac00 1\ub85c \uc124\uc815\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uba54\ud2b8\ub9ad\uc774 \uc784\uacc4\uac12\uc744 \ucd08\uacfc\ud558\uba74 \ub354 \ub9ce\uc740 \ub808\ud50c\ub9ac\uce74\uac00 \ud544\uc694\ud558\ub2e4\ub294 \uc2e0\ud638\ub97c \ubcf4\ub0c5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\ub808\ud50c\ub9ac\uce74 \uc0dd\uc131 (\ub178\ub4dc \ub0b4)"}),": \ub178\ub4dc\uc5d0 \ucda9\ubd84\ud55c GPU \uc6a9\ub7c9\uc774 \uc788\uc73c\uba74 Ray Serve\ub294 \uae30\uc874 \ub178\ub4dc \ub0b4\uc5d0 \uc0c8 \ub808\ud50c\ub9ac\uce74\ub97c \ucd94\uac00\ud558\ub824\uace0 \uc2dc\ub3c4\ud569\ub2c8\ub2e4. \ubc30\ud3ec\ub294 \ub808\ud50c\ub9ac\uce74\ub2f9 1\uac1c\uc758 GPU\ub97c \uc694\uccad\ud569\ub2c8\ub2e4 (",(0,r.jsx)(n.code,{children:"ray_actor_options: num_gpus: 1"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\ub178\ub4dc \uc2a4\ucf00\uc77c\ub9c1 (Karpenter)"}),": \ub178\ub4dc\uac00 \ucd94\uac00 \ub808\ud50c\ub9ac\uce74\ub97c \uc218\uc6a9\ud560 \uc218 \uc5c6\ub294 \uacbd\uc6b0 (\uc608: \ub178\ub4dc\ub2f9 \ud558\ub098\uc758 GPU\ub9cc \uc788\ub294 \uacbd\uc6b0), Ray\ub294 Kubernetes\uc5d0 \ub354 \ub9ce\uc740 \ub9ac\uc18c\uc2a4\uac00 \ud544\uc694\ud558\ub2e4\uace0 \uc2e0\ud638\ub97c \ubcf4\ub0c5\ub2c8\ub2e4. Karpenter\ub294 Kubernetes\uc758 \ubcf4\ub958 \uc911\uc778 \ud30c\ub4dc \uc694\uccad\uc744 \uad00\ucc30\ud558\uace0 \ub9ac\uc18c\uc2a4 \uc694\uad6c\ub97c \ucda9\uc871\ud558\uae30 \uc704\ud574 \uc0c8 g5 GPU \ub178\ub4dc\ub97c \ud504\ub85c\ube44\uc800\ub2dd\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\ub808\ud50c\ub9ac\uce74 \uc0dd\uc131 (\ub178\ub4dc \uac04)"}),": \uc0c8 \ub178\ub4dc\uac00 \uc900\ube44\ub418\uba74 Ray Serve\ub294 \uc0c8\ub85c \ud504\ub85c\ube44\uc800\ub2dd\ub41c \ub178\ub4dc\uc5d0 \ucd94\uac00 \ub808\ud50c\ub9ac\uce74\ub97c \uc2a4\ucf00\uc904\ub9c1\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1 \uc2dc\ubbac\ub808\uc774\uc158:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\ubd80\ud558 \uc0dd\uc131"}),": \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ub9cc\ub4e4\uac70\ub098 \ubd80\ud558 \ud14c\uc2a4\ud2b8 \ub3c4\uad6c\ub97c \uc0ac\uc6a9\ud558\uc5ec stable diffusion \uc11c\ube44\uc2a4\uc5d0 \ubc84\uc2a4\ud2b8 \uc774\ubbf8\uc9c0 \uc0dd\uc131 \uc694\uccad\uc744 \ubcf4\ub0c5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\uad00\ucc30 (Ray Dashboard)"}),": \ud3ec\ud2b8 \ud3ec\uc6cc\ub529 \ub610\ub294 \ud37c\ube14\ub9ad NLB(\uad6c\uc131\ub41c \uacbd\uc6b0)\ub97c \ud1b5\ud574 ",(0,r.jsx)(n.a,{href:"http://your-cluster/dashboard%EC%97%90%EC%84%9C",children:"http://your-cluster/dashboard\uc5d0\uc11c"})," Ray Dashboard\uc5d0 \uc811\uadfc\ud569\ub2c8\ub2e4. \ub2e4\uc74c \uba54\ud2b8\ub9ad\uc774 \uc5b4\ub5bb\uac8c \ubcc0\uacbd\ub418\ub294\uc9c0 \uad00\ucc30\ud569\ub2c8\ub2e4:\n\ubc30\ud3ec\uc758 \ub808\ud50c\ub9ac\uce74 \uc218.\nRay \ud074\ub7ec\uc2a4\ud130\uc758 \ub178\ub4dc \uc218."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\uad00\ucc30 (Kubernetes)"}),": ",(0,r.jsx)(n.code,{children:"kubectl get pods -n stablediffusion"}),"\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc0c8 \ud30c\ub4dc \uc0dd\uc131\uc744 \ud655\uc778\ud569\ub2c8\ub2e4. ",(0,r.jsx)(n.code,{children:"kubectl get nodes"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec Karpenter\uac00 \ud504\ub85c\ube44\uc800\ub2dd\ud55c \uc0c8 \ub178\ub4dc\ub97c \uad00\ucc30\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\uc815\ub9ac",children:"\uc815\ub9ac"}),"\n",(0,r.jsx)(n.p,{children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c \ub9ac\uc18c\uc2a4\uac00 \ub354 \uc774\uc0c1 \ud544\uc694\ud558\uc9c0 \uc54a\uc744 \ub54c \uc815\ub9ac\ud558\uace0 \ud504\ub85c\ube44\uc800\ub2dd\uc744 \ud574\uc81c\ud558\ub294 \ubc29\ubc95\uc744 \uc548\ub0b4\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1\ub2e8\uacc4:"})," Gradio \ucee8\ud14c\uc774\ub108 \uc0ad\uc81c"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"docker run"}),"\uc774 \uc2e4\ud589 \uc911\uc778 localhost \ud130\ubbf8\ub110 \ucc3d\uc5d0\uc11c ",(0,r.jsx)(n.code,{children:"Ctrl-c"}),"\ub97c \ub20c\ub7ec Gradio \uc571\uc744 \uc2e4\ud589\ud558\ub294 \ucee8\ud14c\uc774\ub108\ub97c \uc885\ub8cc\ud569\ub2c8\ub2e4. \uc120\ud0dd\uc801\uc73c\ub85c Docker \uc774\ubbf8\uc9c0\ub97c \uc815\ub9ac\ud569\ub2c8\ub2e4"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker rmi gradio-app:sd\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2\ub2e8\uacc4:"})," Ray \ud074\ub7ec\uc2a4\ud130 \uc0ad\uc81c"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ai-on-eks/blueprints/inference/stable-diffusion-rayserve-gpu\nkubectl delete -f ray-service-stablediffusion.yaml\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"3\ub2e8\uacc4:"})," EKS \ud074\ub7ec\uc2a4\ud130 \uc815\ub9ac\n\uc774 \uc2a4\ud06c\ub9bd\ud2b8\ub294 ",(0,r.jsx)(n.code,{children:"-target"})," \uc635\uc158\uc744 \uc0ac\uc6a9\ud558\uc5ec \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\uac00 \uc62c\ubc14\ub978 \uc21c\uc11c\ub85c \uc0ad\uc81c\ub418\ub3c4\ub85d \ud658\uacbd\uc744 \uc815\ub9ac\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ai-on-eks/infra/jark-stack/\n./cleanup.sh\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},42450(e,n,s){s.d(n,{A:()=>x});var i=s(96540),r=s(5556),a=s.n(r),l=s(34164);const d="collapsibleContent_q3kw",c="header_QCEw",t="icon_PckA",o="content_qLC1",h="expanded_iGsi";var u=s(74848);function p({children:e,header:n}){const[s,r]=(0,i.useState)(!1);return(0,u.jsxs)("div",{className:d,children:[(0,u.jsxs)("div",{className:(0,l.A)(c,{[h]:s}),onClick:()=>{r(!s)},children:[n,(0,u.jsx)("span",{className:(0,l.A)(t,{[h]:s}),children:s?"\ud83d\udc47":"\ud83d\udc48"})]}),s&&(0,u.jsx)("div",{className:o,children:e})]})}p.propTypes={children:a().node.isRequired,header:a().node.isRequired};const x=p},20693(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/gradio-app-gpu-acc504535ea3b57ab6e212e86ea12e4f.png"},4114(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/ray-serve-gpu-sd-cluster-3f6ac2895cf3f6b1400dfc38c42161ca.png"},87463(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/ray-serve-gpu-sd-11dd36b4e8e36ff5aa4e053e6e721b50.png"},28453(e,n,s){s.d(n,{R:()=>l,x:()=>d});var i=s(96540);const r={},a=i.createContext(r);function l(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);