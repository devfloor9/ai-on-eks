"use strict";(globalThis.webpackChunkdoeks_website=globalThis.webpackChunkdoeks_website||[]).push([[5422],{35381(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"blueprints/training/Neuron/Llama-LoRA-Finetuning","title":"Llama-LoRA-Finetuning","description":"EKS\uc5d0\uc11c LLM \ud30c\uc778\ud29c\ub2dd\uc744 \uc704\ud574 \uc774 \uc608\uc81c\ub97c \ubc30\ud3ec\ud558\ub824\uba74 AWS Trainium EC2 \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud55c \uc811\uadfc \uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ubc30\ud3ec\uac00 \uc2e4\ud328\ud558\uba74 \ud574\ub2f9 \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc5d0 \ub300\ud55c \uc811\uadfc \uad8c\ud55c\uc774 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694. \ub178\ub4dc\uac00 \uc2dc\uc791\ub418\uc9c0 \uc54a\uc73c\uba74 Karpenter \ub610\ub294 \ub178\ub4dc \uadf8\ub8f9 \ub85c\uadf8\ub97c \ud655\uc778\ud558\uc138\uc694.","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/blueprints/training/Neuron/Llama-LoRA-Finetuning.md","sourceDirName":"blueprints/training/Neuron","slug":"/blueprints/training/Neuron/Llama-LoRA-Finetuning","permalink":"/ai-on-eks/ko/docs/blueprints/training/Neuron/Llama-LoRA-Finetuning","draft":false,"unlisted":false,"editUrl":"https://github.com/awslabs/ai-on-eks/blob/main/website/docs/blueprints/training/Neuron/Llama-LoRA-Finetuning.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"LoRA\ub97c \ud65c\uc6a9\ud55c Llama 3 \ud30c\uc778\ud29c\ub2dd"},"sidebar":"blueprints","previous":{"title":"Trainium\uc5d0\uc11c\uc758 BERT-Large","permalink":"/ai-on-eks/ko/docs/blueprints/training/Neuron/BERT-Large"},"next":{"title":"EKS\uc5d0\uc11c\uc758 Envoy Gateway \uad6c\ud604","permalink":"/ai-on-eks/ko/docs/blueprints/gateways/envoy-gateway"}}');var s=i(74848),r=i(28453),l=i(42450);const c={sidebar_label:"LoRA\ub97c \ud65c\uc6a9\ud55c Llama 3 \ud30c\uc778\ud29c\ub2dd"},t="HuggingFace Optimum Neuron\uc744 \uc0ac\uc6a9\ud55c Trn1\uc5d0\uc11c\uc758 Llama 3 \ud30c\uc778\ud29c\ub2dd",d={},o=[{value:"Llama 3\ub780?",id:"llama-3\ub780",level:3},{value:"AWS Trainium",id:"aws-trainium",level:3},{value:"1. \uc194\ub8e8\uc158 \ubc30\ud3ec",id:"1-\uc194\ub8e8\uc158-\ubc30\ud3ec",level:2},{value:"\ub9ac\uc18c\uc2a4 \ud655\uc778",id:"\ub9ac\uc18c\uc2a4-\ud655\uc778",level:3},{value:"2. Llama \ud6c8\ub828 \uc791\uc5c5 \uc2dc\uc791",id:"2-llama-\ud6c8\ub828-\uc791\uc5c5-\uc2dc\uc791",level:2},{value:"3. \ud30c\uc778\ud29c\ub2dd\ub41c Llama3 \ubaa8\ub378 \ud655\uc778",id:"3-\ud30c\uc778\ud29c\ub2dd\ub41c-llama3-\ubaa8\ub378-\ud655\uc778",level:2},{value:"4. \uc815\ub9ac",id:"4-\uc815\ub9ac",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"EKS\uc5d0\uc11c LLM \ud30c\uc778\ud29c\ub2dd\uc744 \uc704\ud574 \uc774 \uc608\uc81c\ub97c \ubc30\ud3ec\ud558\ub824\uba74 AWS Trainium EC2 \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud55c \uc811\uadfc \uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ubc30\ud3ec\uac00 \uc2e4\ud328\ud558\uba74 \ud574\ub2f9 \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc5d0 \ub300\ud55c \uc811\uadfc \uad8c\ud55c\uc774 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694. \ub178\ub4dc\uac00 \uc2dc\uc791\ub418\uc9c0 \uc54a\uc73c\uba74 Karpenter \ub610\ub294 \ub178\ub4dc \uadf8\ub8f9 \ub85c\uadf8\ub97c \ud655\uc778\ud558\uc138\uc694."})}),"\n",(0,s.jsx)(n.admonition,{type:"danger",children:(0,s.jsxs)(n.p,{children:["\ucc38\uace0: Llama 3 \ubaa8\ub378\uc740 Meta \ub77c\uc774\uc120\uc2a4\uc758 \uc801\uc6a9\uc744 \ubc1b\uc2b5\ub2c8\ub2e4. \ubaa8\ub378 \uac00\uc911\uce58\uc640 \ud1a0\ud06c\ub098\uc774\uc800\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ud558\ub824\uba74 ",(0,s.jsx)(n.a,{href:"https://ai.meta.com/",children:"\uc6f9\uc0ac\uc774\ud2b8"}),"\ub97c \ubc29\ubb38\ud558\uc5ec \uc811\uadfc \uad8c\ud55c\uc744 \uc694\uccad\ud558\uae30 \uc804\uc5d0 \ub77c\uc774\uc120\uc2a4\uc5d0 \ub3d9\uc758\ud574\uc57c \ud569\ub2c8\ub2e4."]})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"\uc774 \ube14\ub8e8\ud504\ub9b0\ud2b8\ub294 \ub354 \ub098\uc740 \uad00\uce21\uc131, \ub85c\uae45 \ubc0f \ud655\uc7a5\uc131\uc744 \uc704\ud574 \uac1c\uc120 \uc791\uc5c5 \uc911\uc785\ub2c8\ub2e4."})}),"\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"huggingface-optimum-neuron\uc744-\uc0ac\uc6a9\ud55c-trn1\uc5d0\uc11c\uc758-llama-3-\ud30c\uc778\ud29c\ub2dd",children:"HuggingFace Optimum Neuron\uc744 \uc0ac\uc6a9\ud55c Trn1\uc5d0\uc11c\uc758 Llama 3 \ud30c\uc778\ud29c\ub2dd"})}),"\n",(0,s.jsxs)(n.p,{children:["\uc774 \uac00\uc774\ub4dc\ub294 AWS Trainium (Trn1) EC2 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0ac\uc6a9\ud558\uc5ec ",(0,s.jsx)(n.code,{children:"Llama3-8B"})," \uc5b8\uc5b4 \ubaa8\ub378\uc744 \ud30c\uc778\ud29c\ub2dd\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. Neuron\uacfc\uc758 \uc26c\uc6b4 \ud1b5\ud569\uc744 \uc704\ud574 HuggingFace Optimum Neuron\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h3,{id:"llama-3\ub780",children:"Llama 3\ub780?"}),"\n",(0,s.jsx)(n.p,{children:"Llama 3\ub294 \ud14d\uc2a4\ud2b8 \uc0dd\uc131, \uc694\uc57d, \ubc88\uc5ed, \uc9c8\uc758\uc751\ub2f5\uacfc \uac19\uc740 \uc791\uc5c5\uc744 \uc704\ud55c \ub300\uaddc\ubaa8 \uc5b8\uc5b4 \ubaa8\ub378(LLM)\uc785\ub2c8\ub2e4. \ud2b9\uc815 \uc694\uad6c\uc0ac\ud56d\uc5d0 \ub9de\uac8c \ud30c\uc778\ud29c\ub2dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h3,{id:"aws-trainium",children:"AWS Trainium"}),"\n",(0,s.jsx)(n.p,{children:"AWS Trainium (Trn1) \uc778\uc2a4\ud134\uc2a4\ub294 \uace0\ucc98\ub9ac\ub7c9, \uc800\uc9c0\uc5f0 \ub525\ub7ec\ub2dd\uc744 \uc704\ud574 \uc124\uacc4\ub418\uc5c8\uc73c\uba70, Llama 3\uc640 \uac19\uc740 \ub300\uaddc\ubaa8 \ubaa8\ub378 \ud6c8\ub828\uc5d0 \uc774\uc0c1\uc801\uc785\ub2c8\ub2e4. AWS Neuron SDK\ub294 \uace0\uae09 \ucef4\ud30c\uc77c\ub7ec \uae30\uc220\uacfc \ud63c\ud569 \uc815\ubc00\ub3c4 \ud6c8\ub828\uc73c\ub85c \ubaa8\ub378\uc744 \ucd5c\uc801\ud654\ud558\uc5ec Trainium\uc758 \uc131\ub2a5\uc744 \ud5a5\uc0c1\uc2dc\ucf1c \ub354 \ube60\ub974\uace0 \uc815\ud655\ud55c \uacb0\uacfc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"1-\uc194\ub8e8\uc158-\ubc30\ud3ec",children:"1. \uc194\ub8e8\uc158 \ubc30\ud3ec"}),"\n",(0,s.jsxs)(l.A,{header:(0,s.jsx)(n.h2,{children:(0,s.jsx)(n.span,{children:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d"})}),children:[(0,s.jsx)(n.p,{children:"\uc2dc\uc791\ud558\uae30 \uc804\uc5d0 \ud544\uc694\ud55c \ubaa8\ub4e0 \uac83\uc774 \uc900\ube44\ub418\uc5b4 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ub85c\uceec Mac/Windows \ucef4\ud4e8\ud130 \ub610\ub294 Amazon EC2 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"Docker\ub97c \uc124\uce58\ud558\uace0(\ucd5c\uc18c 100GB \uc5ec\uc720 \uacf5\uac04) Docker \uc774\ubbf8\uc9c0\uac00 x86 \uc544\ud0a4\ud14d\ucc98\ub97c \uc0ac\uc6a9\ud558\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694."}),"\n",(0,s.jsxs)(n.li,{children:["\ub2e4\uc74c \ub3c4\uad6c\ub4e4\uc744 \uc124\uce58\ud558\uace0 AWS \uc0ac\uc6a9\uc790 \ub610\ub294 \uc5ed\ud560\uc5d0 \uc801\uc808\ud55c \uad8c\ud55c\uc774 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html",children:"AWS CLI"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://Kubernetes.io/docs/tasks/tools/",children:"kubectl"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.hashicorp.com/tutorials/terraform/install-cli",children:"terraform"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://pypi.org/project/envsubst/",children:"envsubst"})}),"\n",(0,s.jsx)(n.li,{children:"Git (EC2 \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c\ub9cc \ud544\uc694)"}),"\n",(0,s.jsx)(n.li,{children:"Python, pip, jq, unzip"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"ai-on-eks \uc800\uc7a5\uc18c \ud074\ub860:"})}),(0,s.jsx)(n.p,{children:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d\uc774 \uc900\ube44\ub418\uba74 ai-on-eks GitHub \uc800\uc7a5\uc18c\ub97c \ud074\ub860\ud569\ub2c8\ub2e4:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/awslabs/ai-on-eks.git\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"trainium-inferentia \ub514\ub809\ud1a0\ub9ac\ub85c \uc774\ub3d9:"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ai-on-eks/infra/trainium-inferentia\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"terraform"})," \ud558\uc704 \ud3f4\ub354\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"blueprint.tfvars"})," \ud30c\uc77c\uc5d0 \uc6d0\ud558\ub294 AWS \ub9ac\uc804\uc744 \uc124\uc815\ud569\ub2c8\ub2e4."]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ucc38\uace0:"})," Trainium \uc778\uc2a4\ud134\uc2a4\ub294 \ud2b9\uc815 \ub9ac\uc804\uc5d0\uc11c\ub9cc \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4. \uc9c0\uc6d0 \ub9ac\uc804\uc740 ",(0,s.jsx)(n.a,{href:"https://repost.aws/articles/ARmXIF-XS3RO27p0Pd1dVZXQ/what-regions-have-aws-inferentia-and-trainium-instances",children:"\uc5ec\uae30"}),"\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"enable_aws_fsx_csi_driver"}),"\uc640 ",(0,s.jsx)(n.code,{children:"deploy_fsx_volume"})," \ubcc0\uc218\ub97c ",(0,s.jsx)(n.code,{children:"true"}),"\ub85c \uc124\uc815\ud558\uc5ec AWS FSx for Lustre CSI \ub4dc\ub77c\uc774\ubc84\uc640 FSx-L \ubcfc\ub968 \ud504\ub85c\ube44\uc800\ub2dd\uc744 \ud65c\uc131\ud654\ud558\uc138\uc694. \uc774 \ud30c\uc778\ud29c\ub2dd \uc608\uc81c\uc5d0\uc11c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \ub098\uba38\uc9c0 \ub9ac\uc18c\uc2a4\ub294 ",(0,s.jsx)(n.code,{children:"false"}),"\ub85c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),(0,s.jsx)(n.p,{children:"\uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc2e4\ud589\ud558\uc5ec \ud544\uc694\ud55c \ubaa8\ub4e0 \uc560\ub4dc\uc628\uc774 \ud3ec\ud568\ub41c EKS \ud074\ub7ec\uc2a4\ud130\ub97c \uc124\uc815\ud569\ub2c8\ub2e4:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./install.sh\n"})}),(0,s.jsx)("a",{id:"\ub9ac\uc18c\uc2a4-\ud655\uc778"}),(0,s.jsx)(n.h3,{id:"\ub9ac\uc18c\uc2a4-\ud655\uc778",children:"\ub9ac\uc18c\uc2a4 \ud655\uc778"}),(0,s.jsx)(n.p,{children:"\uc774\uc804\uc5d0 \uc120\ud0dd\ud55c \ub9ac\uc804\uc744 \uc0ac\uc6a9\ud558\uc5ec EKS \ud074\ub7ec\uc2a4\ud130\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"aws eks --region AWS_REGION describe-cluster --name trainium-inferentia\n"})}),(0,s.jsx)(n.p,{children:"\ub3d9\uc77c\ud55c \ub9ac\uc804\uc744 \uc0ac\uc6a9\ud558\uc5ec EKS\uc640 \uc778\uc99d\ud558\ub3c4\ub85d Kubernetes \uc124\uc815 \ud30c\uc77c\uc744 \uc5c5\ub370\uc774\ud2b8\ud569\ub2c8\ub2e4:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"aws eks --region AWS_REGION update-kubeconfig --name trainium-inferentia\n\n# EKS \uad00\ub9ac\ud615 \ub178\ub4dc \uadf8\ub8f9 \ub178\ub4dc \ud655\uc778\nkubectl get nodes\n"})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ucc38\uace0:"})," AWS_REGION\uc744 \uc774\uc804\uc5d0 \uc120\ud0dd\ud55c AWS \ub9ac\uc804\uc73c\ub85c \ub300\uccb4\ud558\uc138\uc694."]})]}),"\n",(0,s.jsx)(n.h2,{id:"2-llama-\ud6c8\ub828-\uc791\uc5c5-\uc2dc\uc791",children:"2. Llama \ud6c8\ub828 \uc791\uc5c5 \uc2dc\uc791"}),"\n",(0,s.jsx)(n.p,{children:"\ud6c8\ub828 \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc2dc\uc791\ud558\uae30 \uc804\uc5d0 \uba3c\uc800 \uc720\ud2f8\ub9ac\ud2f0 \ud30c\ub4dc\ub97c \ubc30\ud3ec\ud569\ub2c8\ub2e4. \uc774 \ud30c\ub4dc\uc758 \ub300\ud654\ud615 \uc178\uc5d0 \uc811\uc18d\ud558\uc5ec \ud30c\uc778\ud29c\ub2dd \uc791\uc5c5\uc758 \uc9c4\ud589 \uc0c1\ud669\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud558\uace0, \ud30c\uc778\ud29c\ub2dd\ub41c \ubaa8\ub378 \uac00\uc911\uce58\uc5d0 \uc811\uadfc\ud558\uba70, \uc0d8\ud50c \ud504\ub86c\ud504\ud2b8\uc5d0 \ub300\ud574 \ud30c\uc778\ud29c\ub2dd\ub41c \ubaa8\ub378\uc774 \uc0dd\uc131\ud55c \ucd9c\ub825\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f training-artifact-access-pod.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"\ud6c8\ub828 \uc2a4\ud06c\ub9bd\ud2b8\uc6a9 ConfigMap\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f llama3-finetuning-script-configmap.yaml\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\ud6c8\ub828 \uc2a4\ud06c\ub9bd\ud2b8\uac00 HuggingFace\uc5d0\uc11c Llama 3 \ubaa8\ub378\uc744 \ub2e4\uc6b4\ub85c\ub4dc\ud560 \uc218 \uc788\uc73c\ub824\uba74 \uc778\uc99d \ubc0f \ubaa8\ub378 \uc811\uadfc\uc744 \uc704\ud574 HuggingFace Hub \uc811\uadfc \ud1a0\ud070\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. HuggingFace \ud1a0\ud070 \uc0dd\uc131 \ubc0f \uad00\ub9ac\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,s.jsx)(n.a,{href:"https://huggingface.co/docs/hub/security-tokens",children:"Hugging Face Token Management"}),"\ub97c \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,s.jsxs)(n.p,{children:["HuggingFace Hub \ud1a0\ud070\uc744 \ud658\uacbd \ubcc0\uc218\ub85c \uc124\uc815\ud569\ub2c8\ub2e4. ",(0,s.jsx)(n.code,{children:"your_huggingface_hub_access_token"}),"\uc744 \uc2e4\uc81c HuggingFace Hub \uc811\uadfc \ud1a0\ud070\uc73c\ub85c \ub300\uccb4\ud558\uc138\uc694."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export HUGGINGFACE_HUB_ACCESS_TOKEN=$(echo -n "your_huggingface_hub_access_token" | base64)\n'})}),"\n",(0,s.jsx)(n.p,{children:"\ub2e4\uc74c \uba85\ub839\uc744 \uc2e4\ud589\ud558\uc5ec Secret\uacfc \ud30c\uc778\ud29c\ub2dd Job \ub9ac\uc18c\uc2a4\ub97c \ubc30\ud3ec\ud569\ub2c8\ub2e4. \uc774 \uba85\ub839\uc740 yaml\uc744 Kubernetes \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc801\uc6a9\ud558\uae30 \uc804\uc5d0 HUGGINGFACE_HUB_ACCESS_TOKEN \ud658\uacbd \ubcc0\uc218\ub97c \uc790\ub3d9\uc73c\ub85c \uce58\ud658\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ucc38\uace0:"})," \ud30c\uc778\ud29c\ub2dd \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ub294 ",(0,s.jsx)(n.code,{children:"us-west-2"})," ECR \uc800\uc7a5\uc18c\uc5d0\uc11c \uac00\uc838\uc635\ub2c8\ub2e4. \uc774 \ud30c\uc778\ud29c\ub2dd \uc608\uc81c\ub97c \uc2e4\ud589\ud558\uae30 \uc704\ud574 \uc120\ud0dd\ud55c \ub9ac\uc804\uc5d0 \ub530\ub77c \ub2e4\ub978 \uc120\ud638 \ub9ac\uc804\uc744 \uc81c\uacf5\ud558\ub294\uc9c0 \ud655\uc778\ud558\ub824\uba74 ",(0,s.jsx)(n.a,{href:"https://huggingface.co/docs/optimum-neuron/en/containers",children:"HuggingFace \uc6f9\uc0ac\uc774\ud2b8"}),"\ub97c \uac80\ud1a0\ud558\uc138\uc694. \ub2e4\ub978 \uc9c0\uc6d0 \ub9ac\uc804\uc744 \uc120\ud0dd\ud558\ub294 \uacbd\uc6b0 \uc544\ub798 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uae30 \uc804\uc5d0 lora-finetune-resources.yaml \ud30c\uc77c\uc758 \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0 URL\uc5d0\uc11c AWS \uacc4\uc815 ID\uc640 \ub9ac\uc804\uc744 \uc5c5\ub370\uc774\ud2b8\ud558\uc138\uc694."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"envsubst < lora-finetune-resources.yaml | kubectl apply -f -\n"})}),"\n",(0,s.jsx)(n.h2,{id:"3-\ud30c\uc778\ud29c\ub2dd\ub41c-llama3-\ubaa8\ub378-\ud655\uc778",children:"3. \ud30c\uc778\ud29c\ub2dd\ub41c Llama3 \ubaa8\ub378 \ud655\uc778"}),"\n",(0,s.jsx)(n.p,{children:"\uc791\uc5c5 \uc0c1\ud0dc\ub97c \ud655\uc778\ud569\ub2c8\ub2e4:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get jobs\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ucc38\uace0:"})," \ucee8\ud14c\uc774\ub108\uac00 \uc2a4\ucf00\uc904\ub9c1\ub418\uc9c0 \uc54a\uc73c\uba74 Karpenter \ub85c\uadf8\uc5d0\uc11c \uc624\ub958\ub97c \ud655\uc778\ud558\uc138\uc694. \uc120\ud0dd\ud55c \uac00\uc6a9 \uc601\uc5ed(AZ)\uc774\ub098 \uc11c\ube0c\ub137\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud55c trn1.32xlarge EC2 \uc778\uc2a4\ud134\uc2a4\uac00 \uc5c6\ub294 \uacbd\uc6b0 \uc774\ub7f0 \ud604\uc0c1\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud574\uacb0\ud558\ub824\uba74 ai-on-eks/infra/base/terraform\uc5d0 \uc788\ub294 main.tf \ud30c\uc77c\uc758 local.azs \ud544\ub4dc\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uc138\uc694. \ub610\ud55c ai-on-eks/infra/base/terraform\uc5d0 \uc788\ub294 addons.tf \ud30c\uc77c\uc758 trainium-trn1 EC2NodeClass\uac00 \ud574\ub2f9 AZ\uc758 \uc62c\ubc14\ub978 \uc11c\ube0c\ub137\uc744 \ucc38\uc870\ud558\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694. \uadf8\ub7f0 \ub2e4\uc74c ai-on-eks/infra/trainium-inferentia\uc5d0\uc11c install.sh\ub97c \ub2e4\uc2dc \uc2e4\ud589\ud558\uc5ec Terraform\uc744 \ud1b5\ud574 \ubcc0\uacbd \uc0ac\ud56d\uc744 \uc801\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\ud30c\uc778\ud29c\ub2dd \uc791\uc5c5\uc758 \ub85c\uadf8\ub97c \ubaa8\ub2c8\ud130\ub9c1\ud558\uac70\ub098, \ud29c\ub2dd\ub41c \ubaa8\ub378\uc5d0 \uc811\uadfc\ud558\uac70\ub098, \ud30c\uc778\ud29c\ub2dd\ub41c \ubaa8\ub378\ub85c \ud14c\uc2a4\ud2b8 \uc2e4\ud589\uc5d0\uc11c \uc0dd\uc131\ub41c text-to-SQL \ucd9c\ub825\uc744 \ud655\uc778\ud558\ub824\uba74 \uc720\ud2f8\ub9ac\ud2f0 \ud30c\ub4dc\uc5d0\uc11c \uc178\uc744 \uc5f4\uace0 \uc774\ub7ec\ud55c \ud56d\ubaa9\ub4e4\uc774 \uc788\ub294 ",(0,s.jsx)(n.code,{children:"/shared"})," \ud3f4\ub354\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4. \ud30c\uc778\ud29c\ub2dd\ub41c \ubaa8\ub378\uc740 ",(0,s.jsx)(n.code,{children:"llama3_tuned_model_<timestamp>"})," \uc774\ub984\uc758 \ud3f4\ub354\uc5d0 \uc800\uc7a5\ub418\uba70, \uc0d8\ud50c \ud504\ub86c\ud504\ud2b8\uc5d0\uc11c \uc0dd\uc131\ub41c SQL \ucffc\ub9ac\ub294 \ubaa8\ub378 \ud3f4\ub354 \uc606\uc5d0 \uc788\ub294 ",(0,s.jsx)(n.code,{children:"llama3_finetuning.out"})," \uc774\ub984\uc758 \ub85c\uadf8 \ud30c\uc77c\uc5d0\uc11c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl exec -it training-artifact-access-pod -- /bin/bash\n\ncd /shared\n\nls -l llama3_tuned_model* llama3_finetuning*\n"})}),"\n",(0,s.jsx)(n.h2,{id:"4-\uc815\ub9ac",children:"4. \uc815\ub9ac"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ucc38\uace0:"})," \ucd94\uac00 AWS \ube44\uc6a9\uc744 \ud53c\ud558\uae30 \uc704\ud574 \ud56d\uc0c1 \uc815\ub9ac \ub2e8\uacc4\ub97c \uc2e4\ud589\ud558\uc138\uc694."]}),"\n",(0,s.jsx)(n.p,{children:"\uc774 \uc194\ub8e8\uc158\uc5d0\uc11c \uc0dd\uc131\ub41c \ub9ac\uc18c\uc2a4\ub97c \uc81c\uac70\ud558\ub824\uba74 ai-on-eks \uc800\uc7a5\uc18c \ub8e8\ud2b8\uc5d0\uc11c \ub2e4\uc74c \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Kubernetes \ub9ac\uc18c\uc2a4 \uc0ad\uc81c:\ncd blueprints/training/llama-lora-finetuning-trn1\nenvsubst < lora-finetune-resources.yaml | kubectl delete -f -\nkubectl delete -f llama3-finetuning-script-configmap.yaml\nkubectl delete -f training-artifact-access-pod.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"EKS \ud074\ub7ec\uc2a4\ud130 \ubc0f \uad00\ub828 \ub9ac\uc18c\uc2a4 \uc815\ub9ac:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ../../../infra/trainium-inferentia/terraform\n./cleanup.sh\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},42450(e,n,i){i.d(n,{A:()=>p});var a=i(96540),s=i(5556),r=i.n(s),l=i(34164);const c="collapsibleContent_q3kw",t="header_QCEw",d="icon_PckA",o="content_qLC1",h="expanded_iGsi";var u=i(74848);function m({children:e,header:n}){const[i,s]=(0,a.useState)(!1);return(0,u.jsxs)("div",{className:c,children:[(0,u.jsxs)("div",{className:(0,l.A)(t,{[h]:i}),onClick:()=>{s(!i)},children:[n,(0,u.jsx)("span",{className:(0,l.A)(d,{[h]:i}),children:i?"\ud83d\udc47":"\ud83d\udc48"})]}),i&&(0,u.jsx)("div",{className:o,children:e})]})}m.propTypes={children:r().node.isRequired,header:r().node.isRequired};const p=m},28453(e,n,i){i.d(n,{R:()=>l,x:()=>c});var a=i(96540);const s={},r=a.createContext(s);function l(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);