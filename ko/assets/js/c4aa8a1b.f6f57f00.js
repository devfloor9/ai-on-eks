"use strict";(globalThis.webpackChunkdoeks_website=globalThis.webpackChunkdoeks_website||[]).push([[916],{48145(n,e,i){i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"guidance/benchmarking/test-scenarios/production-simulation","title":"\uc2dc\ub098\ub9ac\uc624 4: \ud504\ub85c\ub355\uc158 \uc2dc\ubbac\ub808\uc774\uc158","description":"\uc774 \uc2dc\ub098\ub9ac\uc624\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub294 \uacbd\uc6b0:","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/guidance/benchmarking/4-test-scenarios/4-production-simulation.md","sourceDirName":"guidance/benchmarking/4-test-scenarios","slug":"/guidance/benchmarking/test-scenarios/production-simulation","permalink":"/ai-on-eks/ko/docs/guidance/benchmarking/test-scenarios/production-simulation","draft":false,"unlisted":false,"editUrl":"https://github.com/awslabs/ai-on-eks/blob/main/website/docs/guidance/benchmarking/4-test-scenarios/4-production-simulation.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_label":"\uc2dc\ub098\ub9ac\uc624 4 - \ud504\ub85c\ub355\uc158 \uc2dc\ubbac\ub808\uc774\uc158"},"sidebar":"guidance","previous":{"title":"\uc2dc\ub098\ub9ac\uc624 3 - \uc790\ub3d9 \ud3ec\ud654 \uac10\uc9c0","permalink":"/ai-on-eks/ko/docs/guidance/benchmarking/test-scenarios/automatic-saturation-detection"},"next":{"title":"\uc2dc\ub098\ub9ac\uc624 5 - \uc2e4\uc81c \ub370\uc774\ud130\uc14b \ud14c\uc2a4\ud2b8","permalink":"/ai-on-eks/ko/docs/guidance/benchmarking/test-scenarios/real-dataset-testing"}}');var s=i(74848),a=i(28453);const r={sidebar_label:"\uc2dc\ub098\ub9ac\uc624 4 - \ud504\ub85c\ub355\uc158 \uc2dc\ubbac\ub808\uc774\uc158"},o="\uc2dc\ub098\ub9ac\uc624 4: \ud504\ub85c\ub355\uc158 \uc2dc\ubbac\ub808\uc774\uc158",c={},l=[{value:"\uc774 \uc2dc\ub098\ub9ac\uc624\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub294 \uacbd\uc6b0:",id:"\uc774-\uc2dc\ub098\ub9ac\uc624\ub97c-\uc0ac\uc6a9\ud574\uc57c-\ud558\ub294-\uacbd\uc6b0",level:2},{value:"\ubc30\ud3ec",id:"\ubc30\ud3ec",level:2},{value:"Helm \ucc28\ud2b8 \uc0ac\uc6a9 (\uad8c\uc7a5)",id:"helm-\ucc28\ud2b8-\uc0ac\uc6a9-\uad8c\uc7a5",level:3},{value:"\ud2b8\ub798\ud53d \ud328\ud134 \uc0ac\uc6a9\uc790 \uc815\uc758",id:"\ud2b8\ub798\ud53d-\ud328\ud134-\uc0ac\uc6a9\uc790-\uc815\uc758",level:3},{value:"\uc8fc\uc694 \uad6c\uc131:",id:"\uc8fc\uc694-\uad6c\uc131",level:2},{value:"\uacb0\uacfc \uc774\ud574:",id:"\uacb0\uacfc-\uc774\ud574",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...n.components},{Details:i}=e;return i||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\uc2dc\ub098\ub9ac\uc624-4-\ud504\ub85c\ub355\uc158-\uc2dc\ubbac\ub808\uc774\uc158",children:"\uc2dc\ub098\ub9ac\uc624 4: \ud504\ub85c\ub355\uc158 \uc2dc\ubbac\ub808\uc774\uc158"})}),"\n",(0,s.jsx)(e.h2,{id:"\uc774-\uc2dc\ub098\ub9ac\uc624\ub97c-\uc0ac\uc6a9\ud574\uc57c-\ud558\ub294-\uacbd\uc6b0",children:"\uc774 \uc2dc\ub098\ub9ac\uc624\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub294 \uacbd\uc6b0:"}),"\n",(0,s.jsx)(e.p,{children:'\ucd9c\uc2dc \uc804 \ucd5c\uc885 \uac80\uc99d\uc73c\ub85c \ud504\ub85c\ub355\uc158 \uc2dc\ubbac\ub808\uc774\uc158\uc744 \ubc30\ud3ec\ud558\uc2ed\uc2dc\uc624; \uade0\uc77c\ud55c \ubd80\ud558 \ub300\uc2e0 \uac00\ubcc0 \uc694\uccad \ud06c\uae30\uc640 Poisson(\ubc84\uc2a4\ud2b8) \ub3c4\ucc29\uc73c\ub85c \uc2e4\uc81c \ud2b8\ub798\ud53d \ud63c\ub780\uc744 \ubcf5\uc81c\ud569\ub2c8\ub2e4. \ubca0\uc774\uc2a4\ub77c\uc778 \ubc0f \ud3ec\ud654 \ud14c\uc2a4\ud2b8\ub97c \uae30\ubc18\uc73c\ub85c \ucd5c\uc801\ud654\ud55c \ud6c4 "\ud604\uc2e4\uc801\uc778 \uc870\uac74\uc5d0\uc11c \uc0ac\uc6a9\uc790\uac00 \uc88b\uc740 \uacbd\ud5d8\uc744 \ud560 \uac83\uc778\uac00?"\ub77c\ub294 \uc9c8\ubb38\uc5d0 \ub2f5\ud558\uae30 \uc704\ud574 \uc774\uac83\uc744 \uc0ac\uc6a9\ud558\uc2ed\uc2dc\uc624. \uc2e4\uc81c \ud504\ub85c\ub355\uc158 \ud2b8\ub798\ud53d\uc740 \uc2dc\uacc4\ucc98\ub7fc \ub3c4\ucc29\ud558\ub294 \ub3d9\uc77c\ud55c 512 \ud1a0\ud070 \uc694\uccad\uc73c\ub85c \uad6c\uc131\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4; \uc0ac\uc6a9\uc790\ub294 \ubb34\uc791\uc704 \uac04\uaca9\uc73c\ub85c \ub2e4\uc591\ud55c \uae38\uc774\ub97c \ubcf4\ub0b4\uba70, \uc774 \ud14c\uc2a4\ud2b8\ub294 \uc2dc\uc2a4\ud15c\uc774 SLA \uc124\uc815\uc744 \uc704\ud55c \ud5c8\uc6a9 \uac00\ub2a5\ud55c \ubc31\ubd84\uc704\uc218 \uc9c0\uc5f0 \uc2dc\uac04\uc744 \uc720\uc9c0\ud558\uba74\uc11c \uadf8 \uc774\uc9c8\uc131\uc744 \ucc98\ub9ac\ud558\ub294\uc9c0 \uac80\uc99d\ud569\ub2c8\ub2e4.'}),"\n",(0,s.jsx)(e.h2,{id:"\ubc30\ud3ec",children:"\ubc30\ud3ec"}),"\n",(0,s.jsx)(e.h3,{id:"helm-\ucc28\ud2b8-\uc0ac\uc6a9-\uad8c\uc7a5",children:"Helm \ucc28\ud2b8 \uc0ac\uc6a9 (\uad8c\uc7a5)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# AI on EKS Helm \uc800\uc7a5\uc18c \ucd94\uac00\nhelm repo add ai-on-eks https://awslabs.github.io/ai-on-eks-charts/\nhelm repo update\n\n# \ud504\ub85c\ub355\uc158 \uc2dc\ub098\ub9ac\uc624 \uc124\uce58\nhelm install production-sim ai-on-eks/benchmark-charts \\\n  --set benchmark.scenario=production \\\n  --set benchmark.target.baseUrl=http://qwen3-vllm.default:8000 \\\n  --set benchmark.target.modelName=qwen3-8b \\\n  --set benchmark.target.tokenizerPath=Qwen/Qwen3-8B \\\n  --namespace benchmarking --create-namespace\n\n# \uc9c4\ud589 \uc0c1\ud669 \ubaa8\ub2c8\ud130\ub9c1 - \ubc84\uc2a4\ud2b8 \ud2b8\ub798\ud53d\uc73c\ub85c \uc778\ud55c \uac00\ubcc0 \uc9c0\uc5f0 \uc2dc\uac04 \uc608\uc0c1\nkubectl logs -n benchmarking -l benchmark.scenario=production -f\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\ud2b8\ub798\ud53d-\ud328\ud134-\uc0ac\uc6a9\uc790-\uc815\uc758",children:"\ud2b8\ub798\ud53d \ud328\ud134 \uc0ac\uc6a9\uc790 \uc815\uc758"}),"\n",(0,s.jsx)(e.p,{children:"\ubc84\uc2a4\ud2b8 \ube44\uc728 \ubc0f \ubcc0\ub3d9\uc131 \uc870\uc815:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"# custom-production.yaml\nbenchmark:\n  scenario: production\n  target:\n    baseUrl: http://your-model.your-namespace:8000\n  scenarios:\n    production:\n      data:\n        input:\n          mean: 2048          # \ub354 \uae34 \ud3c9\uade0 \ud504\ub86c\ud504\ud2b8\n          stdDev: 1024        # \ub354 \ub192\uc740 \ubcc0\ub3d9\uc131\n          min: 256\n          max: 8192\n      load:\n        type: poisson         # \ubc84\uc2a4\ud2b8 \ub3c4\ucc29 \uc720\uc9c0\n        stages:\n          - rate: 20          # \ub354 \ub192\uc740 \ubaa9\ud45c QPS\n            duration: 900     # \ub354 \uae34 \ud14c\uc2a4\ud2b8 (15\ubd84)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"helm install production-sim ai-on-eks/benchmark-charts -f custom-production.yaml -n benchmarking\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\uc8fc\uc694-\uad6c\uc131",children:"\uc8fc\uc694 \uad6c\uc131:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\uac00\ubcc0 \ud569\uc131 \ub370\uc774\ud130 (\uc785\ub825/\ucd9c\ub825\uc5d0 \ub300\ud55c \uac00\uc6b0\uc2dc\uc548 \ubd84\ud3ec)"}),"\n",(0,s.jsx)(e.li,{children:"\ub113\uc740 \ud1a0\ud070 \ubd84\ud3ec (\ud3c9\uade0 1024/512, \ub192\uc740 \ubd84\uc0b0)"}),"\n",(0,s.jsx)(e.li,{children:"\uade0\uc77c\ud55c \ubd80\ud558 \ub300\uc2e0 Poisson(\ubc84\uc2a4\ud2b8) \ub3c4\ucc29"}),"\n",(0,s.jsx)(e.li,{children:"\uc2a4\ud2b8\ub9ac\ubc0d \ud65c\uc131\ud654"}),"\n",(0,s.jsx)(e.li,{children:"8\uac1c\uc758 \ub3d9\uc2dc \uc6cc\ucee4"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\uacb0\uacfc-\uc774\ud574",children:"\uacb0\uacfc \uc774\ud574:"}),"\n",(0,s.jsx)(e.p,{children:"P99 \ubc0f P95 \uc9c0\uc5f0 \uc2dc\uac04\uc5d0\ub9cc \uc9d1\uc911\ud558\uc2ed\uc2dc\uc624; \uc774\ub7ec\ud55c \ubc31\ubd84\uc704\uc218\ub294 99%\uc640 95%\uc758 \uc0ac\uc6a9\uc790\uac00 \uacbd\ud5d8\ud558\ub294 \ucd5c\uc545\uc758 \uacbd\ud5d8\uc744 \ub098\ud0c0\ub0b4\uba70, \ub098\uc05c \ud14c\uc77c \uc131\ub2a5\uc744 \uc228\uae30\ub294 \ud3c9\uade0\uacfc \ub2e4\ub985\ub2c8\ub2e4. \ub113\uc740 \uc785\ub825/\ucd9c\ub825 \ubd84\ud3ec\ub294 \uc790\uc5f0\uc2a4\ub7ec\uc6b4 \ubcc0\ub3d9\uc131\uc744 \uc0dd\uc131\ud558\ubbc0\ub85c \ubca0\uc774\uc2a4\ub77c\uc778 \ud14c\uc2a4\ud2b8\ubcf4\ub2e4 \ub354 \ub192\uc740 \ubd84\uc0b0\uc744 \uc608\uc0c1\ud558\uc2ed\uc2dc\uc624; \uc774\uac83\uc740 \uc815\uc0c1\uc774\uba70 \ud504\ub85c\ub355\uc158 \ud604\uc2e4\uc744 \ubc18\uc601\ud569\ub2c8\ub2e4. Poisson \ubc84\uc2a4\ud2b8\ub294 \uc9c0\uc18d \uac00\ub2a5\ud55c \ud3c9\uade0 \ube44\uc728\uc5d0\uc11c\ub3c4 \uc784\uc2dc \ub300\uae30\uc5f4 \ucd95\uc801\uc744 \uc720\ubc1c\ud558\ubbc0\ub85c, P99\uac00 \uade0\uc77c \ubd80\ud558 \ud14c\uc2a4\ud2b8\uac00 \uc81c\uc548\ud55c \uac83\ubcf4\ub2e4 \uc0c1\ub2f9\ud788 \ub098\uc058\uba74 \uc608\uc0c1\ubcf4\ub2e4 \ub354 \ub9ce\uc740 \uc5ec\uc720\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. \ud3c9\uade0\uc774 \uc544\ub2cc \uc774\ub7ec\ud55c \ud604\uc2e4\uc801\uc778 \ubc31\ubd84\uc704\uc218\ub97c \uae30\ubc18\uc73c\ub85c SLA\ub97c \uc124\uc815\ud558\uc2ed\uc2dc\uc624; P99 TTFT\uac00 1200ms\uc774\uba74 \ud3c9\uade0\uc774 400ms\uc77c \uc218 \uc788\uc5b4\ub3c4 1\ucd08 \ubbf8\ub9cc \uc9c0\uc5f0 \uc2dc\uac04\uc744 \uc57d\uc18d\ud558\uc9c0 \ub9c8\uc2ed\uc2dc\uc624."}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:"\ub300\uc548: \uc6d0\uc2dc Kubernetes YAML"})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:'---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: inference-perf-production\n  namespace: benchmarking\ndata:\n  config.yml: |\n    api:\n      type: completion\n      streaming: true\n\n    data:\n      type: synthetic\n      input_distribution:\n        mean: 1024\n        std_dev: 512\n        min: 128\n        max: 4096\n      output_distribution:\n        mean: 512\n        std_dev: 256\n        min: 50\n        max: 2048\n\n    load:\n      type: poisson  # \ud604\uc2e4\uc801\uc778 \ubc84\uc2a4\ud2b8 \ub3c4\ucc29\n      stages:\n        - rate: 15\n          duration: 600\n      num_workers: 8\n\n    server:\n      type: vllm\n      model_name: qwen3-8b\n      base_url: http://qwen3-vllm.default:8000\n      ignore_eos: true\n\n    tokenizer:\n      pretrained_model_name_or_path: Qwen/Qwen3-8B\n\n    storage:\n      simple_storage_service:\n        bucket_name: "inference-perf-results"\n        path: "production-sim/results"\n---\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: inference-perf-production\n  namespace: benchmarking\nspec:\n  backoffLimit: 2\n  ttlSecondsAfterFinished: 3600\n  template:\n    spec:\n      restartPolicy: Never\n      serviceAccountName: inference-perf-sa\n\n      affinity:\n        podAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n          - labelSelector:\n              matchLabels:\n                app.kubernetes.io/component: qwen3-vllm\n            topologyKey: topology.kubernetes.io/zone\n\n      containers:\n      - name: inference-perf\n        image: quay.io/inference-perf/inference-perf:v0.2.0\n        command: ["/bin/sh", "-c"]\n        args:\n        - |\n          inference-perf --config_file /workspace/config.yml\n        volumeMounts:\n        - name: config\n          mountPath: /workspace/config.yml\n          subPath: config.yml\n        resources:\n          requests:\n            cpu: "2"\n            memory: "4Gi"\n          limits:\n            cpu: "4"\n            memory: "8Gi"\n\n      volumes:\n      - name: config\n        configMap:\n          name: inference-perf-production\n'})})]})]})}function m(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},28453(n,e,i){i.d(e,{R:()=>r,x:()=>o});var t=i(96540);const s={},a=t.createContext(s);function r(n){const e=t.useContext(a);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);