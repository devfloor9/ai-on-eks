"use strict";(globalThis.webpackChunkdoeks_website=globalThis.webpackChunkdoeks_website||[]).push([[7325],{91153(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>l});const d=JSON.parse('{"id":"guidance/networking","title":"AI\ub97c \uc704\ud55c \ub124\ud2b8\uc6cc\ud0b9","description":"VPC \ubc0f IP \uace0\ub824 \uc0ac\ud56d","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/guidance/networking.md","sourceDirName":"guidance","slug":"/guidance/networking","permalink":"/ai-on-eks/ko/docs/guidance/networking","draft":false,"unlisted":false,"editUrl":"https://github.com/awslabs/ai-on-eks/blob/main/website/docs/guidance/networking.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"AI\ub97c \uc704\ud55c \ub124\ud2b8\uc6cc\ud0b9"},"sidebar":"guidance","previous":{"title":"EKS\uc5d0\uc11c \ub3d9\uc801 \ub9ac\uc18c\uc2a4 \ud560\ub2f9","permalink":"/ai-on-eks/ko/docs/guidance/dynamic-resource-allocation"},"next":{"title":"\uad00\uce21\uc131","permalink":"/ai-on-eks/ko/docs/guidance/observability"}}');var i=s(74848),r=s(28453);const o={sidebar_label:"AI\ub97c \uc704\ud55c \ub124\ud2b8\uc6cc\ud0b9"},c="AI\ub97c \uc704\ud55c \ub124\ud2b8\uc6cc\ud0b9",a={},l=[{value:"VPC \ubc0f IP \uace0\ub824 \uc0ac\ud56d",id:"vpc-\ubc0f-ip-\uace0\ub824-\uc0ac\ud56d",level:2},{value:"EKS \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c \ub300\ub7c9\uc758 IP \uc8fc\uc18c \uc0ac\uc6a9\uc744 \uacc4\ud68d\ud558\uc2ed\uc2dc\uc624.",id:"eks-\ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c-\ub300\ub7c9\uc758-ip-\uc8fc\uc18c-\uc0ac\uc6a9\uc744-\uacc4\ud68d\ud558\uc2ed\uc2dc\uc624",level:3},{value:"IP \uacf5\uac04\uc774 \uc81c\ud55c\ub41c \uacbd\uc6b0 \ubcf4\uc870 CIDR \uc0ac\uc6a9\uc744 \uace0\ub824\ud558\uc2ed\uc2dc\uc624.",id:"ip-\uacf5\uac04\uc774-\uc81c\ud55c\ub41c-\uacbd\uc6b0-\ubcf4\uc870-cidr-\uc0ac\uc6a9\uc744-\uace0\ub824\ud558\uc2ed\uc2dc\uc624",level:3},{value:"VPC CNI \ud29c\ub2dd",id:"vpc-cni-\ud29c\ub2dd",level:2},{value:"VPC CNI \ubc0f EC2 \uc18d\ub3c4 \uc81c\ud55c",id:"vpc-cni-\ubc0f-ec2-\uc18d\ub3c4-\uc81c\ud55c",level:3},{value:"\ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130 \ub610\ub294 \ubcc0\ub3d9\uc774 \ub9ce\uc740 \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c <code>WARM_IP_TARGET</code> \uc0ac\uc6a9\uc744 \ud53c\ud558\uc2ed\uc2dc\uc624",id:"\ub300\uaddc\ubaa8-\ud074\ub7ec\uc2a4\ud130-\ub610\ub294-\ubcc0\ub3d9\uc774-\ub9ce\uc740-\ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c-warm_ip_target-\uc0ac\uc6a9\uc744-\ud53c\ud558\uc2ed\uc2dc\uc624",level:3},{value:"\ub300\ud615 \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc5d0\uc11c <code>MAX_ENI</code> \ubc0f <code>max-pods</code>\ub85c \ub178\ub4dc\ub2f9 IP \uc218\ub97c \uc81c\ud55c\ud558\uc2ed\uc2dc\uc624",id:"\ub300\ud615-\uc778\uc2a4\ud134\uc2a4-\uc720\ud615\uc5d0\uc11c-max_eni-\ubc0f-max-pods\ub85c-\ub178\ub4dc\ub2f9-ip-\uc218\ub97c-\uc81c\ud55c\ud558\uc2ed\uc2dc\uc624",level:3},{value:"Karpenter\ub97c \uc0ac\uc6a9\ud55c Maxpods",id:"karpenter\ub97c-\uc0ac\uc6a9\ud55c-maxpods",level:4},{value:"\uc560\ud50c\ub9ac\ucf00\uc774\uc158",id:"\uc560\ud50c\ub9ac\ucf00\uc774\uc158",level:2},{value:"DNS \uc870\ud68c \ubc0f ndots",id:"dns-\uc870\ud68c-\ubc0f-ndots",level:3},{value:"AZ \uac04 \ub124\ud2b8\uc6cc\ud06c \ucd5c\uc801\ud654",id:"az-\uac04-\ub124\ud2b8\uc6cc\ud06c-\ucd5c\uc801\ud654",level:3}];function t(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ai\ub97c-\uc704\ud55c-\ub124\ud2b8\uc6cc\ud0b9",children:"AI\ub97c \uc704\ud55c \ub124\ud2b8\uc6cc\ud0b9"})}),"\n",(0,i.jsx)(n.h2,{id:"vpc-\ubc0f-ip-\uace0\ub824-\uc0ac\ud56d",children:"VPC \ubc0f IP \uace0\ub824 \uc0ac\ud56d"}),"\n",(0,i.jsx)(n.h3,{id:"eks-\ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c-\ub300\ub7c9\uc758-ip-\uc8fc\uc18c-\uc0ac\uc6a9\uc744-\uacc4\ud68d\ud558\uc2ed\uc2dc\uc624",children:"EKS \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c \ub300\ub7c9\uc758 IP \uc8fc\uc18c \uc0ac\uc6a9\uc744 \uacc4\ud68d\ud558\uc2ed\uc2dc\uc624."}),"\n",(0,i.jsx)(n.p,{children:'AWS VPC CNI\ub294 Pod\uc5d0 \ud560\ub2f9\ud560 IP \uc8fc\uc18c\uc758 "\uc6dc \ud480"\uc744 EKS \uc6cc\ucee4 \ub178\ub4dc\uc5d0 \uc720\uc9c0\ud569\ub2c8\ub2e4. Pod\uc5d0 \ub354 \ub9ce\uc740 IP \uc8fc\uc18c\uac00 \ud544\uc694\ud560 \ub54c CNI\ub294 EC2 API\uc640 \ud1b5\uc2e0\ud558\uc5ec \ub178\ub4dc\uc5d0 \uc8fc\uc18c\ub97c \ud560\ub2f9\ud574\uc57c \ud569\ub2c8\ub2e4. \ub192\uc740 \ubcc0\ub3d9\uc131 \ub610\ub294 \ub300\uaddc\ubaa8 \uc2a4\ucf00\uc77c \uc544\uc6c3 \uae30\uac04 \ub3d9\uc548 \uc774\ub7ec\ud55c EC2 API \ud638\ucd9c\uc774 \uc18d\ub3c4 \uc81c\ud55c\uc744 \ubc1b\uc544 Pod \ud504\ub85c\ube44\uc800\ub2dd\uc774 \uc9c0\uc5f0\ub418\uace0 \uacb0\uacfc\uc801\uc73c\ub85c \uc6cc\ud06c\ub85c\ub4dc \uc2e4\ud589\uc774 \uc9c0\uc5f0\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud658\uacbd\uc744 \uc704\ud55c VPC\ub97c \uc124\uacc4\ud560 \ub54c \uc774 \uc6dc \ud480\uc744 \uc218\uc6a9\ud558\uae30 \uc704\ud574 Pod\ub9cc\uc744 \uc704\ud55c \uac83\ubcf4\ub2e4 \ub354 \ub9ce\uc740 IP \uc8fc\uc18c\ub97c \uacc4\ud68d\ud558\uc2ed\uc2dc\uc624.'}),"\n",(0,i.jsxs)(n.p,{children:["\uae30\ubcf8 VPC CNI \uad6c\uc131\uc5d0\uc11c\ub294 \ub354 \ud070 \ub178\ub4dc\uac00 \ub354 \ub9ce\uc740 IP \uc8fc\uc18c\ub97c \uc18c\ube44\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 10\uac1c\uc758 Pod\ub97c \uc2e4\ud589\ud558\ub294 ",(0,i.jsxs)(n.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html#AvailableIpPerENI",children:[(0,i.jsx)(n.code,{children:"m5.8xlarge"})," \ub178\ub4dc"]}),"\ub294 \ucd1d 60\uac1c\uc758 IP\ub97c \ubcf4\uc720\ud569\ub2c8\ub2e4(",(0,i.jsx)(n.code,{children:"WARM_ENI=1"}),"\uc744 \ucda9\uc871\ud558\uae30 \uc704\ud574). ",(0,i.jsx)(n.code,{children:"m5.16xlarge"})," \ub178\ub4dc\ub294 100\uac1c\uc758 IP\ub97c \ubcf4\uc720\ud569\ub2c8\ub2e4. VPC CNI\ub97c \uad6c\uc131\ud558\uc5ec \uc774 \uc6dc \ud480\uc744 \ucd5c\uc18c\ud654\ud558\uba74 \ub178\ub4dc\uc5d0\uc11c\uc758 EC2 API \ud638\ucd9c\uc774 \uc99d\uac00\ud558\uace0 \uc18d\ub3c4 \uc81c\ud55c \uc704\ud5d8\uc774 \ub192\uc544\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ucd94\uac00 IP \uc8fc\uc18c \uc0ac\uc6a9\uc744 \uacc4\ud68d\ud558\uba74 \uc18d\ub3c4 \uc81c\ud55c \ubb38\uc81c\uc640 IP \uc8fc\uc18c \uc0ac\uc6a9 \uad00\ub9ac\ub97c \ud53c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.h3,{id:"ip-\uacf5\uac04\uc774-\uc81c\ud55c\ub41c-\uacbd\uc6b0-\ubcf4\uc870-cidr-\uc0ac\uc6a9\uc744-\uace0\ub824\ud558\uc2ed\uc2dc\uc624",children:"IP \uacf5\uac04\uc774 \uc81c\ud55c\ub41c \uacbd\uc6b0 \ubcf4\uc870 CIDR \uc0ac\uc6a9\uc744 \uace0\ub824\ud558\uc2ed\uc2dc\uc624."}),"\n",(0,i.jsxs)(n.p,{children:["\uc5ec\ub7ec \uc5f0\uacb0\ub41c VPC \ub610\ub294 \uc0ac\uc774\ud2b8\uc5d0 \uac78\uce5c \ub124\ud2b8\uc6cc\ud06c\ub85c \uc791\uc5c5\ud558\ub294 \uacbd\uc6b0 \ub77c\uc6b0\ud305 \uac00\ub2a5\ud55c \uc8fc\uc18c \uacf5\uac04\uc774 \uc81c\ud55c\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 VPC\uac00 \uc544\ub798\uc640 \uac19\uc774 \uc791\uc740 \uc11c\ube0c\ub137\uc73c\ub85c \uc81c\ud55c\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 VPC\uc5d0\uc11c\ub294 CNI \uad6c\uc131\uc744 \uc870\uc815\ud558\uc9c0 \uc54a\uace0\ub294 ",(0,i.jsx)(n.code,{children:"m5.16xlarge"})," \ub178\ub4dc\ub97c \ud558\ub098 \uc774\uc0c1 \uc2e4\ud589\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Init VPC",src:s(65516).A+"",width:"1061",height:"531"})}),"\n",(0,i.jsxs)(n.p,{children:["VPC \uac04\uc5d0 \ub77c\uc6b0\ud305\ud560 \uc218 \uc5c6\ub294 \ubc94\uc704(\uc608: RFC 6598 \ubc94\uc704, ",(0,i.jsx)(n.code,{children:"100.64.0.0/10"}),")\uc5d0\uc11c \ucd94\uac00 VPC CIDR\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uacbd\uc6b0 ",(0,i.jsx)(n.code,{children:"100.64.0.0/16"}),", ",(0,i.jsx)(n.code,{children:"100.65.0.0/16"}),", ",(0,i.jsx)(n.code,{children:"100.66.0.0/16"}),"\uc744 VPC\uc5d0 \ucd94\uac00\ud55c \ub2e4\uc74c(\ucd5c\ub300 CIDR \ud06c\uae30\uc774\ubbc0\ub85c) \ud574\ub2f9 CIDR\ub85c \uc0c8 \uc11c\ube0c\ub137\uc744 \uc0dd\uc131\ud588\uc2b5\ub2c8\ub2e4. \uae30\uc874 EKS \ud074\ub7ec\uc2a4\ud130 \ucee8\ud2b8\ub864 \ud50c\ub808\uc778\uc740 \uadf8\ub300\ub85c \ub450\uace0 \ub178\ub4dc \uadf8\ub8f9\uc744 \uc0c8 \uc11c\ube0c\ub137\uc5d0 \ub2e4\uc2dc \uc0dd\uc131\ud588\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"expanded VPC",src:s(85225).A+"",width:"1071",height:"882"})}),"\n",(0,i.jsx)(n.p,{children:"\uc774 \uad6c\uc131\uc744 \uc0ac\uc6a9\ud558\uba74 \uc5f0\uacb0\ub41c VPC\uc5d0\uc11c EKS \ud074\ub7ec\uc2a4\ud130 \ucee8\ud2b8\ub864 \ud50c\ub808\uc778\uacfc \uacc4\uc18d \ud1b5\uc2e0\ud560 \uc218 \uc788\uc9c0\ub9cc \ub178\ub4dc\uc640 Pod\ub294 \uc6cc\ud06c\ub85c\ub4dc\uc640 \uc6dc \ud480\uc744 \uc218\uc6a9\ud560 \ucda9\ubd84\ud55c IP \uc8fc\uc18c\ub97c \uac16\uac8c \ub429\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h2,{id:"vpc-cni-\ud29c\ub2dd",children:"VPC CNI \ud29c\ub2dd"}),"\n",(0,i.jsx)(n.h3,{id:"vpc-cni-\ubc0f-ec2-\uc18d\ub3c4-\uc81c\ud55c",children:"VPC CNI \ubc0f EC2 \uc18d\ub3c4 \uc81c\ud55c"}),"\n",(0,i.jsxs)(n.p,{children:["EKS \uc6cc\ucee4 \ub178\ub4dc\uac00 \uc2dc\uc791\ub418\uba74 \ucc98\uc74c\uc5d0\ub294 EC2 \uc778\uc2a4\ud134\uc2a4 \ud1b5\uc2e0\uc744 \uc704\ud55c \ub2e8\uc77c IP \uc8fc\uc18c\uac00 \uc788\ub294 \ub2e8\uc77c ENI\uac00 \uc5f0\uacb0\ub429\ub2c8\ub2e4. VPC CNI\uac00 \uc2dc\uc791\ub418\uba74 Kubernetes Pod\uc5d0 \ud560\ub2f9\ud560 \uc218 \uc788\ub294 IP \uc8fc\uc18c\uc758 \uc6dc \ud480\uc744 \ud504\ub85c\ube44\uc800\ub2dd\ud558\ub824\uace0 \ud569\ub2c8\ub2e4(",(0,i.jsx)(n.a,{href:"https://aws.github.io/aws-eks-best-practices/networking/vpc-cni/#overview",children:"EKS \ubaa8\ubc94 \uc0ac\ub840 \uac00\uc774\ub4dc\uc5d0\uc11c \uc790\uc138\ud55c \ub0b4\uc6a9 \ud655\uc778"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["VPC CNI\ub294 \uc6cc\ucee4 \ub178\ub4dc\uc5d0 \ucd94\uac00 IP\uc640 ENI\ub97c \ud560\ub2f9\ud558\uae30 \uc704\ud574 AWS EC2 API \ud638\ucd9c(\uc608: ",(0,i.jsx)(n.code,{children:"AssignPrivateIpV4Address"})," \ubc0f ",(0,i.jsx)(n.code,{children:"DescribeNetworkInterfaces"}),")\uc744 \uc218\ud589\ud574\uc57c \ud569\ub2c8\ub2e4. EKS \ud074\ub7ec\uc2a4\ud130\uac00 \ub178\ub4dc \ub610\ub294 Pod \uc218\ub97c \uc2a4\ucf00\uc77c \uc544\uc6c3\ud560 \ub54c \uc774\ub7ec\ud55c EC2 API \ud638\ucd9c\uc774 \uae09\uc99d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ud638\ucd9c \uae09\uc99d\uc740 \uc11c\ube44\uc2a4 \uc131\ub2a5\uc744 \ub3d5\uace0 \ubaa8\ub4e0 Amazon EC2 \uace0\uac1d\uc5d0\uac8c \uacf5\uc815\ud55c \uc0ac\uc6a9\uc744 \ubcf4\uc7a5\ud558\uae30 \uc704\ud574 EC2 API\uc5d0\uc11c \uc18d\ub3c4 \uc81c\ud55c\uc744 \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc18d\ub3c4 \uc81c\ud55c\uc73c\ub85c \uc778\ud574 CNI\uac00 \ub354 \ub9ce\uc740 IP\ub97c \ud560\ub2f9\ud558\ub824\uace0 \uc2dc\ub3c4\ud558\ub294 \ub3d9\uc548 IP \uc8fc\uc18c \ud480\uc774 \uace0\uac08\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.p,{children:"\uc774\ub7ec\ud55c \uc2e4\ud328\ub294 \uc544\ub798\uc640 \uac19\uc740 \uc624\ub958\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\uba70, VPC CNI\uac00 IP \uc8fc\uc18c\ub97c \ud504\ub85c\ube44\uc800\ub2dd\ud560 \uc218 \uc5c6\uc5b4 \ucee8\ud14c\uc774\ub108 \ub124\ud2b8\uc6cc\ud06c \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \ud504\ub85c\ube44\uc800\ub2dd\uc774 \uc2e4\ud328\ud588\uc74c\uc744 \ub098\ud0c0\ub0c5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Failed to create pod sandbox: rpc error: code = Unknown desc = failed to set up sandbox container "xxxxxxxxxxxxxxxxxxxxxx" network for pod "test-pod": networkPlugin cni failed to set up pod test-pod_default" network: add cmd: failed to assign an IP address to container\n'})}),"\n",(0,i.jsx)(n.p,{children:"\uc774 \uc2e4\ud328\ub294 Pod \uc2dc\uc791\uc744 \uc9c0\uc5f0\uc2dc\ud0a4\uace0 IP \uc8fc\uc18c\uac00 \ud560\ub2f9\ub420 \ub54c\uae4c\uc9c0 \uc774 \uc791\uc5c5\uc774 \uc7ac\uc2dc\ub3c4\ub418\uba74\uc11c kubelet\uacfc \uc6cc\ucee4 \ub178\ub4dc\uc5d0 \uc555\ub825\uc744 \uac00\ud569\ub2c8\ub2e4. \uc774 \uc9c0\uc5f0\uc744 \ud53c\ud558\uae30 \uc704\ud574 \ud544\uc694\ud55c EC2 API \ud638\ucd9c \uc218\ub97c \uc904\uc774\ub3c4\ub85d CNI\ub97c \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(n.h3,{id:"\ub300\uaddc\ubaa8-\ud074\ub7ec\uc2a4\ud130-\ub610\ub294-\ubcc0\ub3d9\uc774-\ub9ce\uc740-\ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c-warm_ip_target-\uc0ac\uc6a9\uc744-\ud53c\ud558\uc2ed\uc2dc\uc624",children:["\ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130 \ub610\ub294 \ubcc0\ub3d9\uc774 \ub9ce\uc740 \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c ",(0,i.jsx)(n.code,{children:"WARM_IP_TARGET"})," \uc0ac\uc6a9\uc744 \ud53c\ud558\uc2ed\uc2dc\uc624"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"WARM_IP_TARGET"}),'\uc740 \uc791\uc740 \ud074\ub7ec\uc2a4\ud130 \ub610\ub294 Pod \ubcc0\ub3d9\uc774 \ub9e4\uc6b0 \ub0ae\uc740 \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c "\ub0ad\ube44\ub418\ub294" IP\ub97c \uc81c\ud55c\ud558\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub7ec\ub098 VPC CNI\uc758 \uc774 \ud658\uacbd \ubcc0\uc218\ub294 \ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c EC2 API \ud638\ucd9c \uc218\ub97c \uc99d\uac00\uc2dc\ucf1c \uc18d\ub3c4 \uc81c\ud55c\uc758 \uc704\ud5d8\uacfc \uc601\ud5a5\uc744 \ub192\uc77c \uc218 \uc788\uc73c\ubbc0\ub85c \uc2e0\uc911\ud558\uac8c \uad6c\uc131\ud574\uc57c \ud569\ub2c8\ub2e4.']}),"\n",(0,i.jsxs)(n.p,{children:["Pod \ubcc0\ub3d9\uc774 \ub9ce\uc740 \ud074\ub7ec\uc2a4\ud130\uc758 \uacbd\uc6b0 \uac01 \ub178\ub4dc\uc5d0\uc11c \uc2e4\ud589\ud560 \uc608\uc0c1 Pod \uc218\ubcf4\ub2e4 \uc57d\uac04 \ub192\uc740 \uac12\uc73c\ub85c ",(0,i.jsx)(n.code,{children:"MINIMUM_IP_TARGET"}),"\uc744 \uc124\uc815\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4. \uc774\ub807\uac8c \ud558\uba74 CNI\uac00 \ub2e8\uc77c(\ub610\ub294 \uc18c\uc218\uc758) \ud638\ucd9c\ub85c \ubaa8\ub4e0 IP \uc8fc\uc18c\ub97c \ud504\ub85c\ube44\uc800\ub2dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'  [...\n]\n\n# EKS Addons\ncluster_addons = {\nvpc-cni = {\nconfiguration_values = jsonencode({\nenv = {\nMINIMUM_IP_TARGET = "30"\n}\n})\n}\n}\n\n[...]\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"\ub300\ud615-\uc778\uc2a4\ud134\uc2a4-\uc720\ud615\uc5d0\uc11c-max_eni-\ubc0f-max-pods\ub85c-\ub178\ub4dc\ub2f9-ip-\uc218\ub97c-\uc81c\ud55c\ud558\uc2ed\uc2dc\uc624",children:["\ub300\ud615 \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc5d0\uc11c ",(0,i.jsx)(n.code,{children:"MAX_ENI"})," \ubc0f ",(0,i.jsx)(n.code,{children:"max-pods"}),"\ub85c \ub178\ub4dc\ub2f9 IP \uc218\ub97c \uc81c\ud55c\ud558\uc2ed\uc2dc\uc624"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"16xlarge"})," \ub610\ub294 ",(0,i.jsx)(n.code,{children:"24xlarge"}),"\uc640 \uac19\uc740 \ub300\ud615 \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc744 \uc0ac\uc6a9\ud560 \ub54c ",(0,i.jsx)(n.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html#AvailableIpPerENI",children:"ENI\ub2f9 \ud560\ub2f9\ud560 \uc218 \uc788\ub294 IP \uc8fc\uc18c \uc218"}),"\uac00 \uc0c1\ub2f9\ud788 \ud074 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \uae30\ubcf8 CNI \uad6c\uc131 ",(0,i.jsx)(n.code,{children:"WARM_ENI=1"}),"\uc744 \uc0ac\uc6a9\ud558\ub294 ",(0,i.jsx)(n.code,{children:"c5.18xlarge"})," \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc740 \uc18c\uc218\uc758 Pod\ub97c \uc2e4\ud589\ud560 \ub54c 100\uac1c\uc758 IP \uc8fc\uc18c(ENI\ub2f9 50\uac1c IP * 2\uac1c ENI)\ub97c \ubcf4\uc720\ud558\uac8c \ub429\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.p,{children:["\uc77c\ubd80 \uc6cc\ud06c\ub85c\ub4dc\uc758 \uacbd\uc6b0 CPU, \uba54\ubaa8\ub9ac \ub610\ub294 \uae30\ud0c0 \ub9ac\uc18c\uc2a4\uac00 50\uac1c \uc774\uc0c1\uc758 IP\uac00 \ud544\uc694\ud558\uae30 \uc804\uc5d0 \ud574\ub2f9 ",(0,i.jsx)(n.code,{children:"c5.18xlarge"}),"\uc758 Pod \uc218\ub97c \uc81c\ud55c\ud569\ub2c8\ub2e4. \uc774 \uacbd\uc6b0 \ud574\ub2f9 \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \ucd5c\ub300 30-40\uac1c\uc758 Pod\ub97c \uc2e4\ud589\ud560 \uc218 \uc788\uae30\ub97c \uc6d0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'  [...\n]\n\n# EKS Addons\ncluster_addons = {\nvpc-cni = {\nconfiguration_values = jsonencode({\nenv = {\nMAX_ENI = "1"\n}\n})\n}\n}\n\n[...]\n'})}),"\n",(0,i.jsxs)(n.p,{children:["CNI\uc5d0 ",(0,i.jsx)(n.code,{children:"MAX_ENI=1"})," \uc635\uc158\uc744 \uc124\uc815\ud558\uba74 \uac01 \ub178\ub4dc\uac00 \ud504\ub85c\ube44\uc800\ub2dd\ud560 \uc218 \uc788\ub294 IP \uc8fc\uc18c \uc218\uac00 \uc81c\ud55c\ub418\uc9c0\ub9cc kubernetes\uac00 \ub178\ub4dc\uc5d0 \uc2a4\ucf00\uc904\ub9c1\ud558\ub824\ub294 Pod \uc218\ub294 \uc81c\ud55c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc774\ub85c \uc778\ud574 \ub354 \ub9ce\uc740 IP \uc8fc\uc18c\ub97c \ud504\ub85c\ube44\uc800\ub2dd\ud560 \uc218 \uc5c6\ub294 \ub178\ub4dc\uc5d0 Pod\uac00 \uc2a4\ucf00\uc904\ub9c1\ub418\ub294 \uc0c1\ud669\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.p,{children:"IP\ub97c \uc81c\ud55c\ud558\uace0 k8s\uac00 \ub108\ubb34 \ub9ce\uc740 Pod\ub97c \uc2a4\ucf00\uc904\ub9c1\ud558\uc9c0 \uc54a\ub3c4\ub85d \ud558\ub824\uba74 \ub2e4\uc74c\uc744 \uc218\ud589\ud574\uc57c \ud569\ub2c8\ub2e4:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["CNI \uad6c\uc131 \ud658\uacbd \ubcc0\uc218\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uc5ec ",(0,i.jsx)(n.code,{children:"MAX_ENI=1"})," \uc124\uc815"]}),"\n",(0,i.jsxs)(n.li,{children:["\uc6cc\ucee4 \ub178\ub4dc\uc758 kubelet\uc5d0\uc11c ",(0,i.jsx)(n.code,{children:"--max-pods"})," \uc635\uc158 \uc5c5\ub370\uc774\ud2b8"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["--max-pods \uc635\uc158\uc744 \uad6c\uc131\ud558\ub824\uba74 \uc6cc\ucee4 \ub178\ub4dc\uc758 userdata\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uc5ec ",(0,i.jsx)(n.a,{href:"https://github.com/awslabs/amazon-eks-ami/blob/master/files/bootstrap.sh",children:"bootstrap.sh \uc2a4\ud06c\ub9bd\ud2b8\uc758 --kubelet-extra-args\ub97c \ud1b5\ud574"})," \uc774 \uc635\uc158\uc744 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc2a4\ud06c\ub9bd\ud2b8\ub294 kubelet\uc758 max-pods \uac12\uc744 \uad6c\uc131\ud558\uba70, ",(0,i.jsx)(n.code,{children:"--use-max-pods false"})," \uc635\uc158\uc740 \uc790\uccb4 \uac12\uc744 \uc81c\uacf5\ud560 \ub54c \uc774 \ub3d9\uc791\uc744 \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'  eks_managed_node_groups = {\n  system = {\n    instance_types = ["m5.xlarge"]\n\n    min_size     = 0\n    max_size     = 5\n    desired_size = 3\n\n    pre_bootstrap_user_data = <<-EOT\n\n      EOT\n\n    bootstrap_extra_args = "--use-max-pods false --kubelet-extra-args \'--max-pods=<your_value>\'"\n\n  }\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\ud55c \uac00\uc9c0 \ubb38\uc81c\ub294 ENI\ub2f9 IP \uc218\uac00 \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc5d0 \ub530\ub77c \ub2e4\ub974\ub2e4\ub294 \uac83\uc785\ub2c8\ub2e4(",(0,i.jsxs)(n.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html#AvailableIpPerENI",children:["\uc608\ub97c \ub4e4\uc5b4 ",(0,i.jsx)(n.code,{children:"m5d.2xlarge"}),"\ub294 ENI\ub2f9 15\uac1c IP\ub97c \uac00\uc9c8 \uc218 \uc788\uace0 ",(0,i.jsx)(n.code,{children:"m5d.4xlarge"}),"\ub294 ENI\ub2f9 30\uac1c IP\ub97c \ubcf4\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}),"). \uc774\ub294 ",(0,i.jsx)(n.code,{children:"max-pods"}),"\uc5d0 \ub300\ud55c \uac12\uc744 \ud558\ub4dc\ucf54\ub529\ud558\uba74 \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc744 \ubcc0\uacbd\ud558\uac70\ub098 \ud63c\ud569 \uc778\uc2a4\ud134\uc2a4 \ud658\uacbd\uc5d0\uc11c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc74c\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.p,{children:["EKS \ucd5c\uc801\ud654 AMI \ub9b4\ub9ac\uc2a4\uc5d0\ub294 ",(0,i.jsx)(n.a,{href:"https://github.com/awslabs/amazon-eks-ami/blob/master/files/max-pods-calculator.sh",children:"AWS \uad8c\uc7a5 max-pods \uac12\uc744 \uacc4\uc0b0\ud558\ub294 \ub370 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uc2a4\ud06c\ub9bd\ud2b8"}),"\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ud63c\ud569 \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub300\ud574 \uc774 \uacc4\uc0b0\uc744 \uc790\ub3d9\ud654\ud558\ub824\uba74 \uc778\uc2a4\ud134\uc2a4 \uba54\ud0c0\ub370\uc774\ud130\uc5d0\uc11c \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc744 \uc790\ub3d9 \uac80\uc0c9\ud558\uae30 \uc704\ud574 ",(0,i.jsx)(n.code,{children:"--instance-type-from-imds"})," \ud50c\ub798\uadf8\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc778\uc2a4\ud134\uc2a4\uc758 userdata\ub3c4 \uc5c5\ub370\uc774\ud2b8\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'  eks_managed_node_groups = {\n  system = {\n    instance_types = ["m5.xlarge"]\n\n    min_size     = 0\n    max_size     = 5\n    desired_size = 3\n\n    pre_bootstrap_user_data = <<-EOT\n        /etc/eks/max-pod-calc.sh --instance-type-from-imds \u2014cni-version 1.13.4 \u2014cni-max-eni 1\n      EOT\n\n    bootstrap_extra_args = "--use-max-pods false --kubelet-extra-args \'--max-pods=<your_value>\'"\n\n  }\n'})}),"\n",(0,i.jsx)(n.h4,{id:"karpenter\ub97c-\uc0ac\uc6a9\ud55c-maxpods",children:"Karpenter\ub97c \uc0ac\uc6a9\ud55c Maxpods"}),"\n",(0,i.jsxs)(n.p,{children:["\uae30\ubcf8\uc801\uc73c\ub85c Karpenter\uac00 \ud504\ub85c\ube44\uc800\ub2dd\ud55c \ub178\ub4dc\ub294 ",(0,i.jsx)(n.a,{href:"https://github.com/awslabs/amazon-eks-ami/blob/master/files/eni-max-pods.txt",children:"\ub178\ub4dc \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc5d0 \ub530\ub77c"})," \ub178\ub4dc\uc758 \ucd5c\ub300 Pod \uc218\ub97c \uac16\uc2b5\ub2c8\ub2e4. \uc704\uc5d0\uc11c \uc5b8\uae09\ud55c ",(0,i.jsx)(n.code,{children:"--max-pods"})," \uc635\uc158\uc744 \uad6c\uc131\ud558\ub824\uba74 Provisioner \uc218\uc900\uc5d0\uc11c ",(0,i.jsx)(n.code,{children:".spec.kubeletConfiguration"})," \ub0b4\uc5d0 ",(0,i.jsx)(n.code,{children:"maxPods"}),"\ub97c \uc9c0\uc815\ud558\uc5ec \uc815\uc758\ud569\ub2c8\ub2e4. \uc774 \uac12\uc740 Karpenter Pod \uc2a4\ucf00\uc904\ub9c1 \uc911\uc5d0 \uc0ac\uc6a9\ub418\uace0 kubelet \uc2dc\uc791 \uc2dc ",(0,i.jsx)(n.code,{children:"--max-pods"}),"\ub85c \uc804\ub2ec\ub429\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(n.p,{children:"\uc544\ub798\ub294 \uc608\uc81c Provisioner \uc0ac\uc591\uc785\ub2c8\ub2e4:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: karpenter.sh/v1alpha5\nkind: Provisioner\nmetadata:\n  name: default\nspec:\n  providerRef:\n    name: default\n  requirements:\n    - key: "karpenter.k8s.aws/instance-category"\n      operator: In\n      values: [ "c", "m", "r" ]\n    - key: "karpenter.sh/capacity-type" # If not included, the webhook for the AWS cloud provider will default to on-demand\n      operator: In\n      values: [ "spot", "on-demand" ]\n\n  # Karpenter provides the ability to specify a few additional Kubelet args.\n  # These are all optional and provide support for additional customization and use cases.\n  kubeletConfiguration:\n    maxPods: 30\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\uc560\ud50c\ub9ac\ucf00\uc774\uc158",children:"\uc560\ud50c\ub9ac\ucf00\uc774\uc158"}),"\n",(0,i.jsx)(n.h3,{id:"dns-\uc870\ud68c-\ubc0f-ndots",children:"DNS \uc870\ud68c \ubc0f ndots"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/",children:"\uae30\ubcf8 DNS \uad6c\uc131\uc744 \uc0ac\uc6a9\ud558\ub294 Kubernetes Pod"}),"\uc5d0\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 ",(0,i.jsx)(n.code,{children:"resolv.conf"})," \ud30c\uc77c\uc774 \uc788\uc2b5\ub2c8\ub2e4:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"nameserver 10.100.0.10\nsearch namespace.svc.cluster.local svc.cluster.local cluster.local ec2.internal\noptions ndots:5\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"search"})," \uc904\uc5d0 \ub098\uc5f4\ub41c \ub3c4\uba54\uc778 \uc774\ub984\uc740 \uc644\uc804\ud55c \ub3c4\uba54\uc778 \uc774\ub984(FQDN)\uc774 \uc544\ub2cc DNS \uc774\ub984\uc5d0 \ucd94\uac00\ub429\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, Pod\uac00 ",(0,i.jsx)(n.code,{children:"servicename.namespace"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec Kubernetes \uc11c\ube44\uc2a4\uc5d0 \uc5f0\uacb0\ud558\ub824\uace0 \ud558\uba74 DNS \uc774\ub984\uc774 \uc804\uccb4 kubernetes \uc11c\ube44\uc2a4 \uc774\ub984\uacfc \uc77c\uce58\ud560 \ub54c\uae4c\uc9c0 \ub3c4\uba54\uc778\uc774 \uc21c\uc11c\ub300\ub85c \ucd94\uac00\ub429\ub2c8\ub2e4:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"servicename.namespace.namespace.svc.cluster.local   <--- Fails with NXDOMAIN\nservicename.namespace.svc.cluster.local        <-- Succeed\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\ub3c4\uba54\uc778\uc774 \uc644\uc804\ud55c\uc9c0 \uc5ec\ubd80\ub294 resolv.conf\uc758 ",(0,i.jsx)(n.code,{children:"ndots"})," \uc635\uc158\uc5d0 \uc758\ud574 \uacb0\uc815\ub429\ub2c8\ub2e4. \uc774 \uc635\uc158\uc740 ",(0,i.jsx)(n.code,{children:"search"})," \ub3c4\uba54\uc778\uc744 \uac74\ub108\ub6f0\uae30 \uc804\uc5d0 \ub3c4\uba54\uc778 \uc774\ub984\uc5d0 \uc788\uc5b4\uc57c \ud558\ub294 \uc810\uc758 \uc218\ub97c \uc815\uc758\ud569\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ucd94\uac00 \uac80\uc0c9\uc740 S3 \ubc0f RDS \uc5d4\ub4dc\ud3ec\uc778\ud2b8\uc640 \uac19\uc740 \uc678\ubd80 \ub9ac\uc18c\uc2a4\uc5d0 \ub300\ud55c \uc5f0\uacb0\uc5d0 \uc9c0\uc5f0\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.p,{children:["Kubernetes\uc758 \uae30\ubcf8 ",(0,i.jsx)(n.code,{children:"ndots"})," \uc124\uc815\uc740 5\uc785\ub2c8\ub2e4. \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \ud074\ub7ec\uc2a4\ud130\uc758 \ub2e4\ub978 Pod\uc640 \ud1b5\uc2e0\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0 ",(0,i.jsx)(n.code,{children:"ndots"}),'\ub97c "2"\uc640 \uac19\uc740 \ub0ae\uc740 \uac12\uc73c\ub85c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub294 \uc88b\uc740 \uc2dc\uc791\uc810\uc785\ub2c8\ub2e4. \uc65c\ub0d0\ud558\uba74 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \ub3d9\uc77c\ud55c \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \ub0b4\uc5d0\uc11c \uadf8\ub9ac\uace0 \ud074\ub7ec\uc2a4\ud130 \ub0b4\uc758 \ub2e4\ub978 \ub124\uc784\uc2a4\ud398\uc774\uc2a4\uc5d0\uc11c \uc11c\ube44\uc2a4 \uac80\uc0c9\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\uba74\uc11c\ub3c4 ',(0,i.jsx)(n.code,{children:"s3.us-east-2.amazonaws.com"}),"\uacfc \uac19\uc740 \ub3c4\uba54\uc778\uc744 FQDN\uc73c\ub85c \uc778\uc2dd(",(0,i.jsx)(n.code,{children:"search"})," \ub3c4\uba54\uc778 \uac74\ub108\ub6f0\uae30)\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(n.p,{children:["\ub2e4\uc74c\uc740 Kubernetes \ubb38\uc11c\uc5d0\uc11c ",(0,i.jsx)(n.code,{children:"ndots"}),'\uac00 "2"\ub85c \uc124\uc815\ub41c \uc608\uc81c Pod \ub9e4\ub2c8\ud398\uc2a4\ud2b8\uc785\ub2c8\ub2e4:']}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  namespace: default\n  name: dns-example\nspec:\n  containers:\n    - name: test\n      image: nginx\n  dnsConfig:\n    options:\n      - name: ndots\n        value: "2"\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Pod \ubc30\ud3ec\uc5d0\uc11c ",(0,i.jsx)(n.code,{children:"ndots"}),'\ub97c "2"\ub85c \uc124\uc815\ud558\ub294 \uac83\uc740 \ud569\ub9ac\uc801\uc778 \uc2dc\uc791\uc810\uc774\uc9c0\ub9cc \ubaa8\ub4e0 \uc0c1\ud669\uc5d0\uc11c \ubcf4\ud3b8\uc801\uc73c\ub85c \uc791\ub3d9\ud558\uc9c0\ub294 \uc54a\uc73c\uba70 \uc804\uccb4 \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc801\uc6a9\ud574\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. ',(0,i.jsx)(n.code,{children:"ndots"})," \uad6c\uc131\uc740 Pod \ub610\ub294 Deployment \uc218\uc900\uc5d0\uc11c \uad6c\uc131\ud574\uc57c \ud569\ub2c8\ub2e4. \ud074\ub7ec\uc2a4\ud130 \uc218\uc900 CoreDNS \uad6c\uc131\uc5d0\uc11c \uc774 \uc124\uc815\uc744 \uc904\uc774\ub294 \uac83\uc740 \uad8c\uc7a5\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,i.jsx)(n.h3,{id:"az-\uac04-\ub124\ud2b8\uc6cc\ud06c-\ucd5c\uc801\ud654",children:"AZ \uac04 \ub124\ud2b8\uc6cc\ud06c \ucd5c\uc801\ud654"}),"\n",(0,i.jsx)(n.p,{children:"\uc77c\ubd80 \uc6cc\ud06c\ub85c\ub4dc\ub294 \ub2e4\uc911 \ub178\ub4dc \ucd94\ub860, \ub2e4\uc911 \ub178\ub4dc \ud6c8\ub828 \ub610\ub294 \ub2e4\uc911 \ubcf5\uc81c\ubcf8 \ucd94\ub860\uacfc \uac19\uc774 \ud074\ub7ec\uc2a4\ud130\uc758 Pod \uac04\uc5d0 \ub370\uc774\ud130\ub97c \uad50\ud658\ud574\uc57c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Pod\uac00 \uc5ec\ub7ec \uac00\uc6a9 \uc601\uc5ed(AZ)\uc5d0 \ubd84\uc0b0\ub418\uc5b4 \uc788\uc73c\uba74 AZ \uac04 \uc774\uadf8\ub808\uc2a4\ub85c \uc778\ud574 \ucd94\uac00 \ube44\uc6a9\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \uc6cc\ud06c\ub85c\ub4dc\uc758 \uacbd\uc6b0 Pod\ub97c \ub3d9\uc77c\ud55c AZ\uc5d0 \ubc30\uce58\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4. Pod\ub97c \ub3d9\uc77c\ud55c AZ\uc5d0 \uac19\uc740 \uc704\uce58\uc5d0 \ubc30\uce58\ud558\uba74 \ub450 \uac00\uc9c0 \uc8fc\uc694 \ubaa9\uc801\uc744 \ub2ec\uc131\ud569\ub2c8\ub2e4:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"AZ \uac04 \ud2b8\ub798\ud53d \ube44\uc6a9 \uc808\uac10"}),"\n",(0,i.jsx)(n.li,{children:"\uc2e4\ud589\uae30/Pod \uac04 \ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0 \uc2dc\uac04 \uac10\uc18c"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Pod\ub97c \ub3d9\uc77c\ud55c AZ\uc5d0 \ubc30\uce58\ud558\uae30 \uc704\ud574 ",(0,i.jsx)(n.code,{children:"podAffinity"})," \uae30\ubc18 \uc2a4\ucf00\uc904\ub9c1 \uc81c\uc57d \uc870\uac74\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc2a4\ucf00\uc904\ub9c1 \uc81c\uc57d \uc870\uac74 ",(0,i.jsx)(n.code,{children:"preferredDuringSchedulingIgnoredDuringExecution"}),"\uc740 Pod \uc0ac\uc591\uc5d0\uc11c \uc801\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, Spark\uc5d0\uc11c\ub294 \ub4dc\ub77c\uc774\ubc84 \ubc0f \uc2e4\ud589\uae30 Pod\uc5d0 \ub300\ud55c \uc0ac\uc6a9\uc790 \uc815\uc758 \ud15c\ud50c\ub9bf\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'spec:\n  executor:\n    affinity:\n      podAffinity:\n        preferredDuringSchedulingIgnoredDuringExecution:\n          - weight: 100\n            podAffinityTerm:\n              topologyKey: topology.kubernetes.io/zone\n              labelSelector:\n                matchLabels:\n                  "ray.io/cluster": "ray-cluster-name"\n            ...\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Pod\uac00 \uc0dd\uc131\ub41c \ud6c4 Kubernetes Topology Aware Routing\uc744 \ud65c\uc6a9\ud558\uc5ec Kubernetes \uc11c\ube44\uc2a4\uac00 \ub354 \ud6a8\uc728\uc801\uc778 \ubc29\uc2dd\uc73c\ub85c \ud2b8\ub798\ud53d\uc744 \ub77c\uc6b0\ud305\ud558\ub3c4\ub85d \ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4: ",(0,i.jsx)(n.a,{href:"https://aws.amazon.com/blogs/containers/exploring-the-effect-of-topology-aware-hints-on-network-traffic-in-amazon-elastic-kubernetes-service/",children:"https://aws.amazon.com/blogs/containers/exploring-the-effect-of-topology-aware-hints-on-network-traffic-in-amazon-elastic-kubernetes-service/"})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["\ubaa8\ub4e0 \uc2e4\ud589\uae30\ub97c \ub2e8\uc77c AZ\uc5d0 \ubc30\uce58\ud558\uba74 \ud574\ub2f9 AZ\uac00 ",(0,i.jsx)(n.em,{children:"\ub2e8\uc77c \uc7a5\uc560 \uc9c0\uc810"}),"\uc774 \ub429\ub2c8\ub2e4. \uc774\ub294 \ub124\ud2b8\uc6cc\ud06c \ube44\uc6a9\uacfc \uc9c0\uc5f0 \uc2dc\uac04\uc744 \ub0ae\ucd94\ub294 \uac83\uacfc AZ \uc7a5\uc560\ub85c \uc778\ud55c \uc6cc\ud06c\ub85c\ub4dc \uc911\ub2e8 \uc774\ubca4\ud2b8 \uc0ac\uc774\uc758 \ud2b8\ub808\uc774\ub4dc\uc624\ud504\ub85c \uace0\ub824\ud574\uc57c \ud569\ub2c8\ub2e4. \uc6cc\ud06c\ub85c\ub4dc\uac00 \uc81c\ud55c\ub41c \uc6a9\ub7c9\uc758 \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \uacbd\uc6b0 \uc6a9\ub7c9 \ubd80\uc871 \uc624\ub958\ub97c \ud53c\ud558\uae30 \uc704\ud574 \uc5ec\ub7ec AZ\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc744 \uace0\ub824\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/ai-on-eks/ko/docs/blueprints/inference/inference-charts",children:"inference-charts"}),"\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0, \ucc98\ub9ac\ub7c9\uc744 \ub192\uc774\uace0 \ube44\uc6a9\uc744 \uc904\uc774\uae30 \uc704\ud574 \ud1a0\ud3f4\ub85c\uc9c0 \uc778\uc2dd\uc774 \uae30\ubcf8\uc801\uc73c\ub85c \ud65c\uc131\ud654\ub429\ub2c8\ub2e4. ",(0,i.jsx)(n.code,{children:"inference.modelServer.deployment.topologySpreadConstraints.enabled: false"})," \ubc0f ",(0,i.jsx)(n.code,{children:"inference.modelServer.deployment.podAffinity.enabled: false"}),"\ub97c \uc124\uc815\ud558\uc5ec \ube44\ud65c\uc131\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},85225(e,n,s){s.d(n,{A:()=>d});const d=s.p+"assets/images/expanded-vpc-64f8e8bd4f836b1ea5a45f679a209d6d.png"},65516(e,n,s){s.d(n,{A:()=>d});const d=s.p+"assets/images/init-vpc-d6c609e16a67746f8c78568ae8d2295e.png"},28453(e,n,s){s.d(n,{R:()=>o,x:()=>c});var d=s(96540);const i={},r=d.createContext(i);function o(e){const n=d.useContext(r);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),d.createElement(r.Provider,{value:n},e.children)}}}]);