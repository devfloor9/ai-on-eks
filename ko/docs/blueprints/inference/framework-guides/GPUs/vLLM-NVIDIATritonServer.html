<!doctype html>
<html lang="ko-KR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.0">
<title data-rh="true">NVIDIA Triton Serverì™€ vLLM | AI on EKS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer"><meta data-rh="true" property="og:locale" content="ko_KR"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NVIDIA Triton Serverì™€ vLLM | AI on EKS"><meta data-rh="true" name="description" content="EKSì—ì„œ ML ëª¨ë¸ì„ ë°°í¬í•˜ë ¤ë©´ GPU ë˜ëŠ” Neuron ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°°í¬ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì´ëŸ¬í•œ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ê¸° ë•Œë¬¸ì¸ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ë˜í•œ ì¼ë¶€ ë°°í¬ íŒ¨í„´ì€ Karpenter ìë™ ìŠ¤ì¼€ì¼ë§ê³¼ ì •ì  ë…¸ë“œ ê·¸ë£¹ì— ì˜ì¡´í•©ë‹ˆë‹¤. ë…¸ë“œê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ Karpenter ë˜ëŠ” ë…¸ë“œ ê·¸ë£¹ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš”."><meta data-rh="true" property="og:description" content="EKSì—ì„œ ML ëª¨ë¸ì„ ë°°í¬í•˜ë ¤ë©´ GPU ë˜ëŠ” Neuron ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°°í¬ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì´ëŸ¬í•œ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ê¸° ë•Œë¬¸ì¸ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ë˜í•œ ì¼ë¶€ ë°°í¬ íŒ¨í„´ì€ Karpenter ìë™ ìŠ¤ì¼€ì¼ë§ê³¼ ì •ì  ë…¸ë“œ ê·¸ë£¹ì— ì˜ì¡´í•©ë‹ˆë‹¤. ë…¸ë“œê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ Karpenter ë˜ëŠ” ë…¸ë“œ ê·¸ë£¹ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš”."><link data-rh="true" rel="icon" href="/ai-on-eks/ko/img/header-icon.png"><link data-rh="true" rel="canonical" href="https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer"><link data-rh="true" rel="alternate" href="https://awslabs.github.io/ai-on-eks/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer" hreflang="ko-KR"><link data-rh="true" rel="alternate" href="https://awslabs.github.io/ai-on-eks/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"EKSì—ì„œì˜ ì¶”ë¡ ","item":"https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/"},{"@type":"ListItem","position":2,"name":"Framework-Specific Deployment Guides","item":"https://awslabs.github.io/ai-on-eks/ko/docs/category/framework-specific-deployment-guides"},{"@type":"ListItem","position":3,"name":"EKSì—ì„œì˜ GPU ì¶”ë¡ ","item":"https://awslabs.github.io/ai-on-eks/ko/docs/category/gpu-inference-on-eks"},{"@type":"ListItem","position":4,"name":"NVIDIA Triton Serverì™€ vLLM","item":"https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer"}]}</script><link rel="stylesheet" href="/ai-on-eks/ko/assets/css/styles.c270b852.css">
<script src="/ai-on-eks/ko/assets/js/runtime~main.84f685ef.js" defer="defer"></script>
<script src="/ai-on-eks/ko/assets/js/main.62626cce.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#667eea;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">GenAI on EKS workshop series! <a target="_blank" rel="noopener noreferrer" href="https://aws-experience.com/emea/smb/events/series/get-hands-on-with-amazon-eks?trk=9be4af2e-2339-40ae-b5e9-57b6a7704c36&sc_channel=el" style="color: #ffffff; text-decoration: underline; font-weight: bold; margin-left: 10px;">Register now â†’</a></div><button type="button" aria-label="ë‹«ê¸°" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ë©”ì¸" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="ì‚¬ì´ë“œë°” í¼ì¹˜ê±°ë‚˜ ì ‘ê¸°" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ai-on-eks/ko/"><div class="navbar__logo"><img src="/ai-on-eks/ko/img/header-icon.png" alt="AIoEKS ë¡œê³ " class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ai-on-eks/ko/img/header-icon.png" alt="AIoEKS ë¡œê³ " class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/ai-on-eks/ko/docs/infra">ì¸í”„ë¼</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ai-on-eks/ko/docs/blueprints">ë¸”ë£¨í”„ë¦°íŠ¸</a><a class="navbar__item navbar__link" href="/ai-on-eks/ko/docs/guidance">ê°€ì´ë“œ</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/awslabs/ai-on-eks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>í•œêµ­ì–´</a><ul class="dropdown__menu"><li><a href="/ai-on-eks/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ko-KR">í•œêµ­ì–´</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="ì–´ë‘ìš´ ëª¨ë“œì™€ ë°ì€ ëª¨ë“œ ì „í™˜í•˜ê¸° (í˜„ì¬ system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤í•˜ê¸°" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ë¬¸ì„œ ì‚¬ì´ë“œë°”" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ai-on-eks/ko/docs/blueprints"><span title="ê°œìš”" class="linkLabel_WmDU">ê°œìš”</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/ai-on-eks/ko/docs/blueprints/inference"><span title="EKSì—ì„œì˜ ì¶”ë¡ " class="categoryLinkLabel_W154">EKSì—ì„œì˜ ì¶”ë¡ </span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;EKSì—ì„œì˜ ì¶”ë¡ &#x27; ì ‘ê¸°" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/ai-on-eks/ko/docs/category/framework-specific-deployment-guides"><span title="Framework-Specific Deployment Guides" class="categoryLinkLabel_W154">Framework-Specific Deployment Guides</span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;Framework-Specific Deployment Guides&#x27; ì ‘ê¸°" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/ai-on-eks/ko/docs/category/gpu-inference-on-eks"><span title="EKSì—ì„œì˜ GPU ì¶”ë¡ " class="categoryLinkLabel_W154">EKSì—ì„œì˜ GPU ì¶”ë¡ </span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;EKSì—ì„œì˜ GPU ì¶”ë¡ &#x27; ì ‘ê¸°" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-rayserve"><span title="RayServeì™€ vLLM" class="linkLabel_WmDU">RayServeì™€ vLLM</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer"><span title="NVIDIA Triton Serverì™€ vLLM" class="linkLabel_WmDU">NVIDIA Triton Serverì™€ vLLM</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus"><span title="GPUì—ì„œì˜ Stable Diffusion" class="linkLabel_WmDU">GPUì—ì„œì˜ Stable Diffusion</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-nim-llama3"><span title="Amazon EKSì—ì„œì˜ NVIDIA NIM LLM" class="linkLabel_WmDU">Amazon EKSì—ì„œì˜ NVIDIA NIM LLM</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-nim-operator"><span title="EKSì˜ NVIDIA NIM Operator" class="linkLabel_WmDU">EKSì˜ NVIDIA NIM Operator</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/ray-vllm-deepseek"><span title="EKSì—ì„œì˜ DeepSeek-R1" class="linkLabel_WmDU">EKSì—ì„œì˜ DeepSeek-R1</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-dynamo"><span title="Amazon EKSì˜ NVIDIA Dynamo" class="linkLabel_WmDU">Amazon EKSì˜ NVIDIA Dynamo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-deep-research"><span title="EKSì˜ NVIDIA Enterprise RAG ë° AI-Q Research Assistant" class="linkLabel_WmDU">EKSì˜ NVIDIA Enterprise RAG ë° AI-Q Research Assistant</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/llama4-vllm"><span title="Llama 4 with vLLM on EKS" class="linkLabel_WmDU">Llama 4 with vLLM on EKS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/aibrix-deepseek-distill"><span title="EKSì˜ AIBrix" class="linkLabel_WmDU">EKSì˜ AIBrix</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/ai-on-eks/ko/docs/category/neuron-inference-on-eks"><span title="EKSì—ì„œì˜ Neuron ì¶”ë¡ " class="categoryLinkLabel_W154">EKSì—ì„œì˜ Neuron ì¶”ë¡ </span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;EKSì—ì„œì˜ Neuron ì¶”ë¡ &#x27; í¼ì¹˜ê¸°" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/inference-charts"><span title="ì¶”ë¡  ì°¨íŠ¸" class="linkLabel_WmDU">ì¶”ë¡  ì°¨íŠ¸</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/ai-on-eks/ko/docs/category/training-on-eks"><span title="EKSì—ì„œì˜ í•™ìŠµ" class="categoryLinkLabel_W154">EKSì—ì„œì˜ í•™ìŠµ</span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;EKSì—ì„œì˜ í•™ìŠµ&#x27; í¼ì¹˜ê¸°" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ai-on-eks/ko/docs/blueprints/gateways/envoy-gateway"><span title="ê²Œì´íŠ¸ì›¨ì´" class="categoryLinkLabel_W154">ê²Œì´íŠ¸ì›¨ì´</span></a></div></li></ul></nav><button type="button" title="ì‚¬ì´ë“œë°” ìˆ¨ê¸°ê¸°" aria-label="ì‚¬ì´ë“œë°” ìˆ¨ê¸°ê¸°" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="íƒìƒ‰ ê²½ë¡œ"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="í™ˆ" class="breadcrumbs__link" href="/ai-on-eks/ko/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai-on-eks/ko/docs/blueprints/inference"><span>EKSì—ì„œì˜ ì¶”ë¡ </span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai-on-eks/ko/docs/category/framework-specific-deployment-guides"><span>Framework-Specific Deployment Guides</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai-on-eks/ko/docs/category/gpu-inference-on-eks"><span>EKSì—ì„œì˜ GPU ì¶”ë¡ </span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">NVIDIA Triton Serverì™€ vLLM</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">ì´ í˜ì´ì§€ì—ì„œ</button></div><div class="theme-doc-markdown markdown"><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>ê²½ê³ </div><div class="admonitionContent_BuS1"><p>EKSì—ì„œ ML ëª¨ë¸ì„ ë°°í¬í•˜ë ¤ë©´ GPU ë˜ëŠ” Neuron ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°°í¬ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì´ëŸ¬í•œ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ê¸° ë•Œë¬¸ì¸ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ë˜í•œ ì¼ë¶€ ë°°í¬ íŒ¨í„´ì€ Karpenter ìë™ ìŠ¤ì¼€ì¼ë§ê³¼ ì •ì  ë…¸ë“œ ê·¸ë£¹ì— ì˜ì¡´í•©ë‹ˆë‹¤. ë…¸ë“œê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ Karpenter ë˜ëŠ” ë…¸ë“œ ê·¸ë£¹ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš”.</p></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>ì£¼ì˜</div><div class="admonitionContent_BuS1"><p><a href="https://huggingface.co/meta-llama/Meta-Llama-3-8B" target="_blank" rel="noopener noreferrer">Meta-llama/Llama-2-7b-chat-hf</a> ë° <a href="https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.2" target="_blank" rel="noopener noreferrer">Mistralai/Mistral-7B-Instruct-v0.2</a> ëª¨ë¸ì„ ì‚¬ìš©í•˜ë ¤ë©´ Hugging Face ê³„ì •ì„ í†µí•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤.</p></div></div>
<header><h1>NVIDIA Triton Serverì™€ vLLMì„ ì‚¬ìš©í•œ ì—¬ëŸ¬ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ ë°°í¬</h1></header>
<p>ì´ íŒ¨í„´ì—ì„œëŠ” <a href="https://github.com/triton-inference-server/server" target="_blank" rel="noopener noreferrer">Triton Inference Server</a>ì™€ <a href="https://github.com/vllm-project/vllm" target="_blank" rel="noopener noreferrer">vLLM</a> ë°±ì—”ë“œ/ì—”ì§„ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(LLM)ì„ ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë´…ë‹ˆë‹¤. <code>mistralai/Mistral-7B-Instruct-v0.2</code>ì™€ <code>meta-llama/Llama-2-7b-chat-hf</code> ë‘ ê°€ì§€ ëª¨ë¸ë¡œ ì´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì—°í•©ë‹ˆë‹¤. ì´ ëª¨ë¸ë“¤ì€ <strong>4ê°œì˜ GPU</strong>ê°€ ì¥ì°©ëœ <strong>g5.24xlarge</strong> ë©€í‹° GPU ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í˜¸ìŠ¤íŒ…ë˜ë©°, ê° ëª¨ë¸ì€ ìµœëŒ€ 1ê°œì˜ GPUë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<p>NVIDIA Triton Inference ServerëŠ” vLLM ë°±ì—”ë“œì™€ ê²°í•©ë˜ì–´ ì—¬ëŸ¬ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(LLM)ì„ ë°°í¬í•˜ê¸° ìœ„í•œ ê°•ë ¥í•œ í”„ë ˆì„ì›Œí¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì‚¬ìš©ì ì• í”Œë¦¬ì¼€ì´ì…˜ì€ REST API ë˜ëŠ” gRPCë¥¼ í†µí•´ ì¶”ë¡  ì„œë¹„ìŠ¤ì™€ ìƒí˜¸ ì‘ìš©í•˜ë©°, ì´ëŠ” NGINXì™€ Network Load Balancer(NLB)ì— ì˜í•´ ê´€ë¦¬ë˜ì–´ ìˆ˜ì‹  ìš”ì²­ì„ Triton K8s Serviceë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ë¶„ë°°í•©ë‹ˆë‹¤. Triton K8s ServiceëŠ” ë°°í¬ì˜ í•µì‹¬ìœ¼ë¡œ, Triton Serverê°€ ì¶”ë¡  ìš”ì²­ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì´ ë°°í¬ì—ì„œëŠ” 4ê°œì˜ GPUê°€ ì¥ì°©ëœ g5.24xlarge ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ Llama2-7bì™€ Mistral7bì™€ ê°™ì€ ì—¬ëŸ¬ ëª¨ë¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. Horizontal Pod Autoscaler(HPA)ëŠ” ì‚¬ìš©ì ì •ì˜ ë©”íŠ¸ë¦­ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ìˆ˜ìš”ì— ë”°ë¼ Triton íŒŒë“œë¥¼ ë™ì ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§í•˜ì—¬ ë‹¤ì–‘í•œ ë¶€í•˜ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤. Prometheusì™€ GrafanaëŠ” ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê³  ì‹œê°í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ì–´ ì„±ëŠ¥ì— ëŒ€í•œ í†µì°°ë ¥ì„ ì œê³µí•˜ê³  ìë™ ìŠ¤ì¼€ì¼ë§ ê²°ì •ì„ ì§€ì›í•©ë‹ˆë‹¤.</p>
<p><img decoding="async" loading="lazy" alt="NVIDIA Triton Server" src="/ai-on-eks/ko/assets/images/triton-architecture-26f45e98081552c17f8381dbb7dd5f61.png" width="1920" height="1080" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì˜ˆìƒ-ê²°ê³¼">ì˜ˆìƒ ê²°ê³¼<a href="#ì˜ˆìƒ-ê²°ê³¼" class="hash-link" aria-label="ì˜ˆìƒ ê²°ê³¼ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì˜ˆìƒ ê²°ê³¼ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>ì„¤ëª…ëœ ëŒ€ë¡œ ëª¨ë“  ê²ƒì„ ë°°í¬í•˜ë©´ ì¶”ë¡  ìš”ì²­ì— ëŒ€í•œ ë¹ ë¥¸ ì‘ë‹µ ì‹œê°„ì„ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” <code>Llama-2-7b-chat-hf</code>ì™€ <code>Mistral-7B-Instruct-v0.2</code> ëª¨ë¸ë¡œ <code>triton-client.py</code> ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•œ ì˜ˆì œ ì¶œë ¥ì…ë‹ˆë‹¤.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>í´ë¦­í•˜ì—¬ ë¹„êµ ê²°ê³¼ í™•ì¥</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th><strong>ì‹¤í–‰ 1: Llama2</strong></th><th><strong>ì‹¤í–‰ 2: Mistral7b</strong></th></tr></thead><tbody><tr><td>python3 triton-client.py --model-name llama2 --input-prompts prompts.txt --results-file llama2_results.txt</td><td>python3 triton-client.py --model-name mistral7b --input-prompts prompts.txt --results-file mistral_results.txt</td></tr><tr><td><code>prompts.txt</code>ì—ì„œ ì…ë ¥ ë¡œë”© ì¤‘...</td><td><code>prompts.txt</code>ì—ì„œ ì…ë ¥ ë¡œë”© ì¤‘...</td></tr><tr><td>Model llama2 - Request 11: 0.00 ms</td><td>Model mistral7b - Request 3: 0.00 ms</td></tr><tr><td>Model llama2 - Request 15: 0.02 ms</td><td>Model mistral7b - Request 14: 0.00 ms</td></tr><tr><td>Model llama2 - Request 3: 0.00 ms</td><td>Model mistral7b - Request 11: 0.00 ms</td></tr><tr><td>Model llama2 - Request 8: 0.01 ms</td><td>Model mistral7b - Request 15: 0.00 ms</td></tr><tr><td>Model llama2 - Request 0: 0.01 ms</td><td>Model mistral7b - Request 5: 0.00 ms</td></tr><tr><td>Model llama2 - Request 9: 0.01 ms</td><td>Model mistral7b - Request 0: 0.01 ms</td></tr><tr><td>Model llama2 - Request 14: 0.01 ms</td><td>Model mistral7b - Request 7: 0.01 ms</td></tr><tr><td>Model llama2 - Request 16: 0.00 ms</td><td>Model mistral7b - Request 13: 0.00 ms</td></tr><tr><td>Model llama2 - Request 19: 0.02 ms</td><td>Model mistral7b - Request 9: 0.00 ms</td></tr><tr><td>Model llama2 - Request 4: 0.02 ms</td><td>Model mistral7b - Request 16: 0.01 ms</td></tr><tr><td>Model llama2 - Request 10: 0.02 ms</td><td>Model mistral7b - Request 18: 0.01 ms</td></tr><tr><td>Model llama2 - Request 6: 0.01 ms</td><td>Model mistral7b - Request 4: 0.01 ms</td></tr><tr><td>Model llama2 - Request 1: 0.02 ms</td><td>Model mistral7b - Request 8: 0.01 ms</td></tr><tr><td>Model llama2 - Request 7: 0.02 ms</td><td>Model mistral7b - Request 1: 0.01 ms</td></tr><tr><td>Model llama2 - Request 18: 0.01 ms</td><td>Model mistral7b - Request 6: 0.00 ms</td></tr><tr><td>Model llama2 - Request 12: 0.01 ms</td><td>Model mistral7b - Request 12: 0.00 ms</td></tr><tr><td>Model llama2 - Request 2: 0.01 ms</td><td>Model mistral7b - Request 17: 0.00 ms</td></tr><tr><td>Model llama2 - Request 17: 0.02 ms</td><td>Model mistral7b - Request 2: 0.01 ms</td></tr><tr><td>Model llama2 - Request 13: 0.01 ms</td><td>Model mistral7b - Request 19: 0.01 ms</td></tr><tr><td>Model llama2 - Request 5: 0.02 ms</td><td>Model mistral7b - Request 10: 0.02 ms</td></tr><tr><td>ê²°ê³¼ë¥¼ <code>llama2_results.txt</code>ì— ì €ì¥ ì¤‘...</td><td>ê²°ê³¼ë¥¼ <code>mistral_results.txt</code>ì— ì €ì¥ ì¤‘...</td></tr><tr><td>ëª¨ë“  ìš”ì²­ ì´ ì‹œê°„: 0.00ì´ˆ (0.18 ë°€ë¦¬ì´ˆ)</td><td>ëª¨ë“  ìš”ì²­ ì´ ì‹œê°„: 0.00ì´ˆ (0.11 ë°€ë¦¬ì´ˆ)</td></tr><tr><td>PASS: vLLM ì˜ˆì œ</td><td>PASS: vLLM ì˜ˆì œ</td></tr></tbody></table></div></div></details>
<h1>Triton Server ë‚´ë¶€ êµ¬ì¡° ë° ë°±ì—”ë“œ í†µí•©</h1>
<p>NVIDIA Triton Inference ServerëŠ” ë‹¤ì–‘í•œ ëª¨ë¸ ìœ í˜•ê³¼ ë°°í¬ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ê³ ì„±ëŠ¥ ì¶”ë¡ ì„ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. Tritonì˜ í•µì‹¬ ê°•ì ì€ ë‹¤ì–‘í•œ ë°±ì—”ë“œ ì§€ì›ì— ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ìœ í˜•ì˜ ëª¨ë¸ê³¼ ì›Œí¬ë¡œë“œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±ê³¼ ì„±ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<p>ìš”ì²­ì´ Triton K8s Serviceì— ë„ë‹¬í•˜ë©´ Triton Serverì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ì„œë²„ëŠ” ë™ì  ë°°ì¹­ì„ ì§€ì›í•˜ì—¬ ì—¬ëŸ¬ ì¶”ë¡  ìš”ì²­ì„ ê·¸ë£¹í™”í•˜ì—¬ ì²˜ë¦¬ë¥¼ ìµœì í™”í•©ë‹ˆë‹¤. ì´ëŠ” ë†’ì€ ì²˜ë¦¬ëŸ‰ ìš”êµ¬ ì‚¬í•­ì´ ìˆëŠ” ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ íŠ¹íˆ ìœ ìš©í•˜ë©°, ì§€ì—° ì‹œê°„ì„ ì¤„ì´ê³  ì „ì²´ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>
<p>ê·¸ëŸ° ë‹¤ìŒ ìš”ì²­ì€ ì˜ˆì•½ëœ íì— ì˜í•´ ê´€ë¦¬ë˜ì–´ ê° ëª¨ë¸ì˜ ì¶”ë¡  ìš”ì²­ì´ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤. Triton ServerëŠ” ì„ íƒì  ë° ê³„ì‚° ëª¨ë¸ ë¡œë”©ì„ ì§€ì›í•˜ë¯€ë¡œ í˜„ì¬ ì›Œí¬ë¡œë“œì™€ ë¦¬ì†ŒìŠ¤ ê°€ìš©ì„±ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ëª¨ë¸ì„ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ë‹¤ì¤‘ ëª¨ë¸ ë°°í¬ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤.</p>
<p>Tritonì˜ ì¶”ë¡  ê¸°ëŠ¥ì˜ í•µì‹¬ì€ TensorRT-LLM ë° vLLMì„ í¬í•¨í•œ ë‹¤ì–‘í•œ ë°±ì—”ë“œì…ë‹ˆë‹¤:</p>
<p><strong><a href="https://github.com/NVIDIA/TensorRT-LLM" target="_blank" rel="noopener noreferrer">TensorRT-LLM</a></strong>: TensorRT-LLM ë°±ì—”ë“œëŠ” NVIDIA GPUì—ì„œ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(LLM) ì¶”ë¡ ì„ ìµœì í™”í•©ë‹ˆë‹¤. TensorRTì˜ ê³ ì„±ëŠ¥ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì¶” ë¡ ì„ ê°€ì†í™”í•˜ê³  ë‚®ì€ ì§€ì—° ì‹œê°„ê³¼ ë†’ì€ ì²˜ë¦¬ëŸ‰ ì„±ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. TensorRTëŠ” ì§‘ì¤‘ì ì¸ ê³„ì‚° ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•œ ë”¥ëŸ¬ë‹ ëª¨ë¸ì— íŠ¹íˆ ì í•©í•˜ì—¬ ì‹¤ì‹œê°„ AI ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì´ìƒì ì…ë‹ˆë‹¤.</p>
<p><strong><a href="https://github.com/vllm-project/vllm" target="_blank" rel="noopener noreferrer">vLLM</a></strong>: vLLM ë°±ì—”ë“œëŠ” ë‹¤ì–‘í•œ LLM ì›Œí¬ë¡œë“œë¥¼ ì²˜ë¦¬í•˜ë„ë¡ íŠ¹ë³„íˆ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ëŒ€ê·œëª¨ ëª¨ë¸ì— ë§ì¶¤í™”ëœ íš¨ìœ¨ì ì¸ ë©”ëª¨ë¦¬ ê´€ë¦¬ì™€ ì‹¤í–‰ íŒŒì´í”„ë¼ì¸ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ë°±ì—”ë“œëŠ” ë©”ëª¨ë¦¬ ë¦¬ì†ŒìŠ¤ê°€ ìµœì ìœ¼ë¡œ ì‚¬ìš©ë˜ë„ë¡ ë³´ì¥í•˜ì—¬ ë©”ëª¨ë¦¬ ë³‘ëª© í˜„ìƒ ì—†ì´ ë§¤ìš° í° ëª¨ë¸ì„ ë°°í¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. vLLMì€ ì—¬ëŸ¬ ëŒ€ê·œëª¨ ëª¨ë¸ì„ ë™ì‹œì— ì„œë¹™í•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¤‘ìš”í•˜ë©°, ê°•ë ¥í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<p><img decoding="async" loading="lazy" alt="NVIDIA Triton Server" src="/ai-on-eks/ko/assets/images/triton-internals-ffbbc8d44314b0020343b41b63593ffa.png" width="1920" height="1080" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mistralaimistral-7b-instruct-v02">Mistralai/Mistral-7B-Instruct-v0.2<a href="#mistralaimistral-7b-instruct-v02" class="hash-link" aria-label="Mistralai/Mistral-7B-Instruct-v0.2ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Mistralai/Mistral-7B-Instruct-v0.2ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>Mistralai/Mistral-7B-Instruct-v0.2ëŠ” ê³ í’ˆì§ˆì˜ êµìœ¡ì  ì‘ë‹µì„ ì œê³µí•˜ë„ë¡ ì„¤ê³„ëœ ìµœì²¨ë‹¨ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ë°ì´í„°ì…‹ìœ¼ë¡œ í›ˆë ¨ë˜ì–´ ë‹¤ì–‘í•œ ì£¼ì œì— ëŒ€í•´ ì¸ê°„ê³¼ ê°™ì€ í…ìŠ¤íŠ¸ë¥¼ ì´í•´í•˜ê³  ìƒì„±í•˜ëŠ” ë° ë›°ì–´ë‚©ë‹ˆë‹¤. ì´ ëª¨ë¸ì˜ ê¸°ëŠ¥ì€ ìì„¸í•œ ì„¤ëª…, ë³µì¡í•œ ì¿¼ë¦¬, ìì—°ì–´ ì´í•´ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-llamallama-2-7b-chat-hf">Meta-llama/Llama-2-7b-chat-hf<a href="#meta-llamallama-2-7b-chat-hf" class="hash-link" aria-label="Meta-llama/Llama-2-7b-chat-hfì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Meta-llama/Llama-2-7b-chat-hfì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>Meta-llama/Llama-2-7b-chat-hfëŠ” Metaì—ì„œ ê°œë°œí•œ ê³ ê¸‰ ëŒ€í™”í˜• AI ëª¨ë¸ì…ë‹ˆë‹¤. ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìµœì í™”ë˜ì–´ ì¼ê´€ë˜ê³  ë¬¸ë§¥ì ìœ¼ë¡œ ê´€ë ¨ì„± ìˆëŠ” ì‘ë‹µì„ ì œê³µí•©ë‹ˆë‹¤. ê´‘ë²”ìœ„í•œ ëŒ€í™” ë°ì´í„°ì…‹ìœ¼ë¡œ ê°•ë ¥í•˜ê²Œ í›ˆë ¨ë˜ì–´ ì´ ëª¨ë¸ì€ ì°¸ì—¬ì ì´ê³  ë™ì ì¸ ëŒ€í™”ë¥¼ ìœ ì§€í•˜ëŠ” ë° ë›°ì–´ë‚˜ë©°, ê³ ê° ì„œë¹„ìŠ¤ ë´‡, ëŒ€í™”í˜• ì—ì´ì „íŠ¸ ë° ê¸°íƒ€ ì±„íŒ… ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì´ìƒì ì…ë‹ˆë‹¤.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì†”ë£¨ì…˜-ë°°í¬">ì†”ë£¨ì…˜ ë°°í¬<a href="#ì†”ë£¨ì…˜-ë°°í¬" class="hash-link" aria-label="ì†”ë£¨ì…˜ ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì†”ë£¨ì…˜ ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p><a href="https://aws.amazon.com/eks/" target="_blank" rel="noopener noreferrer">Amazon EKS</a>ì—ì„œ <code>mistralai/Mistral-7B-Instruct-v0.2</code>ì™€ <code>meta-llama/Llama-2-7b-chat-hf</code>ë¥¼ ë°°í¬í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì‚¬ì „ ìš”êµ¬ ì‚¬í•­ì„ ë‹¤ë£¨ê³  ë‹¨ê³„ë³„ë¡œ ë°°í¬ ê³¼ì •ì„ ì•ˆë‚´í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì—ëŠ” ì¸í”„ë¼ ì„¤ì •, NVIDIA Triton Inference Server ë°°í¬, ì¶”ë¡ ì„ ìœ„í•´ Triton ì„œë²„ì— gRPC ìš”ì²­ì„ ë³´ë‚´ëŠ” Triton í´ë¼ì´ì–¸íŠ¸ Python ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±ì´ í¬í•¨ë©ë‹ˆë‹¤.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>ìœ„í—˜</div><div class="admonitionContent_BuS1"><p>ì¤‘ìš”: ì—¬ëŸ¬ GPUê°€ ì¥ì°©ëœ <code>g5.24xlarge</code> ì¸ìŠ¤í„´ìŠ¤ì— ë°°í¬í•˜ë©´ ë¹„ìš©ì´ ë§ì´ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ë¹„ìš©ì„ í”¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëŸ‰ì„ ì‹ ì¤‘í•˜ê²Œ ëª¨ë‹ˆí„°ë§í•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”. ì§€ì¶œì„ ì¶”ì í•˜ê¸° ìœ„í•´ ì˜ˆì‚° ì•Œë¦¼ê³¼ ì‚¬ìš© ì œí•œì„ ì„¤ì •í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ì„¸ìš”.</p></div></div>
<div class="collapsibleContent_q3kw"><div class="header_QCEw"><h2><span>ì‚¬ì „ ìš”êµ¬ ì‚¬í•­</span></h2><span class="icon_PckA">ğŸ‘ˆ</span></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vllm-ë°±ì—”ë“œê°€-í¬í•¨ëœ-nvidia-triton-server">vLLM ë°±ì—”ë“œê°€ í¬í•¨ëœ NVIDIA Triton Server<a href="#vllm-ë°±ì—”ë“œê°€-í¬í•¨ëœ-nvidia-triton-server" class="hash-link" aria-label="vLLM ë°±ì—”ë“œê°€ í¬í•¨ëœ NVIDIA Triton Serverì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="vLLM ë°±ì—”ë“œê°€ í¬í•¨ëœ NVIDIA Triton Serverì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>ì´ ë¸”ë£¨í”„ë¦°íŠ¸ëŠ” <a href="https://github.com/aws-ia/terraform-aws-eks-data-addons/tree/main/helm-charts/nvidia-triton-server" target="_blank" rel="noopener noreferrer">Triton helm chart</a>ë¥¼ ì‚¬ìš©í•˜ì—¬ Amazon EKSì— Triton ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ê³  êµ¬ì„±í•©ë‹ˆë‹¤. ë°°í¬ëŠ” ë¸”ë£¨í”„ë¦°íŠ¸ì˜ ë‹¤ìŒ Terraform ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ì„±ë©ë‹ˆë‹¤.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>í´ë¦­í•˜ì—¬ ë°°í¬ ì½”ë“œ í™•ì¥</summary><div><div class="collapsibleContent_i85q"><div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">module</span><span class="token keyword type variable" style="color:#36acaa"> &quot;triton_server_vllm&quot; </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">depends_on</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">module.eks_blueprints_addons.kube_prometheus_stack</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">source</span><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aws-ia/eks-data-addons/aws&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">version</span><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;~&gt; 1.32.0&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># ìµœì‹ /ì›í•˜ëŠ” ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">oidc_provider_arn</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> module.eks.oidc_provider_arn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">enable_nvidia_triton_server</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">nvidia_triton_server_helm_config</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">version</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">timeout</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">120</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">wait</span><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">namespace</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> kubernetes_namespace_v1.triton.metadata</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">.name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">values</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token heredoc string" style="color:#e3116c">&lt;&lt;-EOT</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      replicaCount: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      image:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        repository: nvcr.io/nvidia/tritonserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        tag: &quot;24.06-vllm-python-py3&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      serviceAccount:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        create: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        name: ${kubernetes_service_account_v1.triton.metadata[0].name}</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      modelRepositoryPath: s3://${module.s3_bucket.s3_bucket_id}/model_repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: model_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          value: ${local.default_model_name}</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: &quot;LD_PRELOAD&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          value: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: &quot;TRANSFORMERS_CACHE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          value: &quot;/home/triton-server/.cache&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: &quot;shm-size&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          value: &quot;5g&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: &quot;NCCL_IGNORE_DISABLED_P2P&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          value: &quot;1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: tensor_parallel_size</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          value: &quot;1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: gpu_memory_utilization</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          value: &quot;0.9&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: dtype</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          value: &quot;auto&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      secretEnvironment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - name: &quot;HUGGING_FACE_TOKEN&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          secretName: ${kubernetes_secret_v1.huggingface_token.metadata[0].name}</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          key: &quot;HF_TOKEN&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        limits:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          cpu: 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          memory: 25Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          nvidia.com/gpu: 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        requests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          cpu: 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          memory: 25Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          nvidia.com/gpu: 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      nodeSelector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        NodeGroupType: g5-gpu-karpenter</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        type: karpenter</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      tolerations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">        - key: &quot;nvidia.com/gpu&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          operator: &quot;Exists&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">          effect: &quot;NoSchedule&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token heredoc string" style="color:#e3116c">      EOT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div></div></div></details>
<p><strong>ì°¸ê³ :</strong> Triton ì„œë²„ì— ì‚¬ìš©ë˜ëŠ” ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ëŠ” <code>nvcr.io/nvidia/tritonserver:24.02-vllm-python-py3</code>ì´ë©° vLLM ë°±ì—”ë“œê°€ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. <a href="https://catalog.ngc.nvidia.com/orgs/nvidia/containers/tritonserver/tags" target="_blank" rel="noopener noreferrer">NGC Catalog</a>ì—ì„œ ì ì ˆí•œ íƒœê·¸ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><strong>ëª¨ë¸ ì €ì¥ì†Œ</strong>:
Triton Inference ServerëŠ” ì„œë²„ ì‹œì‘ ì‹œ ì§€ì •ëœ í•˜ë‚˜ ì´ìƒì˜ ëª¨ë¸ ì €ì¥ì†Œì—ì„œ ëª¨ë¸ì„ ì„œë¹™í•©ë‹ˆë‹¤. Tritonì€ ë¡œì»¬ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ íŒŒì¼ ê²½ë¡œì™€ Amazon S3ì™€ ê°™ì€ í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ ìœ„ì¹˜ì—ì„œ ëª¨ë¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ëª¨ë¸ ì €ì¥ì†Œë¥¼ êµ¬ì„±í•˜ëŠ” ë””ë ‰í† ë¦¬ì™€ íŒŒì¼ì€ í•„ìˆ˜ ë ˆì´ì•„ì›ƒì„ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤. ì €ì¥ì†Œ ë ˆì´ì•„ì›ƒì€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>í´ë¦­í•˜ì—¬ ëª¨ë¸ ë””ë ‰í† ë¦¬ ê³„ì¸µ êµ¬ì¡° í™•ì¥</summary><div><div class="collapsibleContent_i85q"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;model-repository-path&gt;/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;model-name&gt;/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [config.pbtxt]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&lt;output-labels-file&gt; ...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;model-definition-file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;model-definition-file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;model-name&gt;/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [config.pbtxt]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&lt;output-labels-file&gt; ...]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;model-definition-file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;model-definition-file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ì˜ˆ:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model-repository/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mistral-7b/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config.pbtxt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      model.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  llama-2/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    config.pbtxt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      model.py</span><br></span></code></pre></div></div></div></div></details>
<p>vLLM í™œì„±í™”ëœ Triton ëª¨ë¸ì˜ ê²½ìš° model_repositoryëŠ” <code>ai/inference/vllm-nvidia-triton-server-gpu/model_repository</code> ìœ„ì¹˜ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°°í¬ ì¤‘ì— ë¸”ë£¨í”„ë¦°íŠ¸ëŠ” S3 ë²„í‚·ì„ ìƒì„±í•˜ê³  ë¡œì»¬ <code>model_repository</code> ë‚´ìš©ì„ S3 ë²„í‚·ì— ë™ê¸°í™”í•©ë‹ˆë‹¤.</p>
<p><strong>model.py</strong>: ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” vLLM ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Triton ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬ë¡œ ì‚¬ìš©í•˜ê³  ëª¨ë¸ êµ¬ì„±ì„ ë¡œë“œí•˜ê³  vLLM ì—”ì§„ì„ êµ¬ì„±í•˜ì—¬ <code>TritonPythonModel</code> í´ë˜ìŠ¤ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. <code>huggingface_hub</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë¡œê·¸ì¸ í•¨ìˆ˜ëŠ” ëª¨ë¸ ì ‘ê·¼ì„ ìœ„í•´ hugging face ì €ì¥ì†Œì— ëŒ€í•œ ì ‘ê·¼ì„ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ìˆ˜ì‹ ëœ ìš”ì²­ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ asyncio ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ì¶”ë¡  ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  vLLM ë°±ì—”ë“œì— ìš”ì²­ì„ ë°œí–‰í•˜ê³  ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ì—¬ëŸ¬ í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.</p>
<p><strong>config.pbtxt</strong>: ë‹¤ìŒê³¼ ê°™ì€ íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•˜ëŠ” ëª¨ë¸ êµ¬ì„± íŒŒì¼ì…ë‹ˆë‹¤</p>
<ul>
<li>Name - ëª¨ë¸ì˜ ì´ë¦„ì€ ëª¨ë¸ì„ í¬í•¨í•˜ëŠ” ëª¨ë¸ ì €ì¥ì†Œ ë””ë ‰í† ë¦¬ì˜ <code>name</code>ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.</li>
<li>max_batch_size - <code>max_batch_size</code> ê°’ì€ Tritonì´ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°°ì¹­ ìœ í˜•ì— ëŒ€í•´ ëª¨ë¸ì´ ì§€ì›í•˜ëŠ” ìµœëŒ€ ë°°ì¹˜ í¬ê¸°ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤</li>
<li>Inputs and Outputs - ê° ëª¨ë¸ ì…ë ¥ ë° ì¶œë ¥ì€ ì´ë¦„, ë°ì´í„° ìœ í˜•, ëª¨ì–‘ì„ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì…ë ¥ ëª¨ì–‘ì€ ëª¨ë¸ê³¼ ì¶”ë¡  ìš”ì²­ì—ì„œ Tritonì´ ì˜ˆìƒí•˜ëŠ” ì…ë ¥ í…ì„œì˜ ëª¨ì–‘ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì¶œë ¥ ëª¨ì–‘ì€ ëª¨ë¸ì´ ìƒì„±í•˜ê³  ì¶”ë¡  ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ Tritonì´ ë°˜í™˜í•˜ëŠ” ì¶œë ¥ í…ì„œì˜ ëª¨ì–‘ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì…ë ¥ ë° ì¶œë ¥ ëª¨ì–‘ì€ <code>max_batch_size</code>ì™€ <code>input dims</code> ë˜ëŠ” <code>output dims</code>ë¡œ ì§€ì •ëœ ì°¨ì›ì˜ ì¡°í•©ìœ¼ë¡œ ì§€ì •ë©ë‹ˆë‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ë°°í¬-í™•  ì¸">ë°°í¬ í™•ì¸<a href="#ë°°í¬-í™•ì¸" class="hash-link" aria-label="ë°°í¬ í™•ì¸ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ë°°í¬ í™•ì¸ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>Triton Inference Serverê°€ ì„±ê³µì ìœ¼ë¡œ ë°°í¬ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get all </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> triton-vllm</span><br></span></code></pre></div></div>
<p>ì•„ë˜ ì¶œë ¥ì€ ë‘ ëª¨ë¸ì„ í˜¸ìŠ¤íŒ…í•˜ëŠ” Triton ì„œë²„ë¥¼ ì‹¤í–‰í•˜ëŠ” í•˜ë‚˜ì˜ íŒŒë“œê°€ ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
ëª¨ë¸ê³¼ ìƒí˜¸ ì‘ìš©í•˜ê¸° ìœ„í•œ í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ì™€ Triton ì„œë²„ë¥¼ ìœ„í•œ í•˜ë‚˜ì˜ ReplicaSetì´ ìˆìŠµë‹ˆë‹¤.
ë°°í¬ëŠ” ì‚¬ìš©ì ì •ì˜ ë©”íŠ¸ë¦­ê³¼ HPA ê°ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜í‰ ìŠ¤ì¼€ì¼ë§ë©ë‹ˆë‹¤.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                               READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod/nvidia-triton-server-triton-inference-server-c49bd559d-szlpf   1/1     Running   0          13m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                           TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service/nvidia-triton-server-triton-inference-server           ClusterIP   172.20.193.97   &lt;none&gt;        8000/TCP,8001/TCP,8002/TCP   13m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service/nvidia-triton-server-triton-inference-server-metrics   ClusterIP   172.20.5.247    &lt;none&gt;        8080/TCP                     13m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                           READY   UP-TO-DATE   AVAILABLE   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment.apps/nvidia-triton-server-triton-inference-server   1/1     1            1           13m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                                     DESIRED   CURRENT   READY   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">replicaset.apps/nvidia-triton-server-triton-inference-server-c49bd559d   1         1         1       13m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                                               REFERENCE                                                 TARGETS                        MINPODS   MAXPODS   REPLICAS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">horizontalpodautoscaler.autoscaling/nvidia-triton-server-triton-inference-server   Deployment/nvidia-triton-server-triton-inference-server   &lt;unknown&gt;/80%, &lt;unknown&gt;/80%   1         5         1          13m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>ì´ ì¶œë ¥ì€ Triton ì„œë²„ íŒŒë“œê°€ ì‹¤í–‰ ì¤‘ì´ê³  ì„œë¹„ìŠ¤ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆìœ¼ë©° ë°°í¬ê°€ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•˜ê³  ìˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. Horizontal Pod Autoscalerë„ í™œì„±í™”ë˜ì–´ ì§€ì •ëœ ë©”íŠ¸ë¦­ì— ë”°ë¼ íŒŒë“œ ìˆ˜ê°€ ìŠ¤ì¼€ì¼ë§ë©ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="llama-2-7b-chat-ë°-mistral-7b-chat-ëª¨ë¸-í…ŒìŠ¤íŠ¸">Llama-2-7b Chat ë° Mistral-7b Chat ëª¨ë¸ í…ŒìŠ¤íŠ¸<a href="#llama-2-7b-chat-ë°-mistral-7b-chat-ëª¨ë¸-í…ŒìŠ¤íŠ¸" class="hash-link" aria-label="Llama-2-7b Chat ë° Mistral-7b Chat ëª¨ë¸ í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Llama-2-7b Chat ë° Mistral-7b Chat ëª¨ë¸ í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>ì´ì œ Llama-2-7b chatê³¼ Mistral-7b chat ëª¨ë¸ì„ í…ŒìŠ¤íŠ¸í•  ì°¨ë¡€ì…ë‹ˆë‹¤. ë™ì¼í•œ í”„ë¡¬í”„íŠ¸ë¡œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ë‘ ëª¨ë¸ì´ ìƒì„±í•œ ì¶œë ¥ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
<p>ë¨¼ì € kubectlì„ ì‚¬ìš©í•˜ì—¬ Triton-inference-server ì„œë¹„ìŠ¤ë¡œ í¬íŠ¸ í¬ì›Œë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> triton-vllm port-forward svc/nvidia-triton-server-triton-inference-server </span><span class="token number" style="color:#36acaa">8001</span><span class="token plain">:8001</span><br></span></code></pre></div></div>
<p>ë‹¤ìŒìœ¼ë¡œ ë™ì¼í•œ í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ëª¨ë¸ì— ëŒ€í•´ Triton í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ai-on-eks/blueprints/inference/vllm-nvidia-triton-server-gpu/triton-client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> venv .venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">source</span><span class="token plain"> .venv/bin/activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> tritonclient</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">all</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 triton-client.py --model-name mistral7b --input-prompts prompts.txt --results-file mistral_results.txt</span><br></span></code></pre></div></div>
<p>ë‹¤ìŒê³¼ ê°™ì€ ì¶œë ¥ì´ í‘œì‹œë©ë‹ˆë‹¤:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 triton-client.py --model-name mistral7b --input-prompts prompts.txt --results-file mistral_results.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`prompts.txt`ì—ì„œ ì…ë ¥ ë¡œë”© ì¤‘...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 3: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 14: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 11: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 15: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 5: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 0: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 7: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 13: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 9: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 16: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 18: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 4: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 8: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 1: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 6: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 12: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 17: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 2: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 19: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model mistral7b - Request 10: 0.02 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ê²°ê³¼ë¥¼ `mistral_results.txt`ì— ì €ì¥ ì¤‘...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ëª¨ë“  ìš”ì²­ ì´ ì‹œê°„: 0.00ì´ˆ (0.11 ë°€ë¦¬ì´ˆ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASS: vLLM ì˜ˆì œ</span><br></span></code></pre></div></div>
<p><code>mistral_results.txt</code>ì˜ ì¶œë ¥ì€ ì•„ë˜ì™€ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤:</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>í´ë¦­í•˜ì—¬ Mistral ê²°ê³¼ ë¶€ë¶„ ì¶œë ¥ í™•ì¥</summary><div><div class="collapsibleContent_i85q"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;s&gt;[INST]&lt;&lt;SYS&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">100ë¬¸ì¥ ì´í•˜ì˜ ì§§ì€ ë‹µë³€ì„ ìœ ì§€í•˜ì„¸ìš”.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt;/SYS&gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ì „í†µì ì¸ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ê³¼ ì´ˆëŒ€í˜• ì–¸ì–´ ëª¨ë¸(vLLM)ì˜ ì£¼ìš” ì°¨ì´ì ì€ ë¬´ì—‡ì¸ê°€ìš”?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[/INST] ì „í†µì ì¸ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸(MLM)ì€ íŠ¹ì • ë°ì´í„°ì…‹ê³¼ íŠ¹ì„±ìœ¼ë¡œ í›ˆë ¨ë˜ì–´ í•´ë‹¹ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒ¨í„´ì„ í•™ìŠµí•˜ê³  ì˜ˆì¸¡í•©ë‹ˆë‹¤. í›ˆë ¨ì„ ìœ„í•´ ë ˆì´ë¸”ì´ ì§€ì •ëœ ë°ì´í„°ê°€ í•„ìš”í•˜ë©° í›ˆë ¨ ë°ì´í„°ì˜ í¬ê¸°ì™€ ë‹¤ì–‘ì„±ì— ì˜í•´ ì œí•œë©ë‹ˆë‹¤. MLMì€ ì´ë¯¸ì§€ ì¸ì‹ì´ë‚˜ ìŒì„± ì¸ì‹ê³¼ ê°™ì€ êµ¬ì¡°í™”ëœ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° íš¨ê³¼ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ë°˜ë©´ ì´ˆëŒ€í˜• ì–¸ì–´ ëª¨ë¸(vLLM)ì€ ë”¥ëŸ¬ë‹ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ ë°©ëŒ€í•œ ì–‘ì˜ í…ìŠ¤íŠ¸ ë°ì´í„°ë¡œ í›ˆë ¨ë©ë‹ˆë‹¤. ìˆ˜ì‹ í•˜ëŠ” ì…ë ¥ì„ ê¸°ë°˜ìœ¼ë¡œ ì¸ê°„ê³¼ ê°™ì€ í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•©ë‹ˆë‹¤. vLLMì€ MLMë³´ë‹¤ ë” ë¬¸ë§¥ì„ ì¸ì‹í•˜ê³  ë¯¸ë¬˜í•œ ë°©ì‹ìœ¼ë¡œ í…ìŠ¤íŠ¸ë¥¼ ì´í•´í•˜ê³  ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í…ìŠ¤íŠ¸ ìš”ì•½, ë²ˆì—­, ì§ˆë¬¸ ì‘ë‹µê³¼ ê°™ì€ ë” ë„“ì€ ë²”ìœ„ì˜ ì‘ì—…ë„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ vLLMì€ ê³„ì‚° ë¹„  ìš©ì´ ë” ë§ì´ ë“¤ê³  í›ˆë ¨ì— ëŒ€ëŸ‰ì˜ ë°ì´í„°ì™€ ì „ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤. ì ì ˆí•˜ê²Œ ê´€ë¦¬ë˜ì§€ ì•Šìœ¼ë©´ ë¶€ì •í™•í•˜ê±°ë‚˜ í¸í–¥ëœ ì‘ë‹µì„ ìƒì„±í•  ê°€ëŠ¥ì„±ë„ ìˆìŠµë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=========</span><br></span></code></pre></div></div></div></div></details>
<p>ì´ì œ ë™ì¼í•œ í”„ë¡¬í”„íŠ¸ë¡œ Llama-2-7b-chat ëª¨ë¸ì—ì„œ ì¶”ë¡ ì„ ì‹¤í–‰í•˜ê³  <code>llama2_results.txt</code>ë¼ëŠ” ìƒˆ íŒŒì¼ì—ì„œ ì¶œë ¥ì„ í™•ì¸í•´ ë³´ì„¸ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 triton-client.py --model-name llama2 --input-prompts prompts.txt --results-file llama2_results.txt</span><br></span></code></pre></div></div>
<p>ì¶œë ¥ì€ ë‹¤ìŒê³¼ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 triton-client.py --model-name llama2 --input-prompts prompts.txt --results-file llama2_results.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`prompts.txt`ì—ì„œ ì…ë ¥ ë¡œë”© ì¤‘...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 11: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 15: 0.02 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 3: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 8: 0.03 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 5: 0.02 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 0: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 14: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 16: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 19: 0.02 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 4: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 1: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 10: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 9: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 7: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 18: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 12: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 2: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 6: 0.00 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 17: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Model llama2 - Request 13: 0.01 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ê²°ê³¼ë¥¼ `llama2_results.txt`ì— ì €ì¥ ì¤‘...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ëª¨ë“  ìš”ì²­ ì´ ì‹œê°„: 0.00ì´ˆ (0.18 ë°€ë¦¬ì´ˆ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASS: vLLM ì˜ˆì œ</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ê´€ì¸¡ì„±">ê´€ì¸¡ì„±<a href="#ê´€ì¸¡ì„±" class="hash-link" aria-label="ê´€ì¸¡ì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ê´€ì¸¡ì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-cloudwatchì™€-neuron-monitorë¥¼-ì‚¬ìš©í•œ-ê´€ì¸¡ì„±">AWS CloudWatchì™€ Neuron Monitorë¥¼ ì‚¬ìš©í•œ ê´€ì¸¡ì„±<a href="#aws-cloudwatchì™€-neuron-monitorë¥¼-ì‚¬ìš©í•œ-ê´€ì¸¡ì„±" class="hash-link" aria-label="AWS CloudWatchì™€ Neuron Monitorë¥¼ ì‚¬ìš©í•œ ê´€ì¸¡ì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="AWS CloudWatchì™€ Neuron Monitorë¥¼ ì‚¬ìš©í•œ ê´€ì¸¡ì„±ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>ì´ ë¸”ë£¨í”„ë¦°íŠ¸ëŠ” ê´€ë¦¬í˜• ì• ë“œì˜¨ìœ¼ë¡œ CloudWatch Observability Agentë¥¼ ë°°í¬í•˜ì—¬ ì»¨í…Œì´ë„ˆí™”ëœ ì›Œí¬ë¡œë“œì— ëŒ€í•œ í¬ê´„ì ì¸ ëª¨ë‹ˆí„°ë§ì„ ì œê³µí•©ë‹ˆë‹¤. CPU ë° ë©”ëª¨ë¦¬ í™œìš©ë¥ ê³¼ ê°™ì€ ì£¼ìš” ì„±ëŠ¥ ë©”íŠ¸ë¦­ì„ ì¶”ì í•˜ê¸° ìœ„í•œ ì»¨í…Œì´ë„ˆ ì¸ì‚¬ì´íŠ¸ê°€ í¬í•¨ë©ë‹ˆë‹¤. ë˜í•œ ë¸”ë£¨í”„ë¦°íŠ¸ëŠ” NVIDIAì˜ DCGM í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•œ GPU ë©”íŠ¸ë¦­ì„ í†µí•©í•˜ë©°, ì´ëŠ” ê³ ì„±ëŠ¥ GPU ì›Œí¬ë¡œë“œë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤. AWS Inferentia ë˜ëŠ” Trainiumì—ì„œ ì‹¤í–‰ë˜ëŠ” ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì˜ ê²½ìš° <a href="https://awsdocs-neuron.readthedocs-hosted.com/en/latest/tools/neuron-sys-tools/neuron-monitor-user-guide.html#neuron-monitor-user-guide" target="_blank" rel="noopener noreferrer">Neuron Monitor í”ŒëŸ¬ê·¸ì¸</a>ì´ ì¶”ê°€ë˜ì–´ Neuron íŠ¹ì • ë©”íŠ¸ë¦­ì„ ìº¡ì²˜í•˜ê³  ë³´ê³ í•©ë‹ˆë‹¤.</p>
<p>ì»¨í…Œì´ë„ˆ ì¸ì‚¬ì´íŠ¸, GPU ì„±ëŠ¥, Neuron ë©”íŠ¸ë¦­ì„ í¬í•¨í•œ ëª¨ë“  ë©”íŠ¸ë¦­ì€ Amazon CloudWatchë¡œ ì „ì†¡ë˜ë©°, ì—¬ê¸°ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³  ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°°í¬ê°€ ì™„ë£Œë˜ë©´ CloudWatch ì½˜ì†”ì—ì„œ ì§ì ‘ ì´ëŸ¬í•œ ë©”íŠ¸ë¦­ì— ì ‘ê·¼í•  ìˆ˜ ìˆì–´ ì›Œí¬ë¡œë“œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>CloudWatch EKS ì• ë“œì˜¨ ë°°í¬ ì™¸ì—ë„ ëª¨ë‹ˆí„°ë§ ë° ê´€ì¸¡ì„±ì„ ìœ„í•œ Prometheus ì„œë²„ì™€ Grafana ë°°í¬ë¥¼ ì œê³µí•˜ëŠ” Kube Prometheus ìŠ¤íƒë„ ë°°í¬í–ˆìŠµë‹ˆë‹¤.</p>
<p>ë¨¼ì € Kube Prometheus ìŠ¤íƒì—ì„œ ë°°í¬í•œ ì„œë¹„ìŠ¤ë¥¼ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get svc </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> kube-prometheus-stack</span><br></span></code></pre></div></div>
<p>ë‹¤ìŒê³¼ ìœ ì‚¬í•œ ì¶œë ¥ì´ í‘œì‹œë©ë‹ˆë‹¤:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get svc -n kube-prometheus-stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                             TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)             AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-prometheus-stack-grafana                    ClusterIP   172.20.252.10    &lt;none&gt;        80/TCP              11d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-prometheus-stack-kube-state-metrics         ClusterIP   172.20.34.181    &lt;none&gt;        8080/TCP            11d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-prometheus-stack-operator                   ClusterIP   172.20.186.93    &lt;none&gt;        443/TCP             11d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-prometheus-stack-prometheus                 ClusterIP   172.20.147.64    &lt;none&gt;        9090/TCP,8080/TCP   11d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-prometheus-stack-prometheus-node-exporter   ClusterIP   172.20.171.165   &lt;none&gt;        9100/TCP            11d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-operated                              ClusterIP   None             &lt;none&gt;        9090/TCP            11d</span><br></span></code></pre></div></div>
<p>NVIDIA Triton ì„œë²„ ë©”íŠ¸ë¦­ì„ ë…¸ì¶œí•˜ê¸° ìœ„í•´ í¬íŠ¸ <code>8080</code>ì—ì„œ ë©”íŠ¸ë¦­ ì„œë¹„ìŠ¤(<code>nvidia-triton-server-triton-inference-server-metrics</code>)ë¥¼ ë°°í¬í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì„ ì‹¤í–‰í•˜ì—¬ í™•ì¸í•˜ì„¸ìš”</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get svc </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> triton-vllm</span><br></span></code></pre></div></div>
<p>ì¶œë ¥ì€ ë‹¤ìŒê³¼ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get svc -n triton-vllm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                   TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvidia-triton-server-triton-inference-server           ClusterIP   172.20.193.97   &lt;none&gt;        8000/TCP,8001/TCP,8002/TCP   34m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvidia-triton-server-triton-inference-server-metrics   ClusterIP   172.20.5.247    &lt;none&gt;        8080/TCP                     34m</span><br></span></code></pre></div></div>
<p>ì´ëŠ” NVIDIA Triton ì„œë²„ ë©”íŠ¸ë¦­ì´ Prometheus ì„œë²„ì— ì˜í•´ ìŠ¤í¬ë©ë˜ê³  ìˆìŒì„ í™•ì¸í•©ë‹ˆë‹¤. Grafana ëŒ€ì‹œë³´ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ë©”íŠ¸ë¦­ì„ ì‹œê°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì•„ë˜ Grafana ëŒ€ì‹œë³´ë“œì—ì„œ ì—¬ëŸ¬ ì¤‘ìš”í•œ ë©”íŠ¸ë¦­ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<ul>
<li><strong>Average GPU Power Usage</strong>: ì´ ê²Œì´ì§€ëŠ” GPUì˜ í˜„ì¬ ì „ë ¥ ì‚¬ìš©ëŸ‰ì„ ë³´ì—¬ì£¼ë©°, ì¶”ë¡  ì‘ì—…ì˜ íš¨ìœ¨ì„±ê³¼ ì„±ëŠ¥ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤.</li>
<li><strong>Compute Time (ë°€ë¦¬ì´ˆ)</strong>: ì´ ë§‰ëŒ€ ê·¸ë˜í”„ëŠ” ì¶”ë¡  ìš”ì²­ì„ ê³„ì‚°í•˜ëŠ” ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì„ í‘œì‹œí•˜ì—¬ ì§€ì—° ë¬¸ì œë¥¼ ì‹ë³„í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.</li>
<li><strong>Cumulative Inference Requests</strong>: ì´ ê·¸ë˜í”„ëŠ” ì‹œê°„ ê²½ê³¼ì— ë”°ë¼ ì²˜ë¦¬ëœ ì´ ì¶”ë¡  ìš”ì²­ ìˆ˜ë¥¼ ë³´ì—¬ì£¼ì–´ ì›Œí¬ë¡œë“œì™€ ì„±ëŠ¥ ì¶”ì„¸ì— ëŒ€í•œ í†µì°°ë ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</li>
<li><strong>Queue Time (ë°€ë¦¬ì´ˆ)</strong>: ì´ ë¼ì¸ ê·¸ë˜í”„ëŠ” ìš”ì²­ì´ ì²˜ë¦¬ë˜ê¸° ì „ì— íì—ì„œ ë³´ë‚´ëŠ” ì‹œê°„ì„ ë‚˜íƒ€ë‚´ë©°, ì‹œìŠ¤í…œì˜ ì ì¬ì  ë³‘ëª© í˜„ìƒì„ ê°•ì¡°í•©ë‹ˆë‹¤.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="NVIDIA Triton Server" src="/ai-on-eks/ko/assets/images/triton-observability-c1fbf7456677ce1c8ed6f423f0cce09e.png" width="1920" height="1080" class="img_ev3q"></p>
<p>ì´ëŸ¬í•œ ë©”íŠ¸ë¦­ì„ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•œ ìƒˆ Grafana ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“¤ë ¤ë©´ ì•„ë˜ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- Grafana ì„œë¹„ìŠ¤ í¬íŠ¸ í¬ì›Œë”©:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward svc/kube-prometheus-stack-grafana </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> kube-prometheus-stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Grafana ê´€ë¦¬ì ì‚¬ìš©ì</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Terraform ì¶œë ¥ì—ì„œ ì‹œí¬ë¦¿ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform output grafana_secret_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- ê´€ë¦¬ì ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws secretsmanager get-secret-value --secret-id </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">grafana_secret_name_output</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--region</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$AWS_REGION</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--query</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SecretString&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--output</span><span class="token plain"> text</span><br></span></code></pre></div></div>
<p><strong>Grafanaì— ë¡œê·¸ì¸:</strong></p>
<ul>
<li>ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì—´ê³  <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080</a>ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.</li>
<li>ì‚¬ìš©ì ì´ë¦„ <code>admin</code>ê³¼ AWS Secrets Managerì—ì„œ ê²€ìƒ‰í•œ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.</li>
</ul>
<p><strong>ì˜¤í”ˆì†ŒìŠ¤ Grafana ëŒ€ì‹œë³´ë“œ ê°€ì ¸ì˜¤ê¸°:</strong></p>
<ul>
<li>ë¡œê·¸ì¸ í›„ ì™¼ìª½ ì‚¬ì´ë“œë°”ì˜ &quot;+&quot; ì•„ì´ì½˜ì„ í´ë¦­í•˜ê³  &quot;Import&quot;ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</li>
<li>ë‹¤ìŒ URLì„ ì…ë ¥í•˜ì—¬ ëŒ€ì‹œë³´ë“œ JSONì„ ê°€ì ¸ì˜µë‹ˆë‹¤: <a href="https://github.com/triton-inference-server/server/blob/main/deploy/k8s-onprem/dashboard.json" target="_blank" rel="noopener noreferrer">Triton Server Grafana Dashboard</a></li>
<li>ì•ˆë‚´ì— ë”°ë¼ ê°€ì ¸ì˜¤ê¸° í”„ë¡œì„¸ìŠ¤ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤.</li>
</ul>
<p>ì´ì œ ìƒˆ Grafana ëŒ€ì‹œë³´ë“œì— í‘œì‹œëœ ë©”íŠ¸ë¦­ì„ ë³¼ ìˆ˜ ìˆì–´ NVIDIA Triton Inference Server ë°°í¬ì˜ ì„±ëŠ¥ê³¼ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img decoding="async" loading="lazy" alt="triton-grafana-dash2" src="/ai-on-eks/ko/assets/images/triton-grafana-dash2-6bc3f332abbb3cd2dc6da59d2ecd46b7.png" width="3836" height="1938" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ê²°ë¡ ">ê²°ë¡ <a href="#ê²°ë¡ " class="hash-link" aria-label="ê²°ë¡ ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ê²°ë¡ ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>Amazon EKSì—ì„œ NVIDIA Triton Inference Serverì™€ vLLM ë°±ì—”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì„ ë°°í¬í•˜ê³  ê´€ë¦¬í•˜ë©´ í˜„ëŒ€ AI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ê°•ë ¥í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ë¸”ë£¨í”„ë¦°íŠ¸ë¥¼ ë”°ë¥´ë©´ í•„ìš”í•œ ì¸í”„ë¼ë¥¼ ì„¤ì •í•˜ê³ , Triton ì„œë²„ë¥¼ ë°°í¬í•˜ê³ , Kube Prometheus ìŠ¤íƒê³¼ Grafanaë¥¼ ì‚¬ìš©í•˜ì—¬ ê°•ë ¥í•œ ê´€ì¸¡ì„±ì„ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì •ë¦¬">ì •ë¦¬<a href="#ì •ë¦¬" class="hash-link" aria-label="ì •ë¦¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì •ë¦¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ê°€ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì„ ë•Œ ì •ë¦¬í•˜ê³  í”„ë¡œë¹„ì €ë‹ì„ í•´ì œí•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.</p>
<p><strong>EKS í´ëŸ¬ìŠ¤í„° ì •ë¦¬:</strong>
ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” <code>-target</code> ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ì‚­ì œë˜ë„ë¡ í™˜ê²½ì„ ì •ë¦¬í•©ë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AWS_DEAFULT_REGION</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;DEPLOYED_EKS_CLUSTER_REGION&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> ai-on-eks/infra/nvidia-triton-server/ </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x cleanup.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./cleanup.sh</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/awslabs/ai-on-eks/blob/main/website/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>í˜ì´ì§€ í¸ì§‘</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="ë¬¸ì„œ í˜ì´ì§€"><a class="pagination-nav__link pagination-nav__link--prev" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-rayserve"><div class="pagination-nav__sublabel">ì´ì „</div><div class="pagination-nav__label">RayServeì™€ vLLM</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus"><div class="pagination-nav__sublabel">ë‹¤ìŒ</div><div class="pagination-nav__label">GPUì—ì„œì˜ Stable Diffusion</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ì˜ˆìƒ-ê²°ê³¼" class="table-of-contents__link toc-highlight">ì˜ˆìƒ ê²°ê³¼</a><ul><li><a href="#mistralaimistral-7b-instruct-v02" class="table-of-contents__link toc-highlight">Mistralai/Mistral-7B-Instruct-v0.2</a></li><li><a href="#meta-llamallama-2-7b-chat-hf" class="table-of-contents__link toc-highlight">Meta-llama/Llama-2-7b-chat-hf</a></li></ul></li><li><a href="#ì†”ë£¨ì…˜-ë°°í¬" class="table-of-contents__link toc-highlight">ì†”ë£¨ì…˜ ë°°í¬</a><ul><li><a href="#ë°°í¬" class="table-of-contents__link toc-highlight">ë°°í¬</a></li><li><a href="#ë¦¬ì†ŒìŠ¤-í™•ì¸" class="table-of-contents__link toc-highlight">ë¦¬ì†ŒìŠ¤ í™•ì¸</a></li><li><a href="#vllm-ë°±ì—”ë“œê°€-í¬í•¨ëœ-nvidia-triton-server" class="table-of-contents__link toc-highlight">vLLM ë°±ì—”ë“œê°€ í¬í•¨ëœ NVIDIA Triton Server</a></li><li><a href="#ë°°í¬-í™•ì¸" class="table-of-contents__link toc-highlight">ë°°í¬ í™•ì¸</a></li><li><a href="#llama-2-7b-chat-ë°-mistral-7b-chat-ëª¨ë¸-í…ŒìŠ¤íŠ¸" class="table-of-contents__link toc-highlight">Llama-2-7b Chat ë° Mistral-7b Chat ëª¨ë¸ í…ŒìŠ¤íŠ¸</a></li></ul></li><li><a href="#ê´€ì¸¡ì„±" class="table-of-contents__link toc-highlight">ê´€ì¸¡ì„±</a><ul><li><a href="#aws-cloudwatchì™€-neuron-monitorë¥¼-ì‚¬ìš©í•œ-ê´€ì¸¡ì„±" class="table-of-contents__link toc-highlight">AWS CloudWatchì™€ Neuron Monitorë¥¼ ì‚¬ìš©í•œ ê´€ì¸¡  ì„±</a></li></ul></li><li><a href="#ê²°ë¡ " class="table-of-contents__link toc-highlight">ê²°ë¡ </a></li><li><a href="#ì •ë¦¬" class="table-of-contents__link toc-highlight">ì •ë¦¬</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">ì°¸ì—¬í•˜ê¸°</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/awslabs/ai-on-eks" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with â¤ï¸ at AWS  <br> Â© ${new Date().getFullYear()} Amazon.com, Inc. or its affiliates. All Rights Reserved</div></div></div></footer><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;7fbc7ab02fae4767b1af2588eba0cdf2&quot;}"></script></div>
</body>
</html>