<!doctype html>
<html lang="ko-KR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-blueprints/inference/framework-guides/GPUs/stablediffusion-gpus" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.0">
<title data-rh="true">GPUì—ì„œì˜ Stable Diffusion | AI on EKS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus"><meta data-rh="true" property="og:locale" content="ko_KR"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GPUì—ì„œì˜ Stable Diffusion | AI on EKS"><meta data-rh="true" name="description" content="EKSì—ì„œ ML ëª¨ë¸ì„ ë°°í¬í•˜ë ¤ë©´ GPU ë˜ëŠ” Neuron ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°°í¬ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì´ëŸ¬í•œ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ê¸° ë•Œë¬¸ì¸ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ë˜í•œ ì¼ë¶€ ë°°í¬ íŒ¨í„´ì€ Karpenter ìë™ ìŠ¤ì¼€ì¼ë§ê³¼ ì •ì  ë…¸ë“œ ê·¸ë£¹ì— ì˜ì¡´í•©ë‹ˆë‹¤. ë…¸ë“œê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ Karpenter ë˜ëŠ” ë…¸ë“œ ê·¸ë£¹ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš”."><meta data-rh="true" property="og:description" content="EKSì—ì„œ ML ëª¨ë¸ì„ ë°°í¬í•˜ë ¤ë©´ GPU ë˜ëŠ” Neuron ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°°í¬ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì´ëŸ¬í•œ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ê¸° ë•Œë¬¸ì¸ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ë˜í•œ ì¼ë¶€ ë°°í¬ íŒ¨í„´ì€ Karpenter ìë™ ìŠ¤ì¼€ì¼ë§ê³¼ ì •ì  ë…¸ë“œ ê·¸ë£¹ì— ì˜ì¡´í•©ë‹ˆë‹¤. ë…¸ë“œê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ Karpenter ë˜ëŠ” ë…¸ë“œ ê·¸ë£¹ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš”."><link data-rh="true" rel="icon" href="/ai-on-eks/ko/img/header-icon.png"><link data-rh="true" rel="canonical" href="https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus"><link data-rh="true" rel="alternate" href="https://awslabs.github.io/ai-on-eks/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus" hreflang="ko-KR"><link data-rh="true" rel="alternate" href="https://awslabs.github.io/ai-on-eks/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"EKSì—ì„œì˜ ì¶”ë¡ ","item":"https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/"},{"@type":"ListItem","position":2,"name":"Framework-Specific Deployment Guides","item":"https://awslabs.github.io/ai-on-eks/ko/docs/category/framework-specific-deployment-guides"},{"@type":"ListItem","position":3,"name":"EKSì—ì„œì˜ GPU ì¶”ë¡ ","item":"https://awslabs.github.io/ai-on-eks/ko/docs/category/gpu-inference-on-eks"},{"@type":"ListItem","position":4,"name":"GPUì—ì„œì˜ Stable Diffusion","item":"https://awslabs.github.io/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus"}]}</script><link rel="stylesheet" href="/ai-on-eks/ko/assets/css/styles.c270b852.css">
<script src="/ai-on-eks/ko/assets/js/runtime~main.84f685ef.js" defer="defer"></script>
<script src="/ai-on-eks/ko/assets/js/main.62626cce.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#667eea;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">GenAI on EKS workshop series! <a target="_blank" rel="noopener noreferrer" href="https://aws-experience.com/emea/smb/events/series/get-hands-on-with-amazon-eks?trk=9be4af2e-2339-40ae-b5e9-57b6a7704c36&sc_channel=el" style="color: #ffffff; text-decoration: underline; font-weight: bold; margin-left: 10px;">Register now â†’</a></div><button type="button" aria-label="ë‹«ê¸°" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ë©”ì¸" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="ì‚¬ì´ë“œë°” í¼ì¹˜ê±°ë‚˜ ì ‘ê¸°" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ai-on-eks/ko/"><div class="navbar__logo"><img src="/ai-on-eks/ko/img/header-icon.png" alt="AIoEKS ë¡œê³ " class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ai-on-eks/ko/img/header-icon.png" alt="AIoEKS ë¡œê³ " class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/ai-on-eks/ko/docs/infra">ì¸í”„ë¼</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ai-on-eks/ko/docs/blueprints">ë¸”ë£¨í”„ë¦°íŠ¸</a><a class="navbar__item navbar__link" href="/ai-on-eks/ko/docs/guidance">ê°€ì´ë“œ</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/awslabs/ai-on-eks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>í•œêµ­ì–´</a><ul class="dropdown__menu"><li><a href="/ai-on-eks/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ko-KR">í•œêµ­ì–´</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="ì–´ë‘ìš´ ëª¨ë“œì™€ ë°ì€ ëª¨ë“œ ì „í™˜í•˜ê¸° (í˜„ì¬ system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤í•˜ê¸°" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ë¬¸ì„œ ì‚¬ì´ë“œë°”" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ai-on-eks/ko/docs/blueprints"><span title="ê°œìš”" class="linkLabel_WmDU">ê°œìš”</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/ai-on-eks/ko/docs/blueprints/inference"><span title="EKSì—ì„œì˜ ì¶”ë¡ " class="categoryLinkLabel_W154">EKSì—ì„œì˜ ì¶”ë¡ </span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;EKSì—ì„œì˜ ì¶”ë¡ &#x27; ì ‘ê¸°" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/ai-on-eks/ko/docs/category/framework-specific-deployment-guides"><span title="Framework-Specific Deployment Guides" class="categoryLinkLabel_W154">Framework-Specific Deployment Guides</span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;Framework-Specific Deployment Guides&#x27; ì ‘ê¸°" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/ai-on-eks/ko/docs/category/gpu-inference-on-eks"><span title="EKSì—ì„œì˜ GPU ì¶”ë¡ " class="categoryLinkLabel_W154">EKSì—ì„œì˜ GPU ì¶”ë¡ </span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;EKSì—ì„œì˜ GPU ì¶”ë¡ &#x27; ì ‘ê¸°" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-rayserve"><span title="RayServeì™€ vLLM" class="linkLabel_WmDU">RayServeì™€ vLLM</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer"><span title="NVIDIA Triton Serverì™€ vLLM" class="linkLabel_WmDU">NVIDIA Triton Serverì™€ vLLM</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus"><span title="GPUì—ì„œì˜ Stable Diffusion" class="linkLabel_WmDU">GPUì—ì„œì˜ Stable Diffusion</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-nim-llama3"><span title="Amazon EKSì—ì„œì˜ NVIDIA NIM LLM" class="linkLabel_WmDU">Amazon EKSì—ì„œì˜ NVIDIA NIM LLM</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-nim-operator"><span title="EKSì˜ NVIDIA NIM Operator" class="linkLabel_WmDU">EKSì˜ NVIDIA NIM Operator</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/ray-vllm-deepseek"><span title="EKSì—ì„œì˜ DeepSeek-R1" class="linkLabel_WmDU">EKSì—ì„œì˜ DeepSeek-R1</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-dynamo"><span title="Amazon EKSì˜ NVIDIA Dynamo" class="linkLabel_WmDU">Amazon EKSì˜ NVIDIA Dynamo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-deep-research"><span title="EKSì˜ NVIDIA Enterprise RAG ë° AI-Q Research Assistant" class="linkLabel_WmDU">EKSì˜ NVIDIA Enterprise RAG ë° AI-Q Research Assistant</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/llama4-vllm"><span title="Llama 4 with vLLM on EKS" class="linkLabel_WmDU">Llama 4 with vLLM on EKS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/aibrix-deepseek-distill"><span title="EKSì˜ AIBrix" class="linkLabel_WmDU">EKSì˜ AIBrix</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/ai-on-eks/ko/docs/category/neuron-inference-on-eks"><span title="EKSì—ì„œì˜ Neuron ì¶”ë¡ " class="categoryLinkLabel_W154">EKSì—ì„œì˜ Neuron ì¶”ë¡ </span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;EKSì—ì„œì˜ Neuron ì¶”ë¡ &#x27; í¼ì¹˜ê¸°" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ai-on-eks/ko/docs/blueprints/inference/inference-charts"><span title="ì¶”ë¡  ì°¨íŠ¸" class="linkLabel_WmDU">ì¶”ë¡  ì°¨íŠ¸</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/ai-on-eks/ko/docs/category/training-on-eks"><span title="EKSì—ì„œì˜ í•™ìŠµ" class="categoryLinkLabel_W154">EKSì—ì„œì˜ í•™ìŠµ</span></a><button aria-label="ì‚¬ì´ë“œë°” ë¶„ë¥˜ &#x27;EKSì—ì„œì˜ í•™ìŠµ&#x27; í¼ì¹˜ê¸°" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ai-on-eks/ko/docs/blueprints/gateways/envoy-gateway"><span title="ê²Œì´íŠ¸ì›¨ì´" class="categoryLinkLabel_W154">ê²Œì´íŠ¸ì›¨ì´</span></a></div></li></ul></nav><button type="button" title="ì‚¬ì´ë“œë°” ìˆ¨ê¸°ê¸°" aria-label="ì‚¬ì´ë“œë°” ìˆ¨ê¸°ê¸°" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="íƒìƒ‰ ê²½ë¡œ"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="í™ˆ" class="breadcrumbs__link" href="/ai-on-eks/ko/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai-on-eks/ko/docs/blueprints/inference"><span>EKSì—ì„œì˜ ì¶”ë¡ </span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai-on-eks/ko/docs/category/framework-specific-deployment-guides"><span>Framework-Specific Deployment Guides</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai-on-eks/ko/docs/category/gpu-inference-on-eks"><span>EKSì—ì„œì˜ GPU ì¶”ë¡ </span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">GPUì—ì„œì˜ Stable Diffusion</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">ì´ í˜ì´ì§€ì—ì„œ</button></div><div class="theme-doc-markdown markdown"><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>ê²½ê³ </div><div class="admonitionContent_BuS1"><p>EKSì—ì„œ ML ëª¨ë¸ì„ ë°°í¬í•˜ë ¤ë©´ GPU ë˜ëŠ” Neuron ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°°í¬ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì´ëŸ¬í•œ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ê¸° ë•Œë¬¸ì¸ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ë˜í•œ ì¼ë¶€ ë°°í¬ íŒ¨í„´ì€ Karpenter ìë™ ìŠ¤ì¼€ì¼ë§ê³¼ ì •ì  ë…¸ë“œ ê·¸ë£¹ì— ì˜ì¡´í•©ë‹ˆë‹¤. ë…¸ë“œê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šìœ¼ë©´ Karpenter ë˜ëŠ” ë…¸ë“œ ê·¸ë£¹ì˜ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš”.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>ì •ë³´</div><div class="admonitionContent_BuS1"><p>ê´€ì¸¡ì„±ê³¼ ë¡œê¹… ê°œì„  ì‚¬í•­ì„ í†µí•©í•˜ê¸° ìœ„í•´ ì´ ë¸”ë£¨í”„ë¦°íŠ¸ë¥¼ ì ê·¹ì ìœ¼ë¡œ ê°œì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p></div></div>
<header><h1>GPU, Ray Serve ë° Gradioë¥¼ ì‚¬ìš©í•œ Stable Diffusion v2 ë°°í¬</h1></header>
<p>ì´ íŒ¨í„´ì€ <a href="https://aws.amazon.com/ec2/instance-types/g4/" target="_blank" rel="noopener noreferrer">GPU</a>ë¥¼ ì‚¬ìš©í•˜ì—¬ Amazon EKSì—ì„œ <a href="https://huggingface.co/stabilityai/stable-diffusion-2-1" target="_blank" rel="noopener noreferrer">Stable Diffusion V2</a> ëª¨ë¸ì„ ë°°í¬í•˜ì—¬ ê°€ì†í™”ëœ ì´ë¯¸ì§€ ìƒì„±ì„ ì‹œì—°í•©ë‹ˆë‹¤. <a href="https://docs.ray.io/en/latest/serve/index.html" target="_blank" rel="noopener noreferrer">Ray Serve</a>ëŠ” ì—¬ëŸ¬ GPU ë…¸ë“œì—ì„œ íš¨ìœ¨ì ì¸ ìŠ¤ì¼€ì¼ë§ì„ ì œê³µí•˜ê³ , <a href="https://karpenter.sh/" target="_blank" rel="noopener noreferrer">Karpenter</a>ëŠ” ë…¸ë“œ í”„ë¡œë¹„ì €ë‹ì„ ë™ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
<p>ì´ íŒ¨í„´ì„ í†µí•´ ë‹¤ìŒì„ ë‹¬ì„±í•©ë‹ˆë‹¤:</p>
<ul>
<li>ë…¸ë“œì˜ ë™ì  ìŠ¤ì¼€ì¼ë§ì„ ìœ„í•œ Karpenter ê´€ë¦¬ GPU nodepoolì´ ìˆëŠ” Amazon EKS í´ëŸ¬ìŠ¤í„° ìƒì„±.</li>
<li><a href="https://github.com/awslabs/ai-on-eks/tree/main/infra/jark-stack/terraform" target="_blank" rel="noopener noreferrer">jark-stack</a> Terraform ë¸”ë£¨í”„ë¦°íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ KubeRay Operator ë° ê¸°íƒ€ í•µì‹¬ EKS ì• ë“œì˜¨ ì„¤ì¹˜.</li>
<li>GPU ë¦¬ì†ŒìŠ¤ ì „ì²´ì—ì„œ íš¨ìœ¨ì ì¸ ìŠ¤ì¼€ì¼ë§ì„ ìœ„í•´ RayServeë¥¼ ì‚¬ìš©í•˜ì—¬ Stable Diffusion ëª¨ë¸ ë°°í¬</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stable-diffusionì´ë€">Stable Diffusionì´ë€?<a href="#stable-diffusionì´ë€" class="hash-link" aria-label="Stable Diffusionì´ë€?ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Stable Diffusionì´ë€?ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>Stable Diffusionì€ í…ìŠ¤íŠ¸ ì„¤ëª…ì—ì„œ ë©‹ì§€ê³  ìƒì„¸í•œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ìµœì²¨ë‹¨ í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ëª¨ë¸ì…ë‹ˆë‹¤. ì´ë¯¸ì§€ ìƒì„±ì„ í†µí•´ ìƒìƒë ¥ì„ ë°œíœ˜í•˜ê³ ì í•˜ëŠ” ì•„í‹°ìŠ¤íŠ¸, ë””ìì´ë„ˆ ë° ëª¨ë“  ì‚¬ëŒì„ ìœ„í•œ ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. ì´ ëª¨ë¸ì€ ì´ë¯¸ì§€ ìƒì„± í”„ë¡œì„¸ìŠ¤ì—ì„œ ë†’ì€ ìˆ˜ì¤€ì˜ ì°½ì˜ì  ì œì–´ì™€ ìœ ì—°ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì†”ë£¨ì…˜-ë°°í¬">ì†”ë£¨ì…˜ ë°°í¬<a href="#ì†”ë£¨ì…˜-ë°°í¬" class="hash-link" aria-label="ì†”ë£¨ì…˜ ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì†”ë£¨ì…˜ ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>Amazon EKSì—ì„œ Stable Diffusion v2-1ì„ ì‹œì‘í•´ ë³´ê² ìŠµë‹ˆë‹¤! ì´ ì„¹ì…˜ì—ì„œ ë‹¤ë£° ë‚´ìš©ì€:</p>
<ul>
<li><strong>ì‚¬ì „ ìš”êµ¬ ì‚¬í•­</strong>: ëª¨ë“  ê²ƒì´ ì¤€ë¹„ë˜ì—ˆëŠ”ì§€ í™•ì¸.</li>
<li><strong>ì¸í”„ë¼ ì„¤ì •</strong>: EKS í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ê³  ë°°í¬ ì¤€ë¹„.</li>
<li><strong>Ray í´ëŸ¬ìŠ¤í„° ë°°í¬</strong>: í™•ì¥ì„±ê³¼ íš¨ìœ¨ì„±ì„ ì œê³µí•˜ëŠ” ì´ë¯¸ì§€ ìƒì„± íŒŒì´í”„ë¼ì¸ì˜ í•µì‹¬.</li>
<li><strong>Gradio Web UI êµ¬ì¶•</strong>: Stable Diffusionê³¼ ìƒí˜¸ ì‘ìš©í•˜ê¸° ìœ„í•œ ì‚¬ìš©ì ì¹œí™”ì ì¸ ì¸í„°í˜ì´ìŠ¤.</li>
</ul>
<div class="collapsibleContent_q3kw"><div class="header_QCEw"><h2><span>ì‚¬ì „ ìš”êµ¬ ì‚¬í•­</span></h2><span class="icon_PckA">ğŸ‘ˆ</span></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stable-diffusion-ëª¨ë¸ì„-í¬í•¨í•œ-ray-í´ëŸ¬ìŠ¤í„°-ë°°í¬">Stable Diffusion ëª¨ë¸ì„ í¬í•¨í•œ Ray í´ëŸ¬ìŠ¤í„° ë°°í¬<a href="#stable-diffusion-ëª¨ë¸ì„-í¬í•¨í•œ-ray-í´ëŸ¬ìŠ¤í„°-ë°°í¬" class="hash-link" aria-label="Stable Diffusion ëª¨ë¸ì„ í¬í•¨í•œ Ray í´ëŸ¬ìŠ¤í„° ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Stable Diffusion ëª¨ë¸ì„ í¬í•¨í•œ Ray í´ëŸ¬ìŠ¤í„° ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p><code>jark-stack</code> í´ëŸ¬ìŠ¤í„°ê°€ ë°°í¬ë˜ë©´ <code>kubectl</code>ì„ ì‚¬ìš©í•˜ì—¬ <code>/ai-on-eks/blueprints/inference/stable-diffusion-rayserve-gpu/</code> ê²½ë¡œì—ì„œ <code>ray-service-stablediffusion.yaml</code>ì„ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ ë‹¨ê³„ì—ì„œëŠ” Karpenter ìë™ ìŠ¤ì¼€ì¼ë§ì„ ì‚¬ìš©í•˜ì—¬ <code>x86 CPU</code> ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í•˜ë‚˜ì˜ <code>Head Pod</code>ì™€ <a href="https://karpenter.sh/" target="_blank" rel="noopener noreferrer">Karpenter</a>ì— ì˜í•´ ìë™ ìŠ¤ì¼€ì¼ë§ë˜ëŠ” <code>g5.2xlarge</code> ì¸ìŠ¤í„´ìŠ¤ì—ì„œ <code>Ray workers</code>ë¡œ êµ¬ì„±ëœ Ray Serve í´ëŸ¬ìŠ¤í„°ë¥¼ ë°°í¬í•©ë‹ˆë‹¤.</p>
<p>ì´ ë°°í¬ì— ì‚¬ìš©ë˜ëŠ” ì£¼ìš” íŒŒì¼ì„ ìì„¸íˆ ì‚´í´ë³´ê³  ë°°í¬ë¥¼ ì§„í–‰í•˜ê¸° ì „ì— ê¸°ëŠ¥ì„ ì´í•´í•˜ê² ìŠµë‹ˆë‹¤:</p>
<ul>
<li>
<p><strong>ray_serve_sd.py:</strong>
ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” GPU ì¥ì°© ì¸í”„ë¼ì—ì„œ í™•ì¥ ê°€ëŠ¥í•œ ëª¨ë¸ ì„œë¹™ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” Ray Serveë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬ëœ ë‘ ê°€ì§€ ì£¼ìš” êµ¬ì„± ìš”ì†Œê°€ ìˆëŠ” FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤:</p>
<ul>
<li><strong>StableDiffusionV2 Deployment</strong>: ì´ í´ë˜ìŠ¤ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ Stable Diffusion V2 ëª¨ë¸ì„ ì´ˆê¸°í™”í•˜ê³  ì²˜ë¦¬ë¥¼ ìœ„í•´ GPUë¡œ ì´ë™í•©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ í”„ë¡¬í”„íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, ì´ë¯¸ì§€ í¬ê¸°ëŠ” ì…ë ¥ íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li><strong>APIIngress</strong>: ì´ FastAPI ì—”ë“œí¬ì¸íŠ¸ëŠ” Stable Diffusion ëª¨ë¸ì— ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ ì—­í• ì„ í•©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ í”„ë¡¬í”„íŠ¸ì™€ ì„ íƒì  ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ë°›ëŠ” <code>/imagine</code> ê²½ë¡œì—ì„œ GET ë©”ì„œë“œë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤. Stable Diffusion ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³  PNG íŒŒì¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.</li>
</ul>
</li>
<li>
<p><strong>ray-service-stablediffusion.yaml:</strong>
ì´ RayServe ë°°í¬ íŒ¨í„´ì€ GPU ì§€ì›ì´ í¬í•¨ëœ Amazon EKSì—ì„œ Stable Diffusion ëª¨ë¸ì„ í˜¸ìŠ¤íŒ…í•˜ê¸° ìœ„í•œ í™•ì¥ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì „ìš© ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ìˆ˜ì‹  íŠ¸ë˜í”½ì— ë”°ë¼ ë¦¬ì†ŒìŠ¤ í™œìš©ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ìë™ ìŠ¤ì¼€ì¼ë§ ê¸°ëŠ¥ì´ ìˆëŠ” RayServiceë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. ë°°í¬ëŠ” RayService ìš°ì‚° ì•„ë˜ì—ì„œ ì„œë¹™ë˜ëŠ” ëª¨ë¸ì´ ìˆ˜ìš”ì— ë”°ë¼ 1ê°œì—ì„œ 4ê°œì˜ ë ˆí”Œë¦¬ì¹´ ì‚¬ì´ì—ì„œ ìë™ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ë©°, ê° ë ˆí”Œë¦¬ì¹´ì—ëŠ” GPUê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ì„±ëŠ¥ì„ ê·¹ëŒ€í™”í•˜ê³  ë¬´ê±°ìš´ ì˜ì¡´ì„±ì´ ë¯¸ë¦¬ ë¡œë“œë˜ë„ë¡ í•˜ì—¬ ì‹œì‘ ì§€ì—°ì„ ìµœì†Œí™”í•˜ë„ë¡ ì„¤ê³„ëœ ì‚¬ìš©ì ì •ì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stable-diffusion-v2-ëª¨ë¸-ë°°í¬">Stable Diffusion V2 ëª¨ë¸ ë°°í¬<a href="#stable-diffusion-v2-ëª¨ë¸-ë°°í¬" class="hash-link" aria-label="Stable Diffusion V2 ëª¨ë¸ ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Stable Diffusion V2 ëª¨ë¸ ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>í´ëŸ¬ìŠ¤í„°ê°€ ë¡œì»¬ì—ì„œ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws eks </span><span class="token parameter variable" style="color:#36acaa">--region</span><span class="token plain"> us-west-2 update-kubeconfig </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> jark-stack</span><br></span></code></pre></div></div>
<p><strong>RayServe í´ëŸ¬ìŠ¤í„° ë°°í¬</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ai-on-eks/blueprints/inference/stable-diffusion-rayserve-gpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> ray-service-stablediffusion.yaml</span><br></span></code></pre></div></div>
<p>ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ë°°í¬ë¥¼ í™•ì¸í•©ë‹ˆë‹¤</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>ì •ë³´</div><div class="admonitionContent_BuS1"><p>ë°ì´í„° ë³¼ë¥¨ì— ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•˜ì§€ ì•Šì€ ê²½ìš° ë°°í¬ í”„ë¡œì„¸ìŠ¤ì— ìµœëŒ€ 10<del>12ë¶„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Head PodëŠ” 2</del>3ë¶„ ë‚´ì— ì¤€ë¹„ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ë©°, Ray Serve ì›Œì»¤ íŒŒë“œëŠ” Huggingfaceì—ì„œ ì´ë¯¸ì§€ ê²€ìƒ‰ ë° ëª¨ë¸ ë°°í¬ì— ìµœëŒ€ 10ë¶„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p></div></div>
<p>ì´ ë°°í¬ëŠ” ì•„ë˜ì™€ ê°™ì´ x86 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‹¤í–‰ë˜ëŠ” Ray head íŒŒë“œì™€ GPU G5 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì›Œì»¤ íŒŒë“œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> stablediffusion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                                      READY   STATUS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rservice-raycluster-hb4l4-worker-gpu-worker-group-z8gdw   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stablediffusion-service-raycluster-hb4l4-head-4kfzz       </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">/2     Running</span><br></span></code></pre></div></div>
<p>ë°ì´í„° ë³¼ë¥¨ì— ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•œ ê²½ìš° <code>kubectl describe pod -n stablediffusion</code> ì¶œë ¥ì—ì„œ <code>Container image &quot;public.ecr.aws/data-on-eks/ray2.11.0-py310-gpu-stablediffusion:latest&quot; already present on machine</code> ë©”ì‹œì§€ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe pod -n stablediffusion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Events:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Type     Reason            Age                From               Message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ----     ------            ----               ----               -------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Warning  FailedScheduling  41m                default-scheduler  0/8 nodes are available: 1 Insufficient cpu, 3 Insufficient memory, 8 Insufficient nvidia.com/gpu. preemption: 0/8 nodes are available: 8 No preemption victims found for incoming pod.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal   Nominated         41m                karpenter          Pod should schedule on: nodeclaim/gpu-ljvhl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal   Scheduled         40m                default-scheduler  Successfully assigned stablediffusion/stablediffusion-raycluster-ms6pl-worker-gpu-85d22 to ip-100-64-136-72.us-west-2.compute.internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal   Pulled            40m                kubelet            Container image &quot;public.ecr.aws/data-on-eks/ray2.11.0-py310-gpu-stablediffusion:latest&quot; already present on machine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal   Created           40m                kubelet            Created container wait-gcs-ready</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal   Started           40m                kubelet            Started container wait-gcs-ready</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal   Pulled            39m                kubelet            Container image &quot;public.ecr.aws/data-on-eks/ray2.11.0-py310-gpu-stablediffusion:latest&quot; already present on machine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal   Created           39m                kubelet            Created container worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal   Started           38m                kubelet            Started container worker</span><br></span></code></pre></div></div>
<p>ì´ ë°°í¬ëŠ” ë˜í•œ ì—¬ëŸ¬ í¬íŠ¸ê°€ êµ¬ì„±ëœ stablediffusion ì„œë¹„ìŠ¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. í¬íŠ¸ <code>8265</code>ëŠ” Ray ëŒ€ì‹œë³´ë“œìš©ì´ê³  í¬íŠ¸ <code>8000</code>ì€ Stable Diffusion ëª¨ë¸ ì—”ë“œí¬ì¸íŠ¸ìš©ì…ë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get svc </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> stablediffusion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                TYPE       CLUSTER-IP       EXTERNAL-IP   PORT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stablediffusion-service             NodePort   </span><span class="token number" style="color:#36acaa">172.20</span><span class="token plain">.223.142   </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">none</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:30213/TCP,6379:30386/TCP,8265:30857/TCP,10001:30666/TCP,8000:31194/TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stablediffusion-service-head-svc    NodePort   </span><span class="token number" style="color:#36acaa">172.20</span><span class="token plain">.215.100   </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">none</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">8265</span><span class="token plain">:30170/TCP,10001:31246/TCP,8000:30376/TCP,8080:32646/TCP,6379:31846/TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stablediffusion-service-serve-svc   NodePort   </span><span class="token number" style="color:#36acaa">172.20</span><span class="token plain">.153.125   </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">none</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">8000</span><span class="token plain">:31459/TCP</span><br></span></code></pre></div></div>
<p>Ray ëŒ€ì‹œë³´ë“œì˜ ê²½ìš° ì´ëŸ¬í•œ í¬íŠ¸ë¥¼ ê°œë³„ì ìœ¼ë¡œ í¬íŠ¸ í¬ì›Œë”©í•˜ì—¬ localhostë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ UIì— ë¡œì»¬ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward svc/stablediffusion-service </span><span class="token number" style="color:#36acaa">8266</span><span class="token plain">:8265 </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> stablediffusion</span><br></span></code></pre></div></div>
<p><code>http://localhost:8265</code>ì—ì„œ ì›¹ UIì— ì ‘ê·¼í•˜ì„¸ìš”. ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” Ray ì—ì½”ì‹œìŠ¤í…œ ë‚´ì˜ ì‘ì—… ë° ì•¡í„° ë°°í¬ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.</p>
<p><img decoding="async" loading="lazy" alt="RayServe Deployment" src="/ai-on-eks/ko/assets/images/ray-serve-gpu-sd-11dd36b4e8e36ff5aa4e053e6e721b50.png" width="3062" height="1848" class="img_ev3q"></p>
<p>ì œê³µëœ ìŠ¤í¬ë¦°ìƒ·ì€ Serve ë°°í¬ì™€ Ray í´ëŸ¬ìŠ¤í„° ë°°í¬ë¥¼ ë³´ì—¬ì£¼ë©°, ì„¤ì • ë° ìš´ì˜ ìƒíƒœì— ëŒ€í•œ ì‹œê°ì  ê°œìš”ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
<p><img decoding="async" loading="lazy" alt="RayServe Cluster" src="/ai-on-eks/ko/assets/images/ray-serve-gpu-sd-cluster-3f6ac2895cf3f6b1400dfc38c42161ca.png" width="3810" height="1838" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gradio-webui-ì•±-ë°°í¬">Gradio WebUI ì•± ë°°í¬<a href="#gradio-webui-ì•±-ë°°í¬" class="hash-link" aria-label="Gradio WebUI ì•± ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Gradio WebUI ì•± ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>ë°°í¬ëœ ëª¨ë¸ê³¼ ì›í™œí•˜ê²Œ í†µí•©ë˜ëŠ” <a href="https://www.gradio.app/" target="_blank" rel="noopener noreferrer">Gradio</a>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì¹œí™”ì ì¸ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”.</p>
<p>localhostì—ì„œ Docker ì»¨í…Œì´ë„ˆë¡œ Gradio ì•±ì„ ì„¤ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì´ ì„¤ì •ì„ í†µí•´ RayServeë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬ëœ Stable Diffusion XL ëª¨ë¸ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gradio-ì•±-docker-ì»¨í…Œì´ë„ˆ-ë¹Œë“œ">Gradio ì•± Docker ì»¨í…Œì´ë„ˆ ë¹Œë“œ<a href="#gradio-ì•±-docker-ì»¨í…Œì´ë„ˆ-ë¹Œë“œ" class="hash-link" aria-label="Gradio ì•± Docker ì»¨í…Œì´ë„ˆ ë¹Œë“œì— ëŒ€í•œ ì§ì ‘ ë§ í¬" title="Gradio ì•± Docker ì»¨í…Œì´ë„ˆ ë¹Œë“œì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>ë¨¼ì € í´ë¼ì´ì–¸íŠ¸ ì•±ìš© Docker ì»¨í…Œì´ë„ˆë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ai-on-eks/blueprints/inference/gradio-ui</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#36acaa">--platform</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">linux/amd64 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> gradio-app:sd </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --build-arg </span><span class="token assign-left variable" style="color:#36acaa">GRADIO_APP</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;gradio-app-stable-diffusion.py&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">.</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gradio-ì»¨í…Œì´ë„ˆ-ë°°í¬">Gradio ì»¨í…Œì´ë„ˆ ë°°í¬<a href="#gradio-ì»¨í…Œì´ë„ˆ-ë°°í¬" class="hash-link" aria-label="Gradio ì»¨í…Œì´ë„ˆ ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Gradio ì»¨í…Œì´ë„ˆ ë°°í¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p>Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ localhostì—ì„œ ì»¨í…Œì´ë„ˆë¡œ Gradio ì•±ì„ ë°°í¬í•©ë‹ˆë‹¤:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-it</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7860</span><span class="token plain">:7860 </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8000</span><span class="token plain">:8000 gradio-app:sd</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>ì •ë³´</div><div class="admonitionContent_BuS1"><p>Docker Desktopì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  <a href="https://runfinch.com/" target="_blank" rel="noopener noreferrer">finch</a>ì™€ ê°™ì€ ê²ƒì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ ì‚¬ìš©ì ì •ì˜ í˜¸ìŠ¤íŠ¸-IP ë§¤í•‘ì„ ìœ„í•œ ì¶”ê°€ í”Œë˜ê·¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm -it \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --add-host ray-service:&lt;workstation-ip&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e &quot;SERVICE_NAME=http://ray-service:8000&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p 7860:7860 gradio-app:sd</span><br></span></code></pre></div></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="webui-í˜¸ì¶œ">WebUI í˜¸ì¶œ<a href="#webui-í˜¸ì¶œ" class="hash-link" aria-label="WebUI í˜¸ì¶œì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="WebUI í˜¸ì¶œì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h4>
<p>ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì—´ê³  ë‹¤ìŒ URLë¡œ ì´ë™í•˜ì—¬ Gradio WebUIì— ì ‘ê·¼í•©ë‹ˆë‹¤:</p>
<p>ë¡œì»¬ URLì—ì„œ ì‹¤í–‰ ì¤‘: <a href="http://localhost:7860" target="_blank" rel="noopener noreferrer">http://localhost:7860</a></p>
<p>ì´ì œ ë¡œì»¬ ë¨¸ì‹ ì—ì„œ Gradio ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img decoding="async" loading="lazy" alt="Gradio Output" src="/ai-on-eks/ko/assets/images/gradio-app-gpu-acc504535ea3b57ab6e212e86ea12e4f.png" width="2752" height="1356" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ray-ìë™-ìŠ¤ì¼€ì¼ë§">Ray ìë™ ìŠ¤ ì¼€ì¼ë§<a href="#ray-ìë™-ìŠ¤ì¼€ì¼ë§" class="hash-link" aria-label="Ray ìë™ ìŠ¤ì¼€ì¼ë§ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="Ray ìë™ ìŠ¤ì¼€ì¼ë§ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h3>
<p><code>ray-serve-stablediffusion.yaml</code> íŒŒì¼ì— ìì„¸íˆ ì„¤ëª…ëœ Ray ìë™ ìŠ¤ì¼€ì¼ë§ êµ¬ì„±ì€ Kubernetesì—ì„œ Rayì˜ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ê³„ì‚° ìš”êµ¬ì— ë”°ë¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë™ì ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§í•©ë‹ˆë‹¤.</p>
<ol>
<li><strong>ìˆ˜ì‹  íŠ¸ë˜í”½</strong>: stable-diffusion ë°°í¬ì— ëŒ€í•œ ìˆ˜ì‹  ìš”ì²­ì€ Ray Serveê°€ ê¸°ì¡´ ë ˆí”Œë¦¬ì¹´ì˜ ë¶€í•˜ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ë„ë¡ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤.</li>
<li><strong>ë©”íŠ¸ë¦­ ê¸°ë°˜ ìŠ¤ì¼€ì¼ë§</strong>: Ray ServeëŠ” ë ˆí”Œë¦¬ì¹´ë‹¹ í‰ê·  ì§„í–‰ ì¤‘ì¸ ìš”ì²­ ìˆ˜ë¥¼ ì¶”ì í•©ë‹ˆë‹¤. ì´ êµ¬ì„±ì—ì„œëŠ” <code>target_num_ongoing_requests_per_replica</code>ê°€ 1ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ë©”íŠ¸ë¦­ì´ ì„ê³„ê°’ì„ ì´ˆê³¼í•˜ë©´ ë” ë§ì€ ë ˆí”Œë¦¬ì¹´ê°€ í•„ìš”í•˜ë‹¤ëŠ” ì‹ í˜¸ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.</li>
<li><strong>ë ˆí”Œë¦¬ì¹´ ìƒì„± (ë…¸ë“œ ë‚´)</strong>: ë…¸ë“œì— ì¶©ë¶„í•œ GPU ìš©ëŸ‰ì´ ìˆìœ¼ë©´ Ray ServeëŠ” ê¸°ì¡´ ë…¸ë“œ ë‚´ì— ìƒˆ ë ˆí”Œë¦¬ì¹´ë¥¼ ì¶”ê°€í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤. ë°°í¬ëŠ” ë ˆí”Œë¦¬ì¹´ë‹¹ 1ê°œì˜ GPUë¥¼ ìš”ì²­í•©ë‹ˆë‹¤ (<code>ray_actor_options: num_gpus: 1</code>).</li>
<li><strong>ë…¸ë“œ ìŠ¤ì¼€ì¼ë§ (Karpenter)</strong>: ë…¸ë“œê°€ ì¶”ê°€ ë ˆí”Œë¦¬ì¹´ë¥¼ ìˆ˜ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš° (ì˜ˆ: ë…¸ë“œë‹¹ í•˜ë‚˜ì˜ GPUë§Œ ìˆëŠ” ê²½ìš°), RayëŠ” Kubernetesì— ë” ë§ì€ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•˜ë‹¤ê³  ì‹ í˜¸ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. KarpenterëŠ” Kubernetesì˜ ë³´ë¥˜ ì¤‘ì¸ íŒŒë“œ ìš”ì²­ì„ ê´€ì°°í•˜ê³  ë¦¬ì†ŒìŠ¤ ìš”êµ¬ë¥¼ ì¶©ì¡±í•˜ê¸° ìœ„í•´ ìƒˆ g5 GPU ë…¸ë“œë¥¼ í”„ë¡œë¹„ì €ë‹í•©ë‹ˆë‹¤.</li>
<li><strong>ë ˆí”Œë¦¬ì¹´ ìƒì„± (ë…¸ë“œ ê°„)</strong>: ìƒˆ ë…¸ë“œê°€ ì¤€ë¹„ë˜ë©´ Ray ServeëŠ” ìƒˆë¡œ í”„ë¡œë¹„ì €ë‹ëœ ë…¸ë“œì— ì¶”ê°€ ë ˆí”Œë¦¬ì¹´ë¥¼ ìŠ¤ì¼€ì¤„ë§í•©ë‹ˆë‹¤.</li>
</ol>
<p><strong>ìë™ ìŠ¤ì¼€ì¼ë§ ì‹œë®¬ë ˆì´ì…˜:</strong></p>
<ol>
<li><strong>ë¶€í•˜ ìƒì„±</strong>: ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ê±°ë‚˜ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ stable diffusion ì„œë¹„ìŠ¤ì— ë²„ìŠ¤íŠ¸ ì´ë¯¸ì§€ ìƒì„± ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.</li>
<li><strong>ê´€ì°° (Ray Dashboard)</strong>: í¬íŠ¸ í¬ì›Œë”© ë˜ëŠ” í¼ë¸”ë¦­ NLB(êµ¬ì„±ëœ ê²½ìš°)ë¥¼ í†µí•´ <a href="http://your-cluster/dashboard%EC%97%90%EC%84%9C" target="_blank" rel="noopener noreferrer">http://your-cluster/dashboardì—ì„œ</a> Ray Dashboardì— ì ‘ê·¼í•©ë‹ˆë‹¤. ë‹¤ìŒ ë©”íŠ¸ë¦­ì´ ì–´ë–»ê²Œ ë³€ê²½ë˜ëŠ”ì§€ ê´€ì°°í•©ë‹ˆë‹¤:
ë°°í¬ì˜ ë ˆí”Œë¦¬ì¹´ ìˆ˜.
Ray í´ëŸ¬ìŠ¤í„°ì˜ ë…¸ë“œ ìˆ˜.</li>
<li><strong>ê´€ì°° (Kubernetes)</strong>: <code>kubectl get pods -n stablediffusion</code>ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ íŒŒë“œ ìƒì„±ì„ í™•ì¸í•©ë‹ˆë‹¤. <code>kubectl get nodes</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ Karpenterê°€ í”„ë¡œë¹„ì €ë‹í•œ ìƒˆ ë…¸ë“œë¥¼ ê´€ì°°í•©ë‹ˆë‹¤.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì •ë¦¬">ì •ë¦¬<a href="#ì •ë¦¬" class="hash-link" aria-label="ì •ë¦¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" title="ì •ë¦¬ì— ëŒ€í•œ ì§ì ‘ ë§í¬" translate="no">â€‹</a></h2>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ê°€ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì„ ë•Œ ì •ë¦¬í•˜ê³  í”„ë¡œë¹„ì €ë‹ì„ í•´ì œí•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.</p>
<p><strong>1ë‹¨ê³„:</strong> Gradio ì»¨í…Œì´ë„ˆ ì‚­ì œ</p>
<p><code>docker run</code>ì´ ì‹¤í–‰ ì¤‘ì¸ localhost í„°ë¯¸ë„ ì°½ì—ì„œ <code>Ctrl-c</code>ë¥¼ ëˆŒëŸ¬ Gradio ì•±ì„ ì‹¤í–‰í•˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤. ì„ íƒì ìœ¼ë¡œ Docker ì´ë¯¸ì§€ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> rmi gradio-app:sd</span><br></span></code></pre></div></div>
<p><strong>2ë‹¨ê³„:</strong> Ray í´ëŸ¬ìŠ¤í„° ì‚­ì œ</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ai-on-eks/blueprints/inference/stable-diffusion-rayserve-gpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> ray-service-stablediffusion.yaml</span><br></span></code></pre></div></div>
<p><strong>3ë‹¨ê³„:</strong> EKS í´ëŸ¬ìŠ¤í„° ì •ë¦¬
ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” <code>-target</code> ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ì‚­ì œë˜ë„ë¡ í™˜ê²½ì„ ì •ë¦¬í•©ë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ai-on-eks/infra/jark-stack/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./cleanup.sh</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/awslabs/ai-on-eks/blob/main/website/docs/blueprints/inference/framework-guides/GPUs/stablediffusion-gpus.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>í˜ì´ì§€ í¸ì§‘</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="ë¬¸ì„œ í˜ì´ì§€"><a class="pagination-nav__link pagination-nav__link--prev" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/vLLM-NVIDIATritonServer"><div class="pagination-nav__sublabel">ì´ì „</div><div class="pagination-nav__label">NVIDIA Triton Serverì™€ vLLM</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ai-on-eks/ko/docs/blueprints/inference/framework-guides/GPUs/nvidia-nim-llama3"><div class="pagination-nav__sublabel">ë‹¤ìŒ</div><div class="pagination-nav__label">Amazon EKSì—ì„œì˜ NVIDIA NIM LLM</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#stable-diffusionì´ë€" class="table-of-contents__link toc-highlight">Stable Diffusionì´ë€?</a></li><li><a href="#ì†”ë£¨ì…˜-ë°°í¬" class="table-of-contents__link toc-highlight">ì†”ë£¨ì…˜ ë°°í¬</a><ul><li><a href="#ì„ íƒ-ì‚¬í•­-bottlerocket-osì—-ì»¨í…Œì´ë„ˆ-ì´ë¯¸ì§€ë¥¼-ë¯¸ë¦¬-ë¡œë“œí•˜ì—¬-ì½œë“œ-ìŠ¤íƒ€íŠ¸-ì‹œê°„-ë‹¨ì¶•" class="table-of-contents__link toc-highlight">(ì„ íƒ ì‚¬í•­) Bottlerocket OSì— ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•˜ì—¬ ì½œë“œ ìŠ¤íƒ€íŠ¸ ì‹œê°„ ë‹¨ì¶•</a></li><li><a href="#ë°°í¬" class="table-of-contents__link toc-highlight">ë°°í¬</a></li><li><a href="#ë¦¬ì†ŒìŠ¤-í™•ì¸" class="table-of-contents__link toc-highlight">ë¦¬ì†ŒìŠ¤ í™•ì¸</a></li></ul></li><li><a href="#stable-diffusion-ëª¨ë¸ì„-í¬í•¨í•œ-ray-í´ëŸ¬ìŠ¤í„°-ë°°í¬" class="table-of-contents__link toc-highlight">Stable Diffusion ëª¨ë¸ì„ í¬í•¨í•œ Ray í´ëŸ¬ìŠ¤í„° ë°°í¬</a><ul><li><a href="#stable-diffusion-v2-ëª¨ë¸-ë°°í¬" class="table-of-contents__link toc-highlight">Stable Diffusion V2 ëª¨ë¸ ë°°í¬</a></li></ul></li><li><a href="#gradio-webui-ì•±-ë°°í¬" class="table-of-contents__link toc-highlight">Gradio WebUI ì•± ë°°í¬</a><ul><li><a href="#gradio-ì•±-docker-ì»¨í…Œì´ë„ˆ-ë¹Œë“œ" class="table-of-contents__link toc-highlight">Gradio ì•± Docker ì»¨í…Œì´ë„ˆ ë¹Œë“œ</a></li><li><a href="#gradio-ì»¨í…Œì´ë„ˆ-ë°°í¬" class="table-of-contents__link toc-highlight">Gradio ì»¨í…Œì´ë„ˆ ë°°í¬</a></li><li><a href="#ray-ìë™-ìŠ¤ì¼€ì¼ë§" class="table-of-contents__link toc-highlight">Ray ìë™ ìŠ¤ì¼€ì¼ë§</a></li></ul></li><li><a href="#ì •ë¦¬" class="table-of-contents__link toc-highlight">ì •ë¦¬</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">ì°¸ì—¬í•˜ê¸°</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/awslabs/ai-on-eks" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with â¤ï¸ at AWS  <br> Â© ${new Date().getFullYear()} Amazon.com, Inc. or its affiliates. All Rights Reserved</div></div></div></footer><script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;7fbc7ab02fae4767b1af2588eba0cdf2&quot;}"></script></div>
</body>
</html>