"use strict";(globalThis.webpackChunkdoeks_website=globalThis.webpackChunkdoeks_website||[]).push([[9429],{67984(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"infra/index","title":"Introduction","description":"The AIoEKS foundational infrastructure lives in the infra/base directory. This directory contains the base","source":"@site/docs/infra/index.md","sourceDirName":"infra","slug":"/infra/","permalink":"/ai-on-eks/docs/infra/","draft":false,"unlisted":false,"editUrl":"https://github.com/awslabs/ai-on-eks/blob/main/website/docs/infra/index.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0,"sidebar_label":"Introduction"},"sidebar":"infra","next":{"title":"Training","permalink":"/ai-on-eks/docs/category/training"}}');var d=r(74848),i=r(28453);const l={sidebar_position:0,sidebar_label:"Introduction"},t="Introduction",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Training Infrastructure",id:"training-infrastructure",level:3},{value:"Inference Infrastructure",id:"inference-infrastructure",level:3},{value:"Miscellaneous",id:"miscellaneous",level:3},{value:"Getting Started",id:"getting-started",level:3},{value:"Architecture Patterns",id:"architecture-patterns",level:3},{value:"Resources",id:"resources",level:2},{value:"Variables",id:"variables",level:2},{value:"Deployment",id:"deployment",level:3},{value:"JupyterHub",id:"jupyterhub",level:3},{value:"Custom Stacks",id:"custom-stacks",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"introduction",children:"Introduction"})}),"\n",(0,d.jsxs)(n.p,{children:["The AIoEKS foundational infrastructure lives in the ",(0,d.jsx)(n.code,{children:"infra/base"})," directory. This directory contains the base\ninfrastructure and all its modules that allow composing an environment that supports experimentation, AI/ML training,\nLLM inference, model tracking, and more."]}),"\n",(0,d.jsxs)(n.p,{children:["In the directory is a ",(0,d.jsx)(n.code,{children:"variables.tf"})," which contains all the parameters used to enable or disable desired modules (set to\n",(0,d.jsx)(n.code,{children:"false"})," by default). This enables the ability to deploy a bare environment with Karpenter and GPU and AWS Neuron\n",(0,d.jsx)(n.code,{children:"NodePool"}),"s to enable accelerator use and for further customization."]}),"\n",(0,d.jsxs)(n.p,{children:["The reference ",(0,d.jsx)(n.code,{children:"jark-stack"})," deploys an environment that facilitates quick AI/ML development by enabling Jupyterhub for\nexperimentation, the KubeRay operator for training and inference\nusing ",(0,d.jsx)(n.a,{href:"https://docs.ray.io/en/latest/cluster/getting-started.html",children:"Ray Clusters"}),", Argo Workflows for automating\nworkflows, and storage controllers and volumes. This allows deploying the ",(0,d.jsx)(n.code,{children:"notebooks"}),", ",(0,d.jsx)(n.code,{children:"training"}),", and ",(0,d.jsx)(n.code,{children:"inference"}),"\nblueprints in the ",(0,d.jsx)(n.code,{children:"blueprints"})," folder."]}),"\n",(0,d.jsx)(n.p,{children:"Other blueprints use the same base infrastructure and selectively enable other components based on the needs of the\nblueprint."}),"\n",(0,d.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,d.jsx)(n.p,{children:"AI on EKS provides comprehensive infrastructure solutions for deploying AI/ML workloads on Amazon EKS. Choose from pre-configured solutions optimized for training, inference, or general-purpose AI/ML workloads."}),"\n",(0,d.jsx)(n.h3,{id:"training-infrastructure",children:"Training Infrastructure"}),"\n",(0,d.jsx)(n.p,{children:"Infrastructure solutions optimized for AI/ML model training workloads:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/infra/training/jark",children:"JARK Stack on EKS"})})," - Complete stack for AI workloads with NVIDIA GPUs, including JupyterHub, Ray, and Kubeflow"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/infra/training/jupyterhub",children:"JupyterHub on EKS"})})," - Interactive development environment for data science and ML"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"inference-infrastructure",children:"Inference Infrastructure"}),"\n",(0,d.jsx)(n.p,{children:"Infrastructure solutions optimized for AI/ML model inference workloads:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/infra/inference/inference-ready-cluster",children:"Inference-Ready Cluster"})})," - Pre-configured EKS cluster for inference workloads"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/blueprints/inference/framework-guides/GPUs/nvidia-nim-llama3",children:"Nvidia NIM on EKS"})})," - Nvidia NIM deployment sample"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/blueprints/inference/framework-guides/GPUs/nvidia-dynamo",children:"Nvidia Dynamo on EKS"})})," - Nvidia Dyanmo deployment sample"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"miscellaneous",children:"Miscellaneous"}),"\n",(0,d.jsx)(n.p,{children:"Additional infrastructure solutions and utilities:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/infra/misc/emr-spark-rapids",children:"EMR Spark Rapids"})})," - GPU-accelerated Apache Spark on Amazon EMR"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/infra/misc/troubleshooting/",children:"Troubleshooting"})})," - Common issues and solutions"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"getting-started",children:"Getting Started"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Choose Your Use Case"}),": Select training or inference based on your workload requirements"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Deploy Infrastructure"}),": Follow the deployment guide for your chosen solution"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Deploy Workloads"}),": Use the ",(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/blueprints/",children:"Blueprints"})," to deploy your AI/ML workloads"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Optimize"}),": Apply ",(0,d.jsx)(n.a,{href:"/ai-on-eks/docs/guidance/",children:"Guidance"})," best practices"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"architecture-patterns",children:"Architecture Patterns"}),"\n",(0,d.jsx)(n.p,{children:"All infrastructure solutions follow these core principles:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Modular Design"}),": Compose solutions from reusable modules"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Best Practices"}),": Built-in security, observability, and scalability"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Cloud Native"}),": Leverage Kubernetes and AWS services"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Validated"}),": Tested and validated for enterprise workloads"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,d.jsxs)(n.p,{children:["Each stack inherits the ",(0,d.jsx)(n.code,{children:"base"})," stack's components. These components include:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"VPC with subnets in 2 availability zones"}),"\n",(0,d.jsx)(n.li,{children:"EKS cluster with 1 core nodegroup with 2 nodes to run the minimum infrastructure"}),"\n",(0,d.jsx)(n.li,{children:"Karpenter for autoscaling with CPU, GPU, and AWS Neuron NodePools"}),"\n",(0,d.jsx)(n.li,{children:"GPU/Neuron device drivers"}),"\n",(0,d.jsx)(n.li,{children:"GPU/Neuron monitoring agents"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"variables",children:"Variables"}),"\n",(0,d.jsx)(n.h3,{id:"deployment",children:"Deployment"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Variable Name"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Default"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"name"})}),(0,d.jsx)(n.td,{children:"The name of the Kubernetes cluster"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ai-stack"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"region"})}),(0,d.jsx)(n.td,{children:"The region for the cluster"}),(0,d.jsx)(n.td,{children:"us-east-1"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"eks_cluster_version"})}),(0,d.jsx)(n.td,{children:"The version of EKS to use"}),(0,d.jsx)(n.td,{children:"1.32"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"vpc_cidr"})}),(0,d.jsx)(n.td,{children:"The CIDR used for the VPC"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"10.1.0.0/21"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"secondary_cidr_blocks"})}),(0,d.jsx)(n.td,{children:"Secondary CIDR for the VPC"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"100.64.0.0/16"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_database_subnets"})}),(0,d.jsx)(n.td,{children:"Whether or not to enable the database subnets"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_aws_cloudwatch_metrics"})}),(0,d.jsx)(n.td,{children:"Enable the AWS Cloudwatch Metrics addon"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bottlerocket_data_disk_snapshot_id"})}),(0,d.jsx)(n.td,{children:"Attach a snapshot ID to the deployed nodes"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'""'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_aws_efs_csi_driver"})}),(0,d.jsx)(n.td,{children:"Enable the AWS EFS CSI driver"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_aws_efa_k8s_device_plugin"})}),(0,d.jsx)(n.td,{children:"Enable the AWS EFA device plugin"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_aws_fsx_csi_driver"})}),(0,d.jsx)(n.td,{children:"Enable the FSx device plugin"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"deploy_fsx_volume"})}),(0,d.jsx)(n.td,{children:"Deploy a simple FSx volume"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"fsx_pvc_namespace"})}),(0,d.jsx)(n.td,{children:"Namespace to provision the FSx PVC"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"default"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_amazon_prometheus"})}),(0,d.jsx)(n.td,{children:"Enable Amazon Managed Prometheus"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_amazon_emr"})}),(0,d.jsx)(n.td,{children:"Set up Amazon EMR"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_kube_prometheus_stack"})}),(0,d.jsx)(n.td,{children:"Enable the Kube Prometheus addon"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_kubecost"})}),(0,d.jsx)(n.td,{children:"Enable Kubecost"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_ai_ml_observability_stack"})}),(0,d.jsx)(n.td,{children:"Enable AI/ML observability addon"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_argo_workflows"})}),(0,d.jsx)(n.td,{children:"Enable Argo Workflow"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_argo_events"})}),(0,d.jsx)(n.td,{children:"Enable Argo Events"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_argocd"})}),(0,d.jsx)(n.td,{children:"Enable ArgoCD addon"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_mlflow_tracking"})}),(0,d.jsx)(n.td,{children:"Enable MLFlow Tracking"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_jupyterhub"})}),(0,d.jsx)(n.td,{children:"Enable JupyterHub"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_volcano"})}),(0,d.jsx)(n.td,{children:"Enable Volcano"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_kuberay_operator"})}),(0,d.jsx)(n.td,{children:"Enable KubeRay"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"huggingface_token"})}),(0,d.jsx)(n.td,{children:"Hugging Face token to use in environment"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DUMMY_TOKEN_REPLACE_ME"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_rayserve_ha_elastic_cache_redis"})}),(0,d.jsx)(n.td,{children:"Enable Rayserve high availability using ElastiCache"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_torchx_etcd"})}),(0,d.jsx)(n.td,{children:"Enable etcd for torchx"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_mpi_operator"})}),(0,d.jsx)(n.td,{children:"Enable the MPI Operator"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_aibrix_stack"})}),(0,d.jsx)(n.td,{children:"Enable the AIBrix stack"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"aibrix_stack_version"})}),(0,d.jsx)(n.td,{children:"AIBrix Stack version"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"v0.2.1"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_aws_load_balancer_controller"})}),(0,d.jsx)(n.td,{children:"Enable the AWS Load Balancer Controller"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_service_mutator_webhook"})}),(0,d.jsx)(n.td,{children:"Enable service-mutator webhook for AWS Load Balancer Controller"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_ingress_nginx"})}),(0,d.jsx)(n.td,{children:"Enable ingress-nginx addon"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_cert_manager"})}),(0,d.jsx)(n.td,{children:"Enable Cert Manager"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enable_slurm_operator"})}),(0,d.jsx)(n.td,{children:"Enable the Slinky Slurm Operator (with Cert Manager)"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"false"})})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"jupyterhub",children:"JupyterHub"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Variable Name"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Default"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"jupyter_hub_auth_mechanism"})}),(0,d.jsxs)(n.td,{children:["Which authorization mechanism to use for JupyterHub [",(0,d.jsx)(n.code,{children:"dummy"})," | ",(0,d.jsx)(n.code,{children:"cognito"})," | ",(0,d.jsx)(n.code,{children:"oauth"}),"]"]}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"dummy"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cognito_custom_domain"})}),(0,d.jsx)(n.td,{children:"Cognito domain prefix for Hosted UI authentication endpoints"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"eks"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"acm_certificate_domain"})}),(0,d.jsx)(n.td,{children:"Domain name used for the ACM certificate"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'""'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"jupyterhub_domain"})}),(0,d.jsx)(n.td,{children:"Domain name for JupyterHub (only used for cognito or oauth)"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'""'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"oauth_jupyter_client_id"})}),(0,d.jsx)(n.td,{children:"oauth clientid for JupyterHub. Only used for oauth"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'""'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"oauth_jupyter_client_secret"})}),(0,d.jsx)(n.td,{children:"oauth client secret. Only used for oauth"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'""'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"oauth_username_key"})}),(0,d.jsxs)(n.td,{children:["oauth field for username (e.g. ",(0,d.jsx)(n.code,{children:"preferred_username"}),"). Only needed for oauth"]}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'""'})})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"custom-stacks",children:"Custom Stacks"}),"\n",(0,d.jsxs)(n.p,{children:["With the variables above, it's very easy to compose a new environment tailored to your own needs. A ",(0,d.jsx)(n.code,{children:"custom"})," folder is\navailable in the ",(0,d.jsx)(n.code,{children:"infra"})," folder with a simple ",(0,d.jsx)(n.code,{children:"blueprint.tfvars"}),". By adding the variables above with the appropriate\nvalue, you are able to customize which addons you would like deployed to create an environment to support your\npreferences. Once the variables are added, run the ",(0,d.jsx)(n.code,{children:"install.sh"})," at the root of ",(0,d.jsx)(n.code,{children:"infra/custom"})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},28453(e,n,r){r.d(n,{R:()=>l,x:()=>t});var s=r(96540);const d={},i=s.createContext(d);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);